(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ym(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const kt={},hA=[],Di=()=>{},NF=()=>!1,Cp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xm=e=>e.startsWith("onUpdate:"),Gn=Object.assign,qm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},A3=Object.prototype.hasOwnProperty,pt=(e,t)=>A3.call(e,t),Ve=Array.isArray,pA=e=>Ep(e)==="[object Map]",RF=e=>Ep(e)==="[object Set]",ze=e=>typeof e=="function",Bn=e=>typeof e=="string",xo=e=>typeof e=="symbol",Zt=e=>e!==null&&typeof e=="object",HF=e=>(Zt(e)||ze(e))&&ze(e.then)&&ze(e.catch),DF=Object.prototype.toString,Ep=e=>DF.call(e),c3=e=>Ep(e).slice(8,-1),jF=e=>Ep(e)==="[object Object]",Zm=e=>Bn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Al=Ym(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Op=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},l3=/-\w/g,po=Op(e=>e.replace(l3,t=>t.slice(1).toUpperCase())),u3=/\B([A-Z])/g,Qs=Op(e=>e.replace(u3,"-$1").toLowerCase()),$F=Op(e=>e.charAt(0).toUpperCase()+e.slice(1)),zg=Op(e=>e?`on${$F(e)}`:""),os=(e,t)=>!Object.is(e,t),Vg=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},KF=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},f3=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let HB;const Sp=()=>HB||(HB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jm(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Bn(r)?g3(r):Jm(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(Bn(e)||Zt(e))return e}const d3=/;(?![^(]*\))/g,h3=/:([^]+)/,p3=/\/\*[^]*?\*\//g;function g3(e){const t={};return e.replace(p3,"").split(d3).forEach(n=>{if(n){const r=n.split(h3);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function e1(e){let t="";if(Bn(e))t=e;else if(Ve(e))for(let n=0;n<e.length;n++){const r=e1(e[n]);r&&(t+=r+" ")}else if(Zt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const v3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y3=Ym(v3);function GF(e){return!!e||e===""}const zF=e=>!!(e&&e.__v_isRef===!0),Ha=e=>Bn(e)?e:e==null?"":Ve(e)||Zt(e)&&(e.toString===DF||!ze(e.toString))?zF(e)?Ha(e.value):JSON.stringify(e,VF,2):String(e),VF=(e,t)=>zF(t)?VF(e,t.value):pA(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[Wg(r,a)+" =>"]=i,n),{})}:RF(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Wg(n))}:xo(t)?Wg(t):Zt(t)&&!Ve(t)&&!jF(t)?String(t):t,Wg=(e,t="")=>{var n;return xo(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class m3{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=cr;try{return cr=this,t()}finally{cr=n}}}on(){++this._on===1&&(this.prevScope=cr,cr=this)}off(){this._on>0&&--this._on===0&&(cr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function b3(){return cr}let _t;const Yg=new WeakSet;class WF{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cr&&cr.active&&cr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yg.has(this)&&(Yg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||XF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,DB(this),qF(this);const t=_t,n=ci;_t=this,ci=!0;try{return this.fn()}finally{ZF(this),_t=t,ci=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)r1(t);this.deps=this.depsTail=void 0,DB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nv(this)&&this.run()}get dirty(){return Nv(this)}}let YF=0,cl,ll;function XF(e,t=!1){if(e.flags|=8,t){e.next=ll,ll=e;return}e.next=cl,cl=e}function t1(){YF++}function n1(){if(--YF>0)return;if(ll){let t=ll;for(ll=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;cl;){let t=cl;for(cl=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function qF(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ZF(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),r1(r),w3(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Nv(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(JF(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function JF(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===kl)||(e.globalVersion=kl,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Nv(e))))return;e.flags|=2;const t=e.dep,n=_t,r=ci;_t=e,ci=!0;try{qF(e);const i=e.fn(e._value);(t.version===0||os(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{_t=n,ci=r,ZF(e),e.flags&=-3}}function r1(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)r1(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function w3(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ci=!0;const e_=[];function Fa(){e_.push(ci),ci=!1}function _a(){const e=e_.pop();ci=e===void 0?!0:e}function DB(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=_t;_t=void 0;try{t()}finally{_t=n}}}let kl=0,B3=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class t_{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_t||!ci||_t===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_t)n=this.activeLink=new B3(_t,this),_t.deps?(n.prevDep=_t.depsTail,_t.depsTail.nextDep=n,_t.depsTail=n):_t.deps=_t.depsTail=n,n_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=_t.depsTail,n.nextDep=void 0,_t.depsTail.nextDep=n,_t.depsTail=n,_t.deps===n&&(_t.deps=r)}return n}trigger(t){this.version++,kl++,this.notify(t)}notify(t){t1();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{n1()}}}function n_(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)n_(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Rv=new WeakMap,ss=Symbol(""),Hv=Symbol(""),Tl=Symbol("");function Dn(e,t,n){if(ci&&_t){let r=Rv.get(e);r||Rv.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new t_),i.map=r,i.key=n),i.track()}}function pa(e,t,n,r,i,a){const o=Rv.get(e);if(!o){kl++;return}const s=A=>{A&&A.trigger()};if(t1(),t==="clear")o.forEach(s);else{const A=Ve(e),c=A&&Zm(n);if(A&&n==="length"){const l=Number(r);o.forEach((u,f)=>{(f==="length"||f===Tl||!xo(f)&&f>=l)&&s(u)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(Tl)),t){case"add":A?c&&s(o.get("length")):(s(o.get(ss)),pA(e)&&s(o.get(Hv)));break;case"delete":A||(s(o.get(ss)),pA(e)&&s(o.get(Hv)));break;case"set":pA(e)&&s(o.get(ss));break}}n1()}function $s(e){const t=xt(e);return t===e?t:(Dn(t,"iterate",Tl),ji(e)?t:t.map(gs))}function i1(e){return Dn(e=xt(e),"iterate",Tl),e}function $a(e,t){return ps(e)?gA(e)?Ql(gs(t)):Ql(t):gs(t)}const x3={__proto__:null,[Symbol.iterator](){return Xg(this,Symbol.iterator,e=>$a(this,e))},concat(...e){return $s(this).concat(...e.map(t=>Ve(t)?$s(t):t))},entries(){return Xg(this,"entries",e=>(e[1]=$a(this,e[1]),e))},every(e,t){return oa(this,"every",e,t,void 0,arguments)},filter(e,t){return oa(this,"filter",e,t,n=>n.map(r=>$a(this,r)),arguments)},find(e,t){return oa(this,"find",e,t,n=>$a(this,n),arguments)},findIndex(e,t){return oa(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return oa(this,"findLast",e,t,n=>$a(this,n),arguments)},findLastIndex(e,t){return oa(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return oa(this,"forEach",e,t,void 0,arguments)},includes(...e){return qg(this,"includes",e)},indexOf(...e){return qg(this,"indexOf",e)},join(e){return $s(this).join(e)},lastIndexOf(...e){return qg(this,"lastIndexOf",e)},map(e,t){return oa(this,"map",e,t,void 0,arguments)},pop(){return gc(this,"pop")},push(...e){return gc(this,"push",e)},reduce(e,...t){return jB(this,"reduce",e,t)},reduceRight(e,...t){return jB(this,"reduceRight",e,t)},shift(){return gc(this,"shift")},some(e,t){return oa(this,"some",e,t,void 0,arguments)},splice(...e){return gc(this,"splice",e)},toReversed(){return $s(this).toReversed()},toSorted(e){return $s(this).toSorted(e)},toSpliced(...e){return $s(this).toSpliced(...e)},unshift(...e){return gc(this,"unshift",e)},values(){return Xg(this,"values",e=>$a(this,e))}};function Xg(e,t,n){const r=i1(e),i=r[t]();return r!==e&&!ji(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=n(a.value)),a}),i}const C3=Array.prototype;function oa(e,t,n,r,i,a){const o=i1(e),s=o!==e&&!ji(e),A=o[t];if(A!==C3[t]){const u=A.apply(e,a);return s?gs(u):u}let c=n;o!==e&&(s?c=function(u,f){return n.call(this,$a(e,u),f,e)}:n.length>2&&(c=function(u,f){return n.call(this,u,f,e)}));const l=A.call(o,c,r);return s&&i?i(l):l}function jB(e,t,n,r){const i=i1(e);let a=n;return i!==e&&(ji(e)?n.length>3&&(a=function(o,s,A){return n.call(this,o,s,A,e)}):a=function(o,s,A){return n.call(this,o,$a(e,s),A,e)}),i[t](a,...r)}function qg(e,t,n){const r=xt(e);Dn(r,"iterate",Tl);const i=r[t](...n);return(i===-1||i===!1)&&A1(n[0])?(n[0]=xt(n[0]),r[t](...n)):i}function gc(e,t,n=[]){Fa(),t1();const r=xt(e)[t].apply(e,n);return n1(),_a(),r}const E3=Ym("__proto__,__v_isRef,__isVue"),r_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xo));function O3(e){xo(e)||(e=String(e));const t=xt(this);return Dn(t,"has",e),t.hasOwnProperty(e)}class i_{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?U3:A_:a?s_:o_).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ve(t);if(!i){let A;if(o&&(A=x3[n]))return A;if(n==="hasOwnProperty")return O3}const s=Reflect.get(t,n,nr(t)?t:r);if((xo(n)?r_.has(n):E3(n))||(i||Dn(t,"get",n),a))return s;if(nr(s)){const A=o&&Zm(n)?s:s.value;return i&&Zt(A)?jv(A):A}return Zt(s)?i?jv(s):o1(s):s}}class a_ extends i_{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];const o=Ve(t)&&Zm(n);if(!this._isShallow){const c=ps(a);if(!ji(r)&&!ps(r)&&(a=xt(a),r=xt(r)),!o&&nr(a)&&!nr(r))return c||(a.value=r),!0}const s=o?Number(n)<t.length:pt(t,n),A=Reflect.set(t,n,r,nr(t)?t:i);return t===xt(i)&&(s?os(r,a)&&pa(t,"set",n,r):pa(t,"add",n,r)),A}deleteProperty(t,n){const r=pt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&pa(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!xo(n)||!r_.has(n))&&Dn(t,"has",n),r}ownKeys(t){return Dn(t,"iterate",Ve(t)?"length":ss),Reflect.ownKeys(t)}}class S3 extends i_{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const F3=new a_,_3=new S3,M3=new a_(!0);const Dv=e=>e,qu=e=>Reflect.getPrototypeOf(e);function k3(e,t,n){return function(...r){const i=this.__v_raw,a=xt(i),o=pA(a),s=e==="entries"||e===Symbol.iterator&&o,A=e==="keys"&&o,c=i[e](...r),l=n?Dv:t?Ql:gs;return!t&&Dn(a,"iterate",A?Hv:ss),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:s?[l(u[0]),l(u[1])]:l(u),done:f}},[Symbol.iterator](){return this}}}}function Zu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function T3(e,t){const n={get(i){const a=this.__v_raw,o=xt(a),s=xt(i);e||(os(i,s)&&Dn(o,"get",i),Dn(o,"get",s));const{has:A}=qu(o),c=t?Dv:e?Ql:gs;if(A.call(o,i))return c(a.get(i));if(A.call(o,s))return c(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&Dn(xt(i),"iterate",ss),i.size},has(i){const a=this.__v_raw,o=xt(a),s=xt(i);return e||(os(i,s)&&Dn(o,"has",i),Dn(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,A=xt(s),c=t?Dv:e?Ql:gs;return!e&&Dn(A,"iterate",ss),s.forEach((l,u)=>i.call(a,c(l),c(u),o))}};return Gn(n,e?{add:Zu("add"),set:Zu("set"),delete:Zu("delete"),clear:Zu("clear")}:{add(i){!t&&!ji(i)&&!ps(i)&&(i=xt(i));const a=xt(this);return qu(a).has.call(a,i)||(a.add(i),pa(a,"add",i,i)),this},set(i,a){!t&&!ji(a)&&!ps(a)&&(a=xt(a));const o=xt(this),{has:s,get:A}=qu(o);let c=s.call(o,i);c||(i=xt(i),c=s.call(o,i));const l=A.call(o,i);return o.set(i,a),c?os(a,l)&&pa(o,"set",i,a):pa(o,"add",i,a),this},delete(i){const a=xt(this),{has:o,get:s}=qu(a);let A=o.call(a,i);A||(i=xt(i),A=o.call(a,i)),s&&s.call(a,i);const c=a.delete(i);return A&&pa(a,"delete",i,void 0),c},clear(){const i=xt(this),a=i.size!==0,o=i.clear();return a&&pa(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=k3(i,e,t)}),n}function a1(e,t){const n=T3(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(pt(n,i)&&i in r?n:r,i,a)}const Q3={get:a1(!1,!1)},I3={get:a1(!1,!0)},L3={get:a1(!0,!1)};const o_=new WeakMap,s_=new WeakMap,A_=new WeakMap,U3=new WeakMap;function P3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N3(e){return e.__v_skip||!Object.isExtensible(e)?0:P3(c3(e))}function o1(e){return ps(e)?e:s1(e,!1,F3,Q3,o_)}function R3(e){return s1(e,!1,M3,I3,s_)}function jv(e){return s1(e,!0,_3,L3,A_)}function s1(e,t,n,r,i){if(!Zt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=N3(e);if(a===0)return e;const o=i.get(e);if(o)return o;const s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function gA(e){return ps(e)?gA(e.__v_raw):!!(e&&e.__v_isReactive)}function ps(e){return!!(e&&e.__v_isReadonly)}function ji(e){return!!(e&&e.__v_isShallow)}function A1(e){return e?!!e.__v_raw:!1}function xt(e){const t=e&&e.__v_raw;return t?xt(t):e}function H3(e){return!pt(e,"__v_skip")&&Object.isExtensible(e)&&KF(e,"__v_skip",!0),e}const gs=e=>Zt(e)?o1(e):e,Ql=e=>Zt(e)?jv(e):e;function nr(e){return e?e.__v_isRef===!0:!1}function D3(e){return nr(e)?e.value:e}const j3={get:(e,t,n)=>t==="__v_raw"?e:D3(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return nr(i)&&!nr(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function c_(e){return gA(e)?e:new Proxy(e,j3)}class $3{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new t_(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&_t!==this)return XF(this,!0),!0}get value(){const t=this.dep.track();return JF(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function K3(e,t,n=!1){let r,i;return ze(e)?r=e:(r=e.get,i=e.set),new $3(r,i,n)}const Ju={},Wd=new WeakMap;let Xo;function G3(e,t=!1,n=Xo){if(n){let r=Wd.get(n);r||Wd.set(n,r=[]),r.push(e)}}function z3(e,t,n=kt){const{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:A}=n,c=b=>i?b:ji(b)||i===!1||i===0?Ya(b,1):Ya(b);let l,u,f,d,h=!1,p=!1;if(nr(e)?(u=()=>e.value,h=ji(e)):gA(e)?(u=()=>c(e),h=!0):Ve(e)?(p=!0,h=e.some(b=>gA(b)||ji(b)),u=()=>e.map(b=>{if(nr(b))return b.value;if(gA(b))return c(b);if(ze(b))return A?A(b,2):b()})):ze(e)?t?u=A?()=>A(e,2):e:u=()=>{if(f){Fa();try{f()}finally{_a()}}const b=Xo;Xo=l;try{return A?A(e,3,[d]):e(d)}finally{Xo=b}}:u=Di,t&&i){const b=u,w=i===!0?1/0:i;u=()=>Ya(b(),w)}const g=b3(),v=()=>{l.stop(),g&&g.active&&qm(g.effects,l)};if(a&&t){const b=t;t=(...w)=>{b(...w),v()}}let y=p?new Array(e.length).fill(Ju):Ju;const m=b=>{if(!(!(l.flags&1)||!l.dirty&&!b))if(t){const w=l.run();if(i||h||(p?w.some((B,x)=>os(B,y[x])):os(w,y))){f&&f();const B=Xo;Xo=l;try{const x=[w,y===Ju?void 0:p&&y[0]===Ju?[]:y,d];y=w,A?A(t,3,x):t(...x)}finally{Xo=B}}}else l.run()};return s&&s(m),l=new WF(u),l.scheduler=o?()=>o(m,!1):m,d=b=>G3(b,!1,l),f=l.onStop=()=>{const b=Wd.get(l);if(b){if(A)A(b,4);else for(const w of b)w();Wd.delete(l)}},t?r?m(!0):y=l.run():o?o(m.bind(null,!0),!0):l.run(),v.pause=l.pause.bind(l),v.resume=l.resume.bind(l),v.stop=v,v}function Ya(e,t=1/0,n){if(t<=0||!Zt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,nr(e))Ya(e.value,t,n);else if(Ve(e))for(let r=0;r<e.length;r++)Ya(e[r],t,n);else if(RF(e)||pA(e))e.forEach(r=>{Ya(r,t,n)});else if(jF(e)){for(const r in e)Ya(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ya(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bu(e,t,n,r){try{return r?e(...r):e()}catch(i){Fp(i,t,n)}}function Yi(e,t,n,r){if(ze(e)){const i=bu(e,t,n,r);return i&&HF(i)&&i.catch(a=>{Fp(a,t,n)}),i}if(Ve(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Yi(e[a],t,n,r));return i}}function Fp(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||kt;if(t){let s=t.parent;const A=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const l=s.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,A,c)===!1)return}s=s.parent}if(a){Fa(),bu(a,null,10,[e,A,c]),_a();return}}V3(e,n,i,r,o)}function V3(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Zn=[];let Oi=-1;const vA=[];let Ka=null,aA=0;const l_=Promise.resolve();let Yd=null;function W3(e){const t=Yd||l_;return e?t.then(this?e.bind(this):e):t}function Y3(e){let t=Oi+1,n=Zn.length;for(;t<n;){const r=t+n>>>1,i=Zn[r],a=Il(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function c1(e){if(!(e.flags&1)){const t=Il(e),n=Zn[Zn.length-1];!n||!(e.flags&2)&&t>=Il(n)?Zn.push(e):Zn.splice(Y3(t),0,e),e.flags|=1,u_()}}function u_(){Yd||(Yd=l_.then(d_))}function X3(e){Ve(e)?vA.push(...e):Ka&&e.id===-1?Ka.splice(aA+1,0,e):e.flags&1||(vA.push(e),e.flags|=1),u_()}function $B(e,t,n=Oi+1){for(;n<Zn.length;n++){const r=Zn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Zn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function f_(e){if(vA.length){const t=[...new Set(vA)].sort((n,r)=>Il(n)-Il(r));if(vA.length=0,Ka){Ka.push(...t);return}for(Ka=t,aA=0;aA<Ka.length;aA++){const n=Ka[aA];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ka=null,aA=0}}const Il=e=>e.id==null?e.flags&2?-1:1/0:e.id;function d_(e){try{for(Oi=0;Oi<Zn.length;Oi++){const t=Zn[Oi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),bu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Oi<Zn.length;Oi++){const t=Zn[Oi];t&&(t.flags&=-2)}Oi=-1,Zn.length=0,f_(),Yd=null,(Zn.length||vA.length)&&d_()}}let Li=null,h_=null;function Xd(e){const t=Li;return Li=e,h_=e&&e.type.__scopeId||null,t}function q3(e,t=Li,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&JB(-1);const a=Xd(t);let o;try{o=e(...i)}finally{Xd(a),r._d&&JB(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Uo(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let A=s.dir[r];A&&(Fa(),Yi(A,n,8,[e.el,s,e,t]),_a())}}function Z3(e,t){if(Jn){let n=Jn.provides;const r=Jn.parent&&Jn.parent.provides;r===n&&(n=Jn.provides=Object.create(r)),n[e]=t}}function Od(e,t,n=!1){const r=ZD();if(r||yA){let i=yA?yA._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ze(t)?t.call(r&&r.proxy):t}}const J3=Symbol.for("v-scx"),eD=()=>Od(J3);function Zg(e,t,n){return p_(e,t,n)}function p_(e,t,n=kt){const{immediate:r,deep:i,flush:a,once:o}=n,s=Gn({},n),A=t&&r||!t&&a!=="post";let c;if(Ul){if(a==="sync"){const d=eD();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!A){const d=()=>{};return d.stop=Di,d.resume=Di,d.pause=Di,d}}const l=Jn;s.call=(d,h,p)=>Yi(d,l,h,p);let u=!1;a==="post"?s.scheduler=d=>{mr(d,l&&l.suspense)}:a!=="sync"&&(u=!0,s.scheduler=(d,h)=>{h?d():c1(d)}),s.augmentJob=d=>{t&&(d.flags|=4),u&&(d.flags|=2,l&&(d.id=l.uid,d.i=l))};const f=z3(e,t,s);return Ul&&(c?c.push(f):A&&f()),f}function tD(e,t,n){const r=this.proxy,i=Bn(e)?e.includes(".")?g_(r,e):()=>r[e]:e.bind(r,r);let a;ze(t)?a=t:(a=t.handler,n=t);const o=wu(this),s=p_(i,a.bind(r),n);return o(),s}function g_(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const nD=Symbol("_vte"),rD=e=>e.__isTeleport,iD=Symbol("_leaveCb");function l1(e,t){e.shapeFlag&6&&e.component?(e.transition=t,l1(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function v_(e,t){return ze(e)?Gn({name:e.name},t,{setup:e}):e}function y_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const qd=new WeakMap;function ul(e,t,n,r,i=!1){if(Ve(e)){e.forEach((h,p)=>ul(h,t&&(Ve(t)?t[p]:t),n,r,i));return}if(fl(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ul(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?p1(r.component):r.el,o=i?null:a,{i:s,r:A}=e,c=t&&t.r,l=s.refs===kt?s.refs={}:s.refs,u=s.setupState,f=xt(u),d=u===kt?NF:h=>pt(f,h);if(c!=null&&c!==A){if(KB(t),Bn(c))l[c]=null,d(c)&&(u[c]=null);else if(nr(c)){c.value=null;const h=t;h.k&&(l[h.k]=null)}}if(ze(A))bu(A,s,12,[o,l]);else{const h=Bn(A),p=nr(A);if(h||p){const g=()=>{if(e.f){const v=h?d(A)?u[A]:l[A]:A.value;if(i)Ve(v)&&qm(v,a);else if(Ve(v))v.includes(a)||v.push(a);else if(h)l[A]=[a],d(A)&&(u[A]=l[A]);else{const y=[a];A.value=y,e.k&&(l[e.k]=y)}}else h?(l[A]=o,d(A)&&(u[A]=o)):p&&(A.value=o,e.k&&(l[e.k]=o))};if(o){const v=()=>{g(),qd.delete(e)};v.id=-1,qd.set(e,v),mr(v,n)}else KB(e),g()}}}function KB(e){const t=qd.get(e);t&&(t.flags|=8,qd.delete(e))}Sp().requestIdleCallback;Sp().cancelIdleCallback;const fl=e=>!!e.type.__asyncLoader,m_=e=>e.type.__isKeepAlive;function aD(e,t){b_(e,"a",t)}function oD(e,t){b_(e,"da",t)}function b_(e,t,n=Jn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(_p(t,r,n),n){let i=n.parent;for(;i&&i.parent;)m_(i.parent.vnode)&&sD(r,t,n,i),i=i.parent}}function sD(e,t,n,r){const i=_p(t,e,r,!0);B_(()=>{qm(r[t],i)},n)}function _p(e,t,n=Jn,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Fa();const s=wu(n),A=Yi(t,n,e,o);return s(),_a(),A});return r?i.unshift(a):i.push(a),a}}const Ua=e=>(t,n=Jn)=>{(!Ul||e==="sp")&&_p(e,(...r)=>t(...r),n)},AD=Ua("bm"),w_=Ua("m"),cD=Ua("bu"),lD=Ua("u"),uD=Ua("bum"),B_=Ua("um"),fD=Ua("sp"),dD=Ua("rtg"),hD=Ua("rtc");function pD(e,t=Jn){_p("ec",e,t)}const gD=Symbol.for("v-ndc"),$v=e=>e?$_(e)?p1(e):$v(e.parent):null,dl=Gn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$v(e.parent),$root:e=>$v(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>C_(e),$forceUpdate:e=>e.f||(e.f=()=>{c1(e.update)}),$nextTick:e=>e.n||(e.n=W3.bind(e.proxy)),$watch:e=>tD.bind(e)}),Jg=(e,t)=>e!==kt&&!e.__isScriptSetup&&pt(e,t),vD={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:A}=e;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(Jg(r,t))return o[t]=1,r[t];if(i!==kt&&pt(i,t))return o[t]=2,i[t];if(pt(a,t))return o[t]=3,a[t];if(n!==kt&&pt(n,t))return o[t]=4,n[t];Kv&&(o[t]=0)}}const c=dl[t];let l,u;if(c)return t==="$attrs"&&Dn(e.attrs,"get",""),c(e);if((l=s.__cssModules)&&(l=l[t]))return l;if(n!==kt&&pt(n,t))return o[t]=4,n[t];if(u=A.config.globalProperties,pt(u,t))return u[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return Jg(i,t)?(i[t]=n,!0):r!==kt&&pt(r,t)?(r[t]=n,!0):pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,props:a,type:o}},s){let A;return!!(n[s]||e!==kt&&s[0]!=="$"&&pt(e,s)||Jg(t,s)||pt(a,s)||pt(r,s)||pt(dl,s)||pt(i.config.globalProperties,s)||(A=o.__cssModules)&&A[s])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function GB(e){return Ve(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Kv=!0;function yD(e){const t=C_(e),n=e.proxy,r=e.ctx;Kv=!1,t.beforeCreate&&zB(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:A,inject:c,created:l,beforeMount:u,mounted:f,beforeUpdate:d,updated:h,activated:p,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:m,unmounted:b,render:w,renderTracked:B,renderTriggered:x,errorCaptured:C,serverPrefetch:E,expose:O,inheritAttrs:S,components:_,directives:F,filters:k}=t;if(c&&mD(c,r,null),o)for(const T in o){const M=o[T];ze(M)&&(r[T]=M.bind(n))}if(i){const T=i.call(n,n);Zt(T)&&(e.data=o1(T))}if(Kv=!0,a)for(const T in a){const M=a[T],I=ze(M)?M.bind(n,n):ze(M.get)?M.get.bind(n,n):Di,U=!ze(M)&&ze(M.set)?M.set.bind(n):Di,R=i5({get:I,set:U});Object.defineProperty(r,T,{enumerable:!0,configurable:!0,get:()=>R.value,set:N=>R.value=N})}if(s)for(const T in s)x_(s[T],r,n,T);if(A){const T=ze(A)?A.call(n):A;Reflect.ownKeys(T).forEach(M=>{Z3(M,T[M])})}l&&zB(l,e,"c");function L(T,M){Ve(M)?M.forEach(I=>T(I.bind(n))):M&&T(M.bind(n))}if(L(AD,u),L(w_,f),L(cD,d),L(lD,h),L(aD,p),L(oD,g),L(pD,C),L(hD,B),L(dD,x),L(uD,y),L(B_,b),L(fD,E),Ve(O))if(O.length){const T=e.exposed||(e.exposed={});O.forEach(M=>{Object.defineProperty(T,M,{get:()=>n[M],set:I=>n[M]=I,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===Di&&(e.render=w),S!=null&&(e.inheritAttrs=S),_&&(e.components=_),F&&(e.directives=F),E&&y_(e)}function mD(e,t,n=Di){Ve(e)&&(e=Gv(e));for(const r in e){const i=e[r];let a;Zt(i)?"default"in i?a=Od(i.from||r,i.default,!0):a=Od(i.from||r):a=Od(i),nr(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[r]=a}}function zB(e,t,n){Yi(Ve(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function x_(e,t,n,r){let i=r.includes(".")?g_(n,r):()=>n[r];if(Bn(e)){const a=t[e];ze(a)&&Zg(i,a)}else if(ze(e))Zg(i,e.bind(n));else if(Zt(e))if(Ve(e))e.forEach(a=>x_(a,t,n,r));else{const a=ze(e.handler)?e.handler.bind(n):t[e.handler];ze(a)&&Zg(i,a,e)}}function C_(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let A;return s?A=s:!i.length&&!n&&!r?A=t:(A={},i.length&&i.forEach(c=>Zd(A,c,o,!0)),Zd(A,t,o)),Zt(t)&&a.set(t,A),A}function Zd(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&Zd(e,a,n,!0),i&&i.forEach(o=>Zd(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=bD[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const bD={data:VB,props:WB,emits:WB,methods:Pc,computed:Pc,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:Pc,directives:Pc,watch:BD,provide:VB,inject:wD};function VB(e,t){return t?e?function(){return Gn(ze(e)?e.call(this,this):e,ze(t)?t.call(this,this):t)}:t:e}function wD(e,t){return Pc(Gv(e),Gv(t))}function Gv(e){if(Ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function Pc(e,t){return e?Gn(Object.create(null),e,t):t}function WB(e,t){return e?Ve(e)&&Ve(t)?[...new Set([...e,...t])]:Gn(Object.create(null),GB(e),GB(t??{})):t}function BD(e,t){if(!e)return t;if(!t)return e;const n=Gn(Object.create(null),e);for(const r in t)n[r]=Xn(e[r],t[r]);return n}function E_(){return{app:null,config:{isNativeTag:NF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xD=0;function CD(e,t){return function(r,i=null){ze(r)||(r=Gn({},r)),i!=null&&!Zt(i)&&(i=null);const a=E_(),o=new WeakSet,s=[];let A=!1;const c=a.app={_uid:xD++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:a5,get config(){return a.config},set config(l){},use(l,...u){return o.has(l)||(l&&ze(l.install)?(o.add(l),l.install(c,...u)):ze(l)&&(o.add(l),l(c,...u))),c},mixin(l){return a.mixins.includes(l)||a.mixins.push(l),c},component(l,u){return u?(a.components[l]=u,c):a.components[l]},directive(l,u){return u?(a.directives[l]=u,c):a.directives[l]},mount(l,u,f){if(!A){const d=c._ceVNode||Ba(r,i);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(d,l,f),A=!0,c._container=l,l.__vue_app__=c,p1(d.component)}},onUnmount(l){s.push(l)},unmount(){A&&(Yi(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return a.provides[l]=u,c},runWithContext(l){const u=yA;yA=c;try{return l()}finally{yA=u}}};return c}}let yA=null;const ED=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${po(t)}Modifiers`]||e[`${Qs(t)}Modifiers`];function OD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||kt;let i=n;const a=t.startsWith("update:"),o=a&&ED(r,t.slice(7));o&&(o.trim&&(i=n.map(l=>Bn(l)?l.trim():l)),o.number&&(i=n.map(f3)));let s,A=r[s=zg(t)]||r[s=zg(po(t))];!A&&a&&(A=r[s=zg(Qs(t))]),A&&Yi(A,e,6,i);const c=r[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Yi(c,e,6,i)}}const SD=new WeakMap;function O_(e,t,n=!1){const r=n?SD:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!ze(e)){const A=c=>{const l=O_(c,t,!0);l&&(s=!0,Gn(o,l))};!n&&t.mixins.length&&t.mixins.forEach(A),e.extends&&A(e.extends),e.mixins&&e.mixins.forEach(A)}return!a&&!s?(Zt(e)&&r.set(e,null),null):(Ve(a)?a.forEach(A=>o[A]=null):Gn(o,a),Zt(e)&&r.set(e,o),o)}function Mp(e,t){return!e||!Cp(t)?!1:(t=t.slice(2).replace(/Once$/,""),pt(e,t[0].toLowerCase()+t.slice(1))||pt(e,Qs(t))||pt(e,t))}function YB(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:A,render:c,renderCache:l,props:u,data:f,setupState:d,ctx:h,inheritAttrs:p}=e,g=Xd(e);let v,y;try{if(n.shapeFlag&4){const b=i||r,w=b;v=_i(c.call(w,b,l,u,d,f,h)),y=s}else{const b=t;v=_i(b.length>1?b(u,{attrs:s,slots:o,emit:A}):b(u,null)),y=t.props?s:FD(s)}}catch(b){hl.length=0,Fp(b,e,1),v=Ba(QA)}let m=v;if(y&&p!==!1){const b=Object.keys(y),{shapeFlag:w}=m;b.length&&w&7&&(a&&b.some(Xm)&&(y=_D(y,a)),m=IA(m,y,!1,!0))}return n.dirs&&(m=IA(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&l1(m,n.transition),v=m,Xd(g),v}const FD=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cp(n))&&((t||(t={}))[n]=e[n]);return t},_D=(e,t)=>{const n={};for(const r in e)(!Xm(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function MD(e,t,n){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:A}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&A>=0){if(A&1024)return!0;if(A&16)return r?XB(r,o,c):!!o;if(A&8){const l=t.dynamicProps;for(let u=0;u<l.length;u++){const f=l[u];if(o[f]!==r[f]&&!Mp(c,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?XB(r,o,c):!0:!!o;return!1}function XB(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Mp(n,a))return!0}return!1}function kD({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const S_={},F_=()=>Object.create(S_),__=e=>Object.getPrototypeOf(e)===S_;function TD(e,t,n,r=!1){const i={},a=F_();e.propsDefaults=Object.create(null),M_(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:R3(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function QD(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=xt(i),[A]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=e.vnode.dynamicProps;for(let u=0;u<l.length;u++){let f=l[u];if(Mp(e.emitsOptions,f))continue;const d=t[f];if(A)if(pt(a,f))d!==a[f]&&(a[f]=d,c=!0);else{const h=po(f);i[h]=zv(A,s,h,d,e,!1)}else d!==a[f]&&(a[f]=d,c=!0)}}}else{M_(e,t,i,a)&&(c=!0);let l;for(const u in s)(!t||!pt(t,u)&&((l=Qs(u))===u||!pt(t,l)))&&(A?n&&(n[u]!==void 0||n[l]!==void 0)&&(i[u]=zv(A,s,u,void 0,e,!0)):delete i[u]);if(a!==s)for(const u in a)(!t||!pt(t,u))&&(delete a[u],c=!0)}c&&pa(e.attrs,"set","")}function M_(e,t,n,r){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let A in t){if(Al(A))continue;const c=t[A];let l;i&&pt(i,l=po(A))?!a||!a.includes(l)?n[l]=c:(s||(s={}))[l]=c:Mp(e.emitsOptions,A)||(!(A in r)||c!==r[A])&&(r[A]=c,o=!0)}if(a){const A=xt(n),c=s||kt;for(let l=0;l<a.length;l++){const u=a[l];n[u]=zv(i,A,u,c[u],e,!pt(c,u))}}return o}function zv(e,t,n,r,i,a){const o=e[n];if(o!=null){const s=pt(o,"default");if(s&&r===void 0){const A=o.default;if(o.type!==Function&&!o.skipFactory&&ze(A)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const l=wu(i);r=c[n]=A.call(null,t),l()}}else r=A;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!s?r=!1:o[1]&&(r===""||r===Qs(n))&&(r=!0))}return r}const ID=new WeakMap;function k_(e,t,n=!1){const r=n?ID:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,o={},s=[];let A=!1;if(!ze(e)){const l=u=>{A=!0;const[f,d]=k_(u,t,!0);Gn(o,f),d&&s.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!a&&!A)return Zt(e)&&r.set(e,hA),hA;if(Ve(a))for(let l=0;l<a.length;l++){const u=po(a[l]);qB(u)&&(o[u]=kt)}else if(a)for(const l in a){const u=po(l);if(qB(u)){const f=a[l],d=o[u]=Ve(f)||ze(f)?{type:f}:Gn({},f),h=d.type;let p=!1,g=!0;if(Ve(h))for(let v=0;v<h.length;++v){const y=h[v],m=ze(y)&&y.name;if(m==="Boolean"){p=!0;break}else m==="String"&&(g=!1)}else p=ze(h)&&h.name==="Boolean";d[0]=p,d[1]=g,(p||pt(d,"default"))&&s.push(u)}}const c=[o,s];return Zt(e)&&r.set(e,c),c}function qB(e){return e[0]!=="$"&&!Al(e)}const u1=e=>e==="_"||e==="_ctx"||e==="$stable",f1=e=>Ve(e)?e.map(_i):[_i(e)],LD=(e,t,n)=>{if(t._n)return t;const r=q3((...i)=>f1(t(...i)),n);return r._c=!1,r},T_=(e,t,n)=>{const r=e._ctx;for(const i in e){if(u1(i))continue;const a=e[i];if(ze(a))t[i]=LD(i,a,r);else if(a!=null){const o=f1(a);t[i]=()=>o}}},Q_=(e,t)=>{const n=f1(t);e.slots.default=()=>n},I_=(e,t,n)=>{for(const r in t)(n||!u1(r))&&(e[r]=t[r])},UD=(e,t,n)=>{const r=e.slots=F_();if(e.vnode.shapeFlag&32){const i=t._;i?(I_(r,t,n),n&&KF(r,"_",i,!0)):T_(t,r)}else t&&Q_(e,t)},PD=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,o=kt;if(r.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:I_(i,t,n):(a=!t.$stable,T_(t,i)),o=t}else t&&(Q_(e,t),o={default:1});if(a)for(const s in i)!u1(s)&&o[s]==null&&delete i[s]},mr=jD;function ND(e){return RD(e)}function RD(e,t){const n=Sp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:A,setText:c,setElementText:l,parentNode:u,nextSibling:f,setScopeId:d=Di,insertStaticContent:h}=e,p=(P,D,G,Y=null,X=null,q=null,J=void 0,te=null,ae=!!D.dynamicChildren)=>{if(P===D)return;P&&!vc(P,D)&&(Y=W(P),N(P,X,q,!0),P=null),D.patchFlag===-2&&(ae=!1,D.dynamicChildren=null);const{type:re,ref:he,shapeFlag:ue}=D;switch(re){case kp:g(P,D,G,Y);break;case QA:v(P,D,G,Y);break;case t0:P==null&&y(D,G,Y,J);break;case Fi:_(P,D,G,Y,X,q,J,te,ae);break;default:ue&1?w(P,D,G,Y,X,q,J,te,ae):ue&6?F(P,D,G,Y,X,q,J,te,ae):(ue&64||ue&128)&&re.process(P,D,G,Y,X,q,J,te,ae,ie)}he!=null&&X?ul(he,P&&P.ref,q,D||P,!D):he==null&&P&&P.ref!=null&&ul(P.ref,null,q,P,!0)},g=(P,D,G,Y)=>{if(P==null)r(D.el=s(D.children),G,Y);else{const X=D.el=P.el;D.children!==P.children&&c(X,D.children)}},v=(P,D,G,Y)=>{P==null?r(D.el=A(D.children||""),G,Y):D.el=P.el},y=(P,D,G,Y)=>{[P.el,P.anchor]=h(P.children,D,G,Y,P.el,P.anchor)},m=({el:P,anchor:D},G,Y)=>{let X;for(;P&&P!==D;)X=f(P),r(P,G,Y),P=X;r(D,G,Y)},b=({el:P,anchor:D})=>{let G;for(;P&&P!==D;)G=f(P),i(P),P=G;i(D)},w=(P,D,G,Y,X,q,J,te,ae)=>{if(D.type==="svg"?J="svg":D.type==="math"&&(J="mathml"),P==null)B(D,G,Y,X,q,J,te,ae);else{const re=P.el&&P.el._isVueCE?P.el:null;try{re&&re._beginPatch(),E(P,D,X,q,J,te,ae)}finally{re&&re._endPatch()}}},B=(P,D,G,Y,X,q,J,te)=>{let ae,re;const{props:he,shapeFlag:ue,transition:ge,dirs:ye}=P;if(ae=P.el=o(P.type,q,he&&he.is,he),ue&8?l(ae,P.children):ue&16&&C(P.children,ae,null,Y,X,e0(P,q),J,te),ye&&Uo(P,null,Y,"created"),x(ae,P,P.scopeId,J,Y),he){for(const Ce in he)Ce!=="value"&&!Al(Ce)&&a(ae,Ce,null,he[Ce],q,Y);"value"in he&&a(ae,"value",null,he.value,q),(re=he.onVnodeBeforeMount)&&vi(re,Y,P)}ye&&Uo(P,null,Y,"beforeMount");const me=HD(X,ge);me&&ge.beforeEnter(ae),r(ae,D,G),((re=he&&he.onVnodeMounted)||me||ye)&&mr(()=>{re&&vi(re,Y,P),me&&ge.enter(ae),ye&&Uo(P,null,Y,"mounted")},X)},x=(P,D,G,Y,X)=>{if(G&&d(P,G),Y)for(let q=0;q<Y.length;q++)d(P,Y[q]);if(X){let q=X.subTree;if(D===q||N_(q.type)&&(q.ssContent===D||q.ssFallback===D)){const J=X.vnode;x(P,J,J.scopeId,J.slotScopeIds,X.parent)}}},C=(P,D,G,Y,X,q,J,te,ae=0)=>{for(let re=ae;re<P.length;re++){const he=P[re]=te?Ga(P[re]):_i(P[re]);p(null,he,D,G,Y,X,q,J,te)}},E=(P,D,G,Y,X,q,J)=>{const te=D.el=P.el;let{patchFlag:ae,dynamicChildren:re,dirs:he}=D;ae|=P.patchFlag&16;const ue=P.props||kt,ge=D.props||kt;let ye;if(G&&Po(G,!1),(ye=ge.onVnodeBeforeUpdate)&&vi(ye,G,D,P),he&&Uo(D,P,G,"beforeUpdate"),G&&Po(G,!0),(ue.innerHTML&&ge.innerHTML==null||ue.textContent&&ge.textContent==null)&&l(te,""),re?O(P.dynamicChildren,re,te,G,Y,e0(D,X),q):J||M(P,D,te,null,G,Y,e0(D,X),q,!1),ae>0){if(ae&16)S(te,ue,ge,G,X);else if(ae&2&&ue.class!==ge.class&&a(te,"class",null,ge.class,X),ae&4&&a(te,"style",ue.style,ge.style,X),ae&8){const me=D.dynamicProps;for(let Ce=0;Ce<me.length;Ce++){const Se=me[Ce],Fe=ue[Se],Ee=ge[Se];(Ee!==Fe||Se==="value")&&a(te,Se,Fe,Ee,X,G)}}ae&1&&P.children!==D.children&&l(te,D.children)}else!J&&re==null&&S(te,ue,ge,G,X);((ye=ge.onVnodeUpdated)||he)&&mr(()=>{ye&&vi(ye,G,D,P),he&&Uo(D,P,G,"updated")},Y)},O=(P,D,G,Y,X,q,J)=>{for(let te=0;te<D.length;te++){const ae=P[te],re=D[te],he=ae.el&&(ae.type===Fi||!vc(ae,re)||ae.shapeFlag&198)?u(ae.el):G;p(ae,re,he,null,Y,X,q,J,!0)}},S=(P,D,G,Y,X)=>{if(D!==G){if(D!==kt)for(const q in D)!Al(q)&&!(q in G)&&a(P,q,D[q],null,X,Y);for(const q in G){if(Al(q))continue;const J=G[q],te=D[q];J!==te&&q!=="value"&&a(P,q,te,J,X,Y)}"value"in G&&a(P,"value",D.value,G.value,X)}},_=(P,D,G,Y,X,q,J,te,ae)=>{const re=D.el=P?P.el:s(""),he=D.anchor=P?P.anchor:s("");let{patchFlag:ue,dynamicChildren:ge,slotScopeIds:ye}=D;ye&&(te=te?te.concat(ye):ye),P==null?(r(re,G,Y),r(he,G,Y),C(D.children||[],G,he,X,q,J,te,ae)):ue>0&&ue&64&&ge&&P.dynamicChildren&&P.dynamicChildren.length===ge.length?(O(P.dynamicChildren,ge,G,X,q,J,te),(D.key!=null||X&&D===X.subTree)&&L_(P,D,!0)):M(P,D,G,he,X,q,J,te,ae)},F=(P,D,G,Y,X,q,J,te,ae)=>{D.slotScopeIds=te,P==null?D.shapeFlag&512?X.ctx.activate(D,G,Y,J,ae):k(D,G,Y,X,q,J,ae):Q(P,D,ae)},k=(P,D,G,Y,X,q,J)=>{const te=P.component=qD(P,Y,X);if(m_(P)&&(te.ctx.renderer=ie),JD(te,!1,J),te.asyncDep){if(X&&X.registerDep(te,L,J),!P.el){const ae=te.subTree=Ba(QA);v(null,ae,D,G),P.placeholder=ae.el}}else L(te,P,D,G,X,q,J)},Q=(P,D,G)=>{const Y=D.component=P.component;if(MD(P,D,G))if(Y.asyncDep&&!Y.asyncResolved){T(Y,D,G);return}else Y.next=D,Y.update();else D.el=P.el,Y.vnode=D},L=(P,D,G,Y,X,q,J)=>{const te=()=>{if(P.isMounted){let{next:ue,bu:ge,u:ye,parent:me,vnode:Ce}=P;{const Je=U_(P);if(Je){ue&&(ue.el=Ce.el,T(P,ue,J)),Je.asyncDep.then(()=>{P.isUnmounted||te()});return}}let Se=ue,Fe;Po(P,!1),ue?(ue.el=Ce.el,T(P,ue,J)):ue=Ce,ge&&Vg(ge),(Fe=ue.props&&ue.props.onVnodeBeforeUpdate)&&vi(Fe,me,ue,Ce),Po(P,!0);const Ee=YB(P),ut=P.subTree;P.subTree=Ee,p(ut,Ee,u(ut.el),W(ut),P,X,q),ue.el=Ee.el,Se===null&&kD(P,Ee.el),ye&&mr(ye,X),(Fe=ue.props&&ue.props.onVnodeUpdated)&&mr(()=>vi(Fe,me,ue,Ce),X)}else{let ue;const{el:ge,props:ye}=D,{bm:me,m:Ce,parent:Se,root:Fe,type:Ee}=P,ut=fl(D);Po(P,!1),me&&Vg(me),!ut&&(ue=ye&&ye.onVnodeBeforeMount)&&vi(ue,Se,D),Po(P,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Ee);const Je=P.subTree=YB(P);p(null,Je,G,Y,P,X,q),D.el=Je.el}if(Ce&&mr(Ce,X),!ut&&(ue=ye&&ye.onVnodeMounted)){const Je=D;mr(()=>vi(ue,Se,Je),X)}(D.shapeFlag&256||Se&&fl(Se.vnode)&&Se.vnode.shapeFlag&256)&&P.a&&mr(P.a,X),P.isMounted=!0,D=G=Y=null}};P.scope.on();const ae=P.effect=new WF(te);P.scope.off();const re=P.update=ae.run.bind(ae),he=P.job=ae.runIfDirty.bind(ae);he.i=P,he.id=P.uid,ae.scheduler=()=>c1(he),Po(P,!0),re()},T=(P,D,G)=>{D.component=P;const Y=P.vnode.props;P.vnode=D,P.next=null,QD(P,D.props,Y,G),PD(P,D.children,G),Fa(),$B(P),_a()},M=(P,D,G,Y,X,q,J,te,ae=!1)=>{const re=P&&P.children,he=P?P.shapeFlag:0,ue=D.children,{patchFlag:ge,shapeFlag:ye}=D;if(ge>0){if(ge&128){U(re,ue,G,Y,X,q,J,te,ae);return}else if(ge&256){I(re,ue,G,Y,X,q,J,te,ae);return}}ye&8?(he&16&&V(re,X,q),ue!==re&&l(G,ue)):he&16?ye&16?U(re,ue,G,Y,X,q,J,te,ae):V(re,X,q,!0):(he&8&&l(G,""),ye&16&&C(ue,G,Y,X,q,J,te,ae))},I=(P,D,G,Y,X,q,J,te,ae)=>{P=P||hA,D=D||hA;const re=P.length,he=D.length,ue=Math.min(re,he);let ge;for(ge=0;ge<ue;ge++){const ye=D[ge]=ae?Ga(D[ge]):_i(D[ge]);p(P[ge],ye,G,null,X,q,J,te,ae)}re>he?V(P,X,q,!0,!1,ue):C(D,G,Y,X,q,J,te,ae,ue)},U=(P,D,G,Y,X,q,J,te,ae)=>{let re=0;const he=D.length;let ue=P.length-1,ge=he-1;for(;re<=ue&&re<=ge;){const ye=P[re],me=D[re]=ae?Ga(D[re]):_i(D[re]);if(vc(ye,me))p(ye,me,G,null,X,q,J,te,ae);else break;re++}for(;re<=ue&&re<=ge;){const ye=P[ue],me=D[ge]=ae?Ga(D[ge]):_i(D[ge]);if(vc(ye,me))p(ye,me,G,null,X,q,J,te,ae);else break;ue--,ge--}if(re>ue){if(re<=ge){const ye=ge+1,me=ye<he?D[ye].el:Y;for(;re<=ge;)p(null,D[re]=ae?Ga(D[re]):_i(D[re]),G,me,X,q,J,te,ae),re++}}else if(re>ge)for(;re<=ue;)N(P[re],X,q,!0),re++;else{const ye=re,me=re,Ce=new Map;for(re=me;re<=ge;re++){const Dt=D[re]=ae?Ga(D[re]):_i(D[re]);Dt.key!=null&&Ce.set(Dt.key,re)}let Se,Fe=0;const Ee=ge-me+1;let ut=!1,Je=0;const en=new Array(Ee);for(re=0;re<Ee;re++)en[re]=0;for(re=ye;re<=ue;re++){const Dt=P[re];if(Fe>=Ee){N(Dt,X,q,!0);continue}let On;if(Dt.key!=null)On=Ce.get(Dt.key);else for(Se=me;Se<=ge;Se++)if(en[Se-me]===0&&vc(Dt,D[Se])){On=Se;break}On===void 0?N(Dt,X,q,!0):(en[On-me]=re+1,On>=Je?Je=On:ut=!0,p(Dt,D[On],G,null,X,q,J,te,ae),Fe++)}const Fr=ut?DD(en):hA;for(Se=Fr.length-1,re=Ee-1;re>=0;re--){const Dt=me+re,On=D[Dt],js=D[Dt+1],Lo=Dt+1<he?js.el||P_(js):Y;en[re]===0?p(null,On,G,Lo,X,q,J,te,ae):ut&&(Se<0||re!==Fr[Se]?R(On,G,Lo,2):Se--)}}},R=(P,D,G,Y,X=null)=>{const{el:q,type:J,transition:te,children:ae,shapeFlag:re}=P;if(re&6){R(P.component.subTree,D,G,Y);return}if(re&128){P.suspense.move(D,G,Y);return}if(re&64){J.move(P,D,G,ie);return}if(J===Fi){r(q,D,G);for(let ue=0;ue<ae.length;ue++)R(ae[ue],D,G,Y);r(P.anchor,D,G);return}if(J===t0){m(P,D,G);return}if(Y!==2&&re&1&&te)if(Y===0)te.beforeEnter(q),r(q,D,G),mr(()=>te.enter(q),X);else{const{leave:ue,delayLeave:ge,afterLeave:ye}=te,me=()=>{P.ctx.isUnmounted?i(q):r(q,D,G)},Ce=()=>{q._isLeaving&&q[iD](!0),ue(q,()=>{me(),ye&&ye()})};ge?ge(q,me,Ce):Ce()}else r(q,D,G)},N=(P,D,G,Y=!1,X=!1)=>{const{type:q,props:J,ref:te,children:ae,dynamicChildren:re,shapeFlag:he,patchFlag:ue,dirs:ge,cacheIndex:ye}=P;if(ue===-2&&(X=!1),te!=null&&(Fa(),ul(te,null,G,P,!0),_a()),ye!=null&&(D.renderCache[ye]=void 0),he&256){D.ctx.deactivate(P);return}const me=he&1&&ge,Ce=!fl(P);let Se;if(Ce&&(Se=J&&J.onVnodeBeforeUnmount)&&vi(Se,D,P),he&6)$(P.component,G,Y);else{if(he&128){P.suspense.unmount(G,Y);return}me&&Uo(P,null,D,"beforeUnmount"),he&64?P.type.remove(P,D,G,ie,Y):re&&!re.hasOnce&&(q!==Fi||ue>0&&ue&64)?V(re,D,G,!1,!0):(q===Fi&&ue&384||!X&&he&16)&&V(ae,D,G),Y&&j(P)}(Ce&&(Se=J&&J.onVnodeUnmounted)||me)&&mr(()=>{Se&&vi(Se,D,P),me&&Uo(P,null,D,"unmounted")},G)},j=P=>{const{type:D,el:G,anchor:Y,transition:X}=P;if(D===Fi){K(G,Y);return}if(D===t0){b(P);return}const q=()=>{i(G),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(P.shapeFlag&1&&X&&!X.persisted){const{leave:J,delayLeave:te}=X,ae=()=>J(G,q);te?te(P.el,q,ae):ae()}else q()},K=(P,D)=>{let G;for(;P!==D;)G=f(P),i(P),P=G;i(D)},$=(P,D,G)=>{const{bum:Y,scope:X,job:q,subTree:J,um:te,m:ae,a:re}=P;ZB(ae),ZB(re),Y&&Vg(Y),X.stop(),q&&(q.flags|=8,N(J,P,D,G)),te&&mr(te,D),mr(()=>{P.isUnmounted=!0},D)},V=(P,D,G,Y=!1,X=!1,q=0)=>{for(let J=q;J<P.length;J++)N(P[J],D,G,Y,X)},W=P=>{if(P.shapeFlag&6)return W(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const D=f(P.anchor||P.el),G=D&&D[nD];return G?f(G):D};let z=!1;const ne=(P,D,G)=>{let Y;P==null?D._vnode&&(N(D._vnode,null,null,!0),Y=D._vnode.component):p(D._vnode||null,P,D,null,null,null,G),D._vnode=P,z||(z=!0,$B(Y),f_(),z=!1)},ie={p,um:N,m:R,r:j,mt:k,mc:C,pc:M,pbc:O,n:W,o:e};return{render:ne,hydrate:void 0,createApp:CD(ne)}}function e0({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Po({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function HD(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function L_(e,t,n=!1){const r=e.children,i=t.children;if(Ve(r)&&Ve(i))for(let a=0;a<r.length;a++){const o=r[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Ga(i[a]),s.el=o.el),!n&&s.patchFlag!==-2&&L_(o,s)),s.type===kp&&(s.patchFlag!==-1?s.el=o.el:s.__elIndex=a+(e.type===Fi?1:0)),s.type===QA&&!s.el&&(s.el=o.el)}}function DD(e){const t=e.slice(),n=[0];let r,i,a,o,s;const A=e.length;for(r=0;r<A;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function U_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:U_(t)}function ZB(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function P_(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?P_(t.subTree):null}const N_=e=>e.__isSuspense;function jD(e,t){t&&t.pendingBranch?Ve(e)?t.effects.push(...e):t.effects.push(e):X3(e)}const Fi=Symbol.for("v-fgt"),kp=Symbol.for("v-txt"),QA=Symbol.for("v-cmt"),t0=Symbol.for("v-stc"),hl=[];let xr=null;function d1(e=!1){hl.push(xr=e?null:[])}function $D(){hl.pop(),xr=hl[hl.length-1]||null}let Ll=1;function JB(e,t=!1){Ll+=e,e<0&&xr&&t&&(xr.hasOnce=!0)}function R_(e){return e.dynamicChildren=Ll>0?xr||hA:null,$D(),Ll>0&&xr&&xr.push(e),e}function H_(e,t,n,r,i,a){return R_(Si(e,t,n,r,i,a,!0))}function KD(e,t,n,r,i){return R_(Ba(e,t,n,r,i,!0))}function D_(e){return e?e.__v_isVNode===!0:!1}function vc(e,t){return e.type===t.type&&e.key===t.key}const j_=({key:e})=>e??null,Sd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Bn(e)||nr(e)||ze(e)?{i:Li,r:e,k:t,f:!!n}:e:null);function Si(e,t=null,n=null,r=0,i=null,a=e===Fi?0:1,o=!1,s=!1){const A={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&j_(t),ref:t&&Sd(t),scopeId:h_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Li};return s?(h1(A,n),a&128&&e.normalize(A)):n&&(A.shapeFlag|=Bn(n)?8:16),Ll>0&&!o&&xr&&(A.patchFlag>0||a&6)&&A.patchFlag!==32&&xr.push(A),A}const Ba=GD;function GD(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===gD)&&(e=QA),D_(e)){const s=IA(e,t,!0);return n&&h1(s,n),Ll>0&&!a&&xr&&(s.shapeFlag&6?xr[xr.indexOf(e)]=s:xr.push(s)),s.patchFlag=-2,s}if(r5(e)&&(e=e.__vccOpts),t){t=zD(t);let{class:s,style:A}=t;s&&!Bn(s)&&(t.class=e1(s)),Zt(A)&&(A1(A)&&!Ve(A)&&(A=Gn({},A)),t.style=Jm(A))}const o=Bn(e)?1:N_(e)?128:rD(e)?64:Zt(e)?4:ze(e)?2:0;return Si(e,t,n,r,i,o,a,!0)}function zD(e){return e?A1(e)||__(e)?Gn({},e):e:null}function IA(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:A}=e,c=t?WD(i||{},t):i,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&j_(c),ref:t&&t.ref?n&&a?Ve(a)?a.concat(Sd(t)):[a,Sd(t)]:Sd(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fi?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:A,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&IA(e.ssContent),ssFallback:e.ssFallback&&IA(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return A&&r&&l1(l,A.clone(l)),l}function VD(e=" ",t=0){return Ba(kp,null,e,t)}function _i(e){return e==null||typeof e=="boolean"?Ba(QA):Ve(e)?Ba(Fi,null,e.slice()):D_(e)?Ga(e):Ba(kp,null,String(e))}function Ga(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:IA(e)}function h1(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ve(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),h1(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!__(t)?t._ctx=Li:i===3&&Li&&(Li.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ze(t)?(t={default:t,_ctx:Li},n=32):(t=String(t),r&64?(n=16,t=[VD(t)]):n=8);e.children=t,e.shapeFlag|=n}function WD(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=e1([t.class,r.class]));else if(i==="style")t.style=Jm([t.style,r.style]);else if(Cp(i)){const a=t[i],o=r[i];o&&a!==o&&!(Ve(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=r[i])}return t}function vi(e,t,n,r=null){Yi(e,t,7,[n,r])}const YD=E_();let XD=0;function qD(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||YD,a={uid:XD++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new m3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:k_(r,i),emitsOptions:O_(r,i),emit:null,emitted:null,propsDefaults:kt,inheritAttrs:r.inheritAttrs,ctx:kt,data:kt,props:kt,attrs:kt,slots:kt,refs:kt,setupState:kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=OD.bind(null,a),e.ce&&e.ce(a),a}let Jn=null;const ZD=()=>Jn||Li;let Jd,Vv;{const e=Sp(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Jd=t("__VUE_INSTANCE_SETTERS__",n=>Jn=n),Vv=t("__VUE_SSR_SETTERS__",n=>Ul=n)}const wu=e=>{const t=Jn;return Jd(e),e.scope.on(),()=>{e.scope.off(),Jd(t)}},ex=()=>{Jn&&Jn.scope.off(),Jd(null)};function $_(e){return e.vnode.shapeFlag&4}let Ul=!1;function JD(e,t=!1,n=!1){t&&Vv(t);const{props:r,children:i}=e.vnode,a=$_(e);TD(e,r,a,t),UD(e,i,n||t);const o=a?e5(e,t):void 0;return t&&Vv(!1),o}function e5(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,vD);const{setup:r}=n;if(r){Fa();const i=e.setupContext=r.length>1?n5(e):null,a=wu(e),o=bu(r,e,0,[e.props,i]),s=HF(o);if(_a(),a(),(s||e.sp)&&!fl(e)&&y_(e),s){if(o.then(ex,ex),t)return o.then(A=>{tx(e,A)}).catch(A=>{Fp(A,e,0)});e.asyncDep=o}else tx(e,o)}else K_(e)}function tx(e,t,n){ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Zt(t)&&(e.setupState=c_(t)),K_(e)}function K_(e,t,n){const r=e.type;e.render||(e.render=r.render||Di);{const i=wu(e);Fa();try{yD(e)}finally{_a(),i()}}}const t5={get(e,t){return Dn(e,"get",""),e[t]}};function n5(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,t5),slots:e.slots,emit:e.emit,expose:t}}function p1(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(c_(H3(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in dl)return dl[n](e)},has(t,n){return n in t||n in dl}})):e.proxy}function r5(e){return ze(e)&&"__vccOpts"in e}const i5=(e,t)=>K3(e,t,Ul),a5="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wv;const nx=typeof window<"u"&&window.trustedTypes;if(nx)try{Wv=nx.createPolicy("vue",{createHTML:e=>e})}catch{}const G_=Wv?e=>Wv.createHTML(e):e=>e,o5="http://www.w3.org/2000/svg",s5="http://www.w3.org/1998/Math/MathML",ha=typeof document<"u"?document:null,rx=ha&&ha.createElement("template"),A5={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?ha.createElementNS(o5,e):t==="mathml"?ha.createElementNS(s5,e):n?ha.createElement(e,{is:n}):ha.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ha.createTextNode(e),createComment:e=>ha.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ha.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{rx.innerHTML=G_(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=rx.content;if(r==="svg"||r==="mathml"){const A=s.firstChild;for(;A.firstChild;)s.appendChild(A.firstChild);s.removeChild(A)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},c5=Symbol("_vtc");function l5(e,t,n){const r=e[c5];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ix=Symbol("_vod"),u5=Symbol("_vsh"),f5=Symbol(""),d5=/(?:^|;)\s*display\s*:/;function h5(e,t,n){const r=e.style,i=Bn(n);let a=!1;if(n&&!i){if(t)if(Bn(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&Fd(r,s,"")}else for(const o in t)n[o]==null&&Fd(r,o,"");for(const o in n)o==="display"&&(a=!0),Fd(r,o,n[o])}else if(i){if(t!==n){const o=r[f5];o&&(n+=";"+o),r.cssText=n,a=d5.test(n)}}else t&&e.removeAttribute("style");ix in e&&(e[ix]=a?r.display:"",e[u5]&&(r.display="none"))}const ax=/\s*!important$/;function Fd(e,t,n){if(Ve(n))n.forEach(r=>Fd(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=p5(e,t);ax.test(n)?e.setProperty(Qs(r),n.replace(ax,""),"important"):e[r]=n}}const ox=["Webkit","Moz","ms"],n0={};function p5(e,t){const n=n0[t];if(n)return n;let r=po(t);if(r!=="filter"&&r in e)return n0[t]=r;r=$F(r);for(let i=0;i<ox.length;i++){const a=ox[i]+r;if(a in e)return n0[t]=a}return t}const sx="http://www.w3.org/1999/xlink";function Ax(e,t,n,r,i,a=y3(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(sx,t.slice(6,t.length)):e.setAttributeNS(sx,t,n):n==null||a&&!GF(n)?e.removeAttribute(t):e.setAttribute(t,a?"":xo(n)?String(n):n)}function cx(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?G_(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,A=n==null?e.type==="checkbox"?"on":"":String(n);(s!==A||!("_value"in e))&&(e.value=A),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=GF(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function g5(e,t,n,r){e.addEventListener(t,n,r)}function v5(e,t,n,r){e.removeEventListener(t,n,r)}const lx=Symbol("_vei");function y5(e,t,n,r,i=null){const a=e[lx]||(e[lx]={}),o=a[t];if(r&&o)o.value=r;else{const[s,A]=m5(t);if(r){const c=a[t]=B5(r,i);g5(e,s,c,A)}else o&&(v5(e,s,o,A),a[t]=void 0)}}const ux=/(?:Once|Passive|Capture)$/;function m5(e){let t;if(ux.test(e)){t={};let r;for(;r=e.match(ux);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qs(e.slice(2)),t]}let r0=0;const b5=Promise.resolve(),w5=()=>r0||(b5.then(()=>r0=0),r0=Date.now());function B5(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Yi(x5(r,n.value),t,5,[r])};return n.value=e,n.attached=w5(),n}function x5(e,t){if(Ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const fx=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,C5=(e,t,n,r,i,a)=>{const o=i==="svg";t==="class"?l5(e,r,o):t==="style"?h5(e,n,r):Cp(t)?Xm(t)||y5(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):E5(e,t,r,o))?(cx(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ax(e,t,r,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Bn(r))?cx(e,po(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ax(e,t,r,o))};function E5(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&fx(t)&&ze(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return fx(t)&&Bn(n)?!1:t in e}const O5=Gn({patchProp:C5},A5);let dx;function S5(){return dx||(dx=ND(O5))}const F5=(...e)=>{const t=S5().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=M5(r);if(!i)return;const a=t._component;!ze(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,_5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function _5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function M5(e){return Bn(e)?document.querySelector(e):e}const z_=()=>[["cartesian"]];z_.props={};function k5(e,t){return e=e%(2*Math.PI),t=t%(2*Math.PI),e<0&&(e=2*Math.PI+e),t<0&&(t=2*Math.PI+t),e>=t&&(t=t+2*Math.PI),{startAngle:e,endAngle:t}}const V_=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},t),e);return Object.assign(Object.assign({},n),k5(n.startAngle,n.endAngle))},Bu=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=V_(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,n,r,i]]};Bu.props={};const W_=({startAngle:e=0,endAngle:t=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",e,t,n,r]];W_.props={};const g1=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];g1.props={transform:!0};const T5=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},Y_=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=T5(e);return[...g1(),...Bu({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};Y_.props={};const X_=(e={})=>{const t={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},t),e)},v1=e=>{const{startAngle:t,endAngle:n,innerRadius:r,outerRadius:i}=X_(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Bu({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};v1.props={};const y1=()=>[["parallel",0,1,0,1]];y1.props={};const q_=({focusX:e=0,focusY:t=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",e,t,n,r,i]];q_.props={transform:!0};const Z_=e=>{const{startAngle:t=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=e;return[...y1(),...Bu({startAngle:t,endAngle:n,innerRadius:r,outerRadius:i})]};Z_.props={};const J_=({value:e})=>t=>t.map(()=>e);J_.props={};const eM=({value:e})=>t=>t.map(e);eM.props={};const tM=({value:e})=>t=>t.map(n=>n[e]);tM.props={};const nM=({value:e})=>()=>e;nM.props={};var vs=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},Q5=function(e,t){if(!vs(e))return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];t(i,r)&&n.push(i)}return n};function mn(e){return typeof e=="function"}function Oe(e){return e==null}function Cn(e){return Array.isArray(e)}const xu=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function m1(e,t){if(e){var n;if(Cn(e))for(var r=0,i=e.length;r<i&&(n=t(e[r],r),n!==!1);r++);else if(xu(e)){for(var a in e)if(e.hasOwnProperty(a)&&(n=t(e[a],a),n===!1))break}}}var b1=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return m1(e,function(n,r){mn(e)&&r==="prototype"||t.push(r)}),t};function I5(e,t){var n=b1(t),r=n.length;if(Oe(e))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(t[a]!==e[a]||!(a in e))return!1}return!0}var Yv=function(e){return typeof e=="object"&&e!==null},L5={}.toString,rM=function(e,t){return L5.call(e)==="[object "+t+"]"},Ma=function(e){if(!Yv(e)||!rM(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function LA(e,t){if(!Cn(e))return null;var n;if(mn(t)&&(n=t),Ma(t)&&(n=function(i){return I5(i,t)}),n){for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r]}return null}var U5=function(e){if(!Cn(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t};function eh(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}const th=function(e){if(Cn(e))return e.reduce(function(t,n){return Math.min(t,n)},e[0])};var P5=function(e,t,n){if(!Cn(e)&&!Ma(e))return e;var r=n;return m1(e,function(i,a){r=t(r,i,a)}),r};function Ut(e){return typeof e=="string"}function N5(e){if(vs(e))return e[0]}function Br(e){if(vs(e)){var t=e;return t[t.length-1]}}var qt=function(e,t,n){return e<t?t:e>n?n:e};function Et(e){return typeof e=="number"}var R5=1e-5;function mA(e,t,n){return n===void 0&&(n=R5),e===t||Math.abs(e-t)<n}const H5=function(e,t){if(Cn(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var a=e[i],o=mn(t)?t(a):a[t];o>r&&(n=a,r=o)}return n}},D5=function(e,t){if(Cn(e)){for(var n,r=1/0,i=0;i<e.length;i++){var a=e[i],o=mn(t)?t(a):a[t];o<r&&(n=a,r=o)}return n}};var iM=function(e,t){return(e%t+t)%t};const aM=function(e){return Oe(e)?"":e.toString()};var oM=function(e){var t=aM(e);return t.charAt(0).toLowerCase()+t.substring(1)};function j5(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):t[r]===void 0?"":t[r]})}var Co=function(e){var t=aM(e);return t.charAt(0).toUpperCase()+t.substring(1)},hx=function(e){return rM(e,"Boolean")};function sM(e){return e===null}var dt=function(e){return e===void 0};function $5(e){return e instanceof Element||e instanceof Document}function px(e,t){for(var n in t)t.hasOwnProperty(n)&&n!=="constructor"&&t[n]!==void 0&&(e[n]=t[n])}function K5(e,t,n,r){return t&&px(e,t),n&&px(e,n),e}var Pl=function(e){if(typeof e!="object"||e===null)return e;var t;if(Cn(e)){t=[];for(var n=0,r=e.length;n<r;n++)typeof e[n]=="object"&&e[n]!=null?t[n]=Pl(e[n]):t[n]=e[n]}else{t={};for(var i in e)typeof e[i]=="object"&&e[i]!=null?t[i]=Pl(e[i]):t[i]=e[i]}return t};function AM(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,e.apply(i,a)};clearTimeout(r),r=setTimeout(o,t)}}function G5(e){var t,n,r,i=e;function a(s,A){++t>i&&(r=n,o(1),++t),n[s]=A}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var A=n[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){n[s]!==void 0?n[s]=A:a(s,A)}}}var i0=new Map;function z5(e,t,n){var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t?t.apply(this,i):i[0];i0.has(e)||i0.set(e,G5(n));var s=i0.get(e);if(s.has(o))return s.get(o);var A=e.apply(this,i);return s.set(o,A),A};return r}var V5=5;function W5(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function cM(e,t,n,r){n=n||0,r=r||V5;for(var i in t)if(W5(t,i)){var a=t[i];a!==null&&Ma(a)?(Ma(e[i])||(e[i]={}),n<r?cM(e[i],a,n+1,r):e[i]=t[i]):Cn(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var ee=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)cM(e,t[r]);return e},lM=function(e,t){if(!vs(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,i=0;i<e.length;i++)if(e[i]===t){r=i;break}return r},Nl=function(e,t){if(e===t)return!0;if(!e||!t||Ut(e)||Ut(t))return!1;if(vs(e)||vs(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=Nl(e[r],t[r]),!!n);r++);return n}if(Yv(e)||Yv(t)){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var n=!0,r=0;r<i.length&&(n=Nl(e[i[r]],t[i[r]]),!!n);r++);return n}return!1},Y5=function(e){return e};const X5=function(e,t){t===void 0&&(t=Y5);var n={};return xu(e)&&!Oe(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n},We=function(e,t,n){for(var r=0,i=Ut(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return e===void 0||r<i.length?n:e},Tp=function(e,t,n){var r=e,i=Ut(t)?t.split("."):t;return i.forEach(function(a,o){o<i.length-1?(xu(r[a])||(r[a]=Et(i[o+1])?[]:{}),r=r[a]):r[a]=n}),e};var q5=Object.prototype.hasOwnProperty;const w1=function(e,t){if(e===null||!Ma(e))return{};var n={};return m1(t,function(r){q5.call(e,r)&&(n[r]=e[r])}),n},B1=function(e,t){return P5(e,function(n,r,i){return t.includes(i)||(n[i]=r),n},{})},ys=function(e,t,n){var r,i,a,o,s=0;n||(n={});var A=function(){s=n.leading===!1?0:Date.now(),r=null,o=e.apply(i,a),r||(i=a=null)},c=function(){var l=Date.now();!s&&n.leading===!1&&(s=l);var u=t-(l-s);return i=this,a=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=l,o=e.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(A,u)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c},a0=function(){},Xi=function(e){return e};function nh(e){return Oe(e)?0:vs(e)?e.length:Object.keys(e).length}var It=1e-6,un=typeof Float32Array<"u"?Float32Array:Array,Z5="zyx";function ic(){var e=new un(9);return un!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function J5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function e8(e){var t=new un(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function t8(e,t,n,r,i,a,o,s,A){var c=new un(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=A,c}function n8(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=l*o-s*c,f=-l*a+s*A,d=c*a-o*A,h=n*u+r*f+i*d;return h?(h=1/h,e[0]=u*h,e[1]=(-l*r+i*c)*h,e[2]=(s*r-i*o)*h,e[3]=f*h,e[4]=(l*n-i*A)*h,e[5]=(-s*n+i*a)*h,e[6]=d*h,e[7]=(-c*n+r*A)*h,e[8]=(o*n-r*a)*h,e):null}function r8(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],A=t[5],c=t[6],l=t[7],u=t[8],f=n[0],d=n[1],h=n[2],p=n[3],g=n[4],v=n[5],y=n[6],m=n[7],b=n[8];return e[0]=f*r+d*o+h*c,e[1]=f*i+d*s+h*l,e[2]=f*a+d*A+h*u,e[3]=p*r+g*o+v*c,e[4]=p*i+g*s+v*l,e[5]=p*a+g*A+v*u,e[6]=y*r+m*o+b*c,e[7]=y*i+m*s+b*l,e[8]=y*a+m*A+b*u,e}function i8(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function a8(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function o8(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var s8=r8;function st(){var e=new un(16);return un!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function x1(e){var t=new un(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function UA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function uM(e,t,n,r,i,a,o,s,A,c,l,u,f,d,h,p){var g=new un(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=A,g[9]=c,g[10]=l,g[11]=u,g[12]=f,g[13]=d,g[14]=h,g[15]=p,g}function Xv(e,t,n,r,i,a,o,s,A,c,l,u,f,d,h,p,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=A,e[8]=c,e[9]=l,e[10]=u,e[11]=f,e[12]=d,e[13]=h,e[14]=p,e[15]=g,e}function go(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fM(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Ai(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=t[9],f=t[10],d=t[11],h=t[12],p=t[13],g=t[14],v=t[15],y=n*s-r*o,m=n*A-i*o,b=n*c-a*o,w=r*A-i*s,B=r*c-a*s,x=i*c-a*A,C=l*p-u*h,E=l*g-f*h,O=l*v-d*h,S=u*g-f*p,_=u*v-d*p,F=f*v-d*g,k=y*F-m*_+b*S+w*O-B*E+x*C;return k?(k=1/k,e[0]=(s*F-A*_+c*S)*k,e[1]=(i*_-r*F-a*S)*k,e[2]=(p*x-g*B+v*w)*k,e[3]=(f*B-u*x-d*w)*k,e[4]=(A*O-o*F-c*E)*k,e[5]=(n*F-i*O+a*E)*k,e[6]=(g*b-h*x-v*m)*k,e[7]=(l*x-f*b+d*m)*k,e[8]=(o*_-s*O+c*C)*k,e[9]=(r*O-n*_-a*C)*k,e[10]=(h*B-p*b+v*y)*k,e[11]=(u*b-l*B-d*y)*k,e[12]=(s*E-o*S-A*C)*k,e[13]=(n*S-r*E+i*C)*k,e[14]=(p*m-h*w-g*y)*k,e[15]=(l*w-u*m+f*y)*k,e):null}function A8(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=t[9],f=t[10],d=t[11],h=t[12],p=t[13],g=t[14],v=t[15],y=n*s-r*o,m=n*A-i*o,b=n*c-a*o,w=r*A-i*s,B=r*c-a*s,x=i*c-a*A,C=l*p-u*h,E=l*g-f*h,O=l*v-d*h,S=u*g-f*p,_=u*v-d*p,F=f*v-d*g;return e[0]=s*F-A*_+c*S,e[1]=i*_-r*F-a*S,e[2]=p*x-g*B+v*w,e[3]=f*B-u*x-d*w,e[4]=A*O-o*F-c*E,e[5]=n*F-i*O+a*E,e[6]=g*b-h*x-v*m,e[7]=l*x-f*b+d*m,e[8]=o*_-s*O+c*C,e[9]=r*O-n*_-a*C,e[10]=h*B-p*b+v*y,e[11]=u*b-l*B-d*y,e[12]=s*E-o*S-A*C,e[13]=n*S-r*E+i*C,e[14]=p*m-h*w-g*y,e[15]=l*w-u*m+f*y,e}function dM(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],A=e[7],c=e[8],l=e[9],u=e[10],f=e[11],d=e[12],h=e[13],p=e[14],g=e[15],v=t*o-n*a,y=t*s-r*a,m=n*s-r*o,b=c*h-l*d,w=c*p-u*d,B=l*p-u*h,x=t*B-n*w+r*b,C=a*B-o*w+s*b,E=c*m-l*y+u*v,O=d*m-h*y+p*v;return A*x-i*C+g*E-f*O}function $n(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],A=t[5],c=t[6],l=t[7],u=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],y=t[15],m=n[0],b=n[1],w=n[2],B=n[3];return e[0]=m*r+b*s+w*u+B*p,e[1]=m*i+b*A+w*f+B*g,e[2]=m*a+b*c+w*d+B*v,e[3]=m*o+b*l+w*h+B*y,m=n[4],b=n[5],w=n[6],B=n[7],e[4]=m*r+b*s+w*u+B*p,e[5]=m*i+b*A+w*f+B*g,e[6]=m*a+b*c+w*d+B*v,e[7]=m*o+b*l+w*h+B*y,m=n[8],b=n[9],w=n[10],B=n[11],e[8]=m*r+b*s+w*u+B*p,e[9]=m*i+b*A+w*f+B*g,e[10]=m*a+b*c+w*d+B*v,e[11]=m*o+b*l+w*h+B*y,m=n[12],b=n[13],w=n[14],B=n[15],e[12]=m*r+b*s+w*u+B*p,e[13]=m*i+b*A+w*f+B*g,e[14]=m*a+b*c+w*d+B*v,e[15]=m*o+b*l+w*h+B*y,e}function bA(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,A,c,l,u,f,d,h,p,g,v;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],A=t[2],c=t[3],l=t[4],u=t[5],f=t[6],d=t[7],h=t[8],p=t[9],g=t[10],v=t[11],e[0]=o,e[1]=s,e[2]=A,e[3]=c,e[4]=l,e[5]=u,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=v,e[12]=o*r+l*i+h*a+t[12],e[13]=s*r+u*i+p*a+t[13],e[14]=A*r+f*i+g*a+t[14],e[15]=c*r+d*i+v*a+t[15]),e}function hM(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c8(e,t,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),A,c,l,u,f,d,h,p,g,v,y,m,b,w,B,x,C,E,O,S,_,F,k,Q;return s<It?null:(s=1/s,i*=s,a*=s,o*=s,A=Math.sin(n),c=Math.cos(n),l=1-c,u=t[0],f=t[1],d=t[2],h=t[3],p=t[4],g=t[5],v=t[6],y=t[7],m=t[8],b=t[9],w=t[10],B=t[11],x=i*i*l+c,C=a*i*l+o*A,E=o*i*l-a*A,O=i*a*l-o*A,S=a*a*l+c,_=o*a*l+i*A,F=i*o*l+a*A,k=a*o*l-i*A,Q=o*o*l+c,e[0]=u*x+p*C+m*E,e[1]=f*x+g*C+b*E,e[2]=d*x+v*C+w*E,e[3]=h*x+y*C+B*E,e[4]=u*O+p*S+m*_,e[5]=f*O+g*S+b*_,e[6]=d*O+v*S+w*_,e[7]=h*O+y*S+B*_,e[8]=u*F+p*k+m*Q,e[9]=f*F+g*k+b*Q,e[10]=d*F+v*k+w*Q,e[11]=h*F+y*k+B*Q,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function pM(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],A=t[7],c=t[8],l=t[9],u=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*r,e[5]=o*i+l*r,e[6]=s*i+u*r,e[7]=A*i+f*r,e[8]=c*i-a*r,e[9]=l*i-o*r,e[10]=u*i-s*r,e[11]=f*i-A*r,e}function gM(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],A=t[3],c=t[8],l=t[9],u=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*r,e[1]=o*i-l*r,e[2]=s*i-u*r,e[3]=A*i-f*r,e[8]=a*r+c*i,e[9]=o*r+l*i,e[10]=s*r+u*i,e[11]=A*r+f*i,e}function l8(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],A=t[3],c=t[4],l=t[5],u=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*r,e[1]=o*i+l*r,e[2]=s*i+u*r,e[3]=A*i+f*r,e[4]=c*i-a*r,e[5]=l*i-o*r,e[6]=u*i-s*r,e[7]=f*i-A*r,e}function ga(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Xa(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vM(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a),s,A,c;return o<It?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(t),A=Math.cos(t),c=1-A,e[0]=r*r*c+A,e[1]=i*r*c+a*s,e[2]=a*r*c-i*s,e[3]=0,e[4]=r*i*c-a*s,e[5]=i*i*c+A,e[6]=a*i*c+r*s,e[7]=0,e[8]=r*a*c+i*s,e[9]=i*a*c-r*s,e[10]=a*a*c+A,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function yM(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mM(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qv(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bM(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,A=i+i,c=a+a,l=r*s,u=r*A,f=r*c,d=i*A,h=i*c,p=a*c,g=o*s,v=o*A,y=o*c;return e[0]=1-(d+p),e[1]=u+y,e[2]=f-v,e[3]=0,e[4]=u-y,e[5]=1-(l+p),e[6]=h+g,e[7]=0,e[8]=f+v,e[9]=h-g,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function u8(e,t){var n=new un(3),r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],A=t[5],c=t[6],l=t[7],u=r*r+i*i+a*a+o*o;return u>0?(n[0]=(s*o+l*r+A*a-c*i)*2/u,n[1]=(A*o+l*i+c*r-s*a)*2/u,n[2]=(c*o+l*a+s*i-A*r)*2/u):(n[0]=(s*o+l*r+A*a-c*i)*2,n[1]=(A*o+l*i+c*r-s*a)*2,n[2]=(c*o+l*a+s*i-A*r)*2),bM(e,t,n),e}function rh(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function PA(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],A=t[8],c=t[9],l=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(A*A+c*c+l*l),e}function ih(e,t){var n=new un(3);PA(n,t);var r=1/n[0],i=1/n[1],a=1/n[2],o=t[0]*r,s=t[1]*i,A=t[2]*a,c=t[4]*r,l=t[5]*i,u=t[6]*a,f=t[8]*r,d=t[9]*i,h=t[10]*a,p=o+l+h,g=0;return p>0?(g=Math.sqrt(p+1)*2,e[3]=.25*g,e[0]=(u-d)/g,e[1]=(f-A)/g,e[2]=(s-c)/g):o>l&&o>h?(g=Math.sqrt(1+o-l-h)*2,e[3]=(u-d)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(f+A)/g):l>h?(g=Math.sqrt(1+l-o-h)*2,e[3]=(f-A)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(u+d)/g):(g=Math.sqrt(1+h-o-l)*2,e[3]=(s-c)/g,e[0]=(f+A)/g,e[1]=(u+d)/g,e[2]=.25*g),e}function f8(e,t,n,r){t[0]=r[12],t[1]=r[13],t[2]=r[14];var i=r[0],a=r[1],o=r[2],s=r[4],A=r[5],c=r[6],l=r[8],u=r[9],f=r[10];n[0]=Math.sqrt(i*i+a*a+o*o),n[1]=Math.sqrt(s*s+A*A+c*c),n[2]=Math.sqrt(l*l+u*u+f*f);var d=1/n[0],h=1/n[1],p=1/n[2],g=i*d,v=a*h,y=o*p,m=s*d,b=A*h,w=c*p,B=l*d,x=u*h,C=f*p,E=g+b+C,O=0;return E>0?(O=Math.sqrt(E+1)*2,e[3]=.25*O,e[0]=(w-x)/O,e[1]=(B-y)/O,e[2]=(v-m)/O):g>b&&g>C?(O=Math.sqrt(1+g-b-C)*2,e[3]=(w-x)/O,e[0]=.25*O,e[1]=(v+m)/O,e[2]=(B+y)/O):b>C?(O=Math.sqrt(1+b-g-C)*2,e[3]=(B-y)/O,e[0]=(v+m)/O,e[1]=.25*O,e[2]=(w+x)/O):(O=Math.sqrt(1+C-g-b)*2,e[3]=(v-m)/O,e[0]=(B+y)/O,e[1]=(w+x)/O,e[2]=.25*O),e}function d8(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],A=i+i,c=a+a,l=o+o,u=i*A,f=i*c,d=i*l,h=a*c,p=a*l,g=o*l,v=s*A,y=s*c,m=s*l,b=r[0],w=r[1],B=r[2];return e[0]=(1-(h+g))*b,e[1]=(f+m)*b,e[2]=(d-y)*b,e[3]=0,e[4]=(f-m)*w,e[5]=(1-(u+g))*w,e[6]=(p+v)*w,e[7]=0,e[8]=(d+y)*B,e[9]=(p-v)*B,e[10]=(1-(u+h))*B,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function pl(e,t,n,r,i){var a=t[0],o=t[1],s=t[2],A=t[3],c=a+a,l=o+o,u=s+s,f=a*c,d=a*l,h=a*u,p=o*l,g=o*u,v=s*u,y=A*c,m=A*l,b=A*u,w=r[0],B=r[1],x=r[2],C=i[0],E=i[1],O=i[2],S=(1-(p+v))*w,_=(d+b)*w,F=(h-m)*w,k=(d-b)*B,Q=(1-(f+v))*B,L=(g+y)*B,T=(h+m)*x,M=(g-y)*x,I=(1-(f+p))*x;return e[0]=S,e[1]=_,e[2]=F,e[3]=0,e[4]=k,e[5]=Q,e[6]=L,e[7]=0,e[8]=T,e[9]=M,e[10]=I,e[11]=0,e[12]=n[0]+C-(S*C+k*E+T*O),e[13]=n[1]+E-(_*C+Q*E+M*O),e[14]=n[2]+O-(F*C+L*E+I*O),e[15]=1,e}function C1(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,A=i+i,c=n*o,l=r*o,u=r*s,f=i*o,d=i*s,h=i*A,p=a*o,g=a*s,v=a*A;return e[0]=1-u-h,e[1]=l+v,e[2]=f-g,e[3]=0,e[4]=l-v,e[5]=1-c-h,e[6]=d+p,e[7]=0,e[8]=f+g,e[9]=d-p,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function h8(e,t,n,r,i,a,o){var s=1/(n-t),A=1/(i-r),c=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*A,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*A,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0,e}function wM(e,t,n,r,i){var a=1/Math.tan(t/2);if(e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var o=1/(r-i);e[10]=(i+r)*o,e[14]=2*i*r*o}else e[10]=-1,e[14]=-2*r;return e}var p8=wM;function g8(e,t,n,r,i){var a=1/Math.tan(t/2);if(e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var o=1/(r-i);e[10]=i*o,e[14]=i*r*o}else e[10]=-1,e[14]=-r;return e}function v8(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),A=2/(o+s),c=2/(i+a);return e[0]=A,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-s)*A*.5),e[9]=(i-a)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function BM(e,t,n,r,i,a,o){var s=1/(t-n),A=1/(r-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*A,e[14]=(o+a)*c,e[15]=1,e}var xM=BM;function CM(e,t,n,r,i,a,o){var s=1/(t-n),A=1/(r-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*A,e[14]=a*c,e[15]=1,e}function EM(e,t,n,r){var i,a,o,s,A,c,l,u,f,d,h=t[0],p=t[1],g=t[2],v=r[0],y=r[1],m=r[2],b=n[0],w=n[1],B=n[2];return Math.abs(h-b)<It&&Math.abs(p-w)<It&&Math.abs(g-B)<It?go(e):(l=h-b,u=p-w,f=g-B,d=1/Math.sqrt(l*l+u*u+f*f),l*=d,u*=d,f*=d,i=y*f-m*u,a=m*l-v*f,o=v*u-y*l,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=u*o-f*a,A=f*i-l*o,c=l*a-u*i,d=Math.sqrt(s*s+A*A+c*c),d?(d=1/d,s*=d,A*=d,c*=d):(s=0,A=0,c=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=a,e[5]=A,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=f,e[11]=0,e[12]=-(i*h+a*p+o*g),e[13]=-(s*h+A*p+c*g),e[14]=-(l*h+u*p+f*g),e[15]=1,e)}function y8(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=r[0],A=r[1],c=r[2],l=i-n[0],u=a-n[1],f=o-n[2],d=l*l+u*u+f*f;d>0&&(d=1/Math.sqrt(d),l*=d,u*=d,f*=d);var h=A*f-c*u,p=c*l-s*f,g=s*u-A*l;return d=h*h+p*p+g*g,d>0&&(d=1/Math.sqrt(d),h*=d,p*=d,g*=d),e[0]=h,e[1]=p,e[2]=g,e[3]=0,e[4]=u*g-f*p,e[5]=f*h-l*g,e[6]=l*p-u*h,e[7]=0,e[8]=l,e[9]=u,e[10]=f,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function m8(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function b8(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15])}function w8(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function OM(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function B8(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function x8(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Zv(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function C8(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],h=e[12],p=e[13],g=e[14],v=e[15],y=t[0],m=t[1],b=t[2],w=t[3],B=t[4],x=t[5],C=t[6],E=t[7],O=t[8],S=t[9],_=t[10],F=t[11],k=t[12],Q=t[13],L=t[14],T=t[15];return Math.abs(n-y)<=It*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-m)<=It*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(i-b)<=It*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-w)<=It*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-B)<=It*Math.max(1,Math.abs(o),Math.abs(B))&&Math.abs(s-x)<=It*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(A-C)<=It*Math.max(1,Math.abs(A),Math.abs(C))&&Math.abs(c-E)<=It*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(l-O)<=It*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(u-S)<=It*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(f-_)<=It*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(d-F)<=It*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(h-k)<=It*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-Q)<=It*Math.max(1,Math.abs(p),Math.abs(Q))&&Math.abs(g-L)<=It*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(v-T)<=It*Math.max(1,Math.abs(v),Math.abs(T))}var E1=$n,E8=OM;const O8=Object.freeze(Object.defineProperty({__proto__:null,add:w8,adjoint:A8,clone:x1,copy:UA,create:st,decompose:f8,determinant:dM,equals:C8,exactEquals:Zv,frob:b8,fromQuat:C1,fromQuat2:u8,fromRotation:vM,fromRotationTranslation:bM,fromRotationTranslationScale:d8,fromRotationTranslationScaleOrigin:pl,fromScaling:Xa,fromTranslation:ga,fromValues:uM,fromXRotation:yM,fromYRotation:mM,fromZRotation:qv,frustum:h8,getRotation:ih,getScaling:PA,getTranslation:rh,identity:go,invert:Ai,lookAt:EM,mul:E1,multiply:$n,multiplyScalar:B8,multiplyScalarAndAdd:x8,ortho:xM,orthoNO:BM,orthoZO:CM,perspective:p8,perspectiveFromFieldOfView:v8,perspectiveNO:wM,perspectiveZO:g8,rotate:c8,rotateX:pM,rotateY:gM,rotateZ:l8,scale:hM,set:Xv,str:m8,sub:E8,subtract:OM,targetTo:y8,translate:bA,transpose:fM},Symbol.toStringTag,{value:"Module"}));function $e(){var e=new un(3);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function da(e){var t=new un(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function va(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function nt(e,t,n){var r=new un(3);return r[0]=e,r[1]=t,r[2]=n,r}function Ui(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function jn(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function so(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Jv(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function S8(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function F8(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function _8(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function ah(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function M8(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function As(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function Pi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _d(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],A=n[2];return e[0]=i*A-a*s,e[1]=a*o-r*A,e[2]=r*s-i*o,e}function ey(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}function Vt(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function SM(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function k8(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],A=t[1],c=t[2],l=i*c-a*A,u=a*s-r*c,f=r*A-i*s;return l=l+l,u=u+u,f=f+f,e[0]=s+o*l+i*f-a*u,e[1]=A+o*u+a*l-r*f,e[2]=c+o*f+r*u-i*l,e}function yc(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(n-a)<=It*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=It*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=It*Math.max(1,Math.abs(i),Math.abs(s))}var FM=Jv,gx=M8,_M=va;(function(){var e=$e();return function(t,n,r,i,a,o){var s,A;for(n||(n=3),r||(r=0),i?A=Math.min(i*n+r,t.length):A=t.length,s=r;s<A;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function Ni(){var e=new un(4);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Nc(e,t,n,r){var i=new un(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function T8(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Q8(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function I8(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function Ri(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=Ni();return function(t,n,r,i,a,o){var s,A;for(n||(n=4),r||(r=0),i?A=Math.min(i*n+r,t.length):A=t.length,s=r;s<A;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function vn(){var e=new un(4);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ja(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Ao(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],A=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+i*c-a*A,e[1]=i*l+o*A+a*s-r*c,e[2]=a*l+o*c+r*A-i*s,e[3]=o*l-r*s-i*A-a*c,e}function o0(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],A=n[0],c=n[1],l=n[2],u=n[3],f,d,h,p,g;return d=i*A+a*c+o*l+s*u,d<0&&(d=-d,A=-A,c=-c,l=-l,u=-u),1-d>It?(f=Math.acos(d),h=Math.sin(f),p=Math.sin((1-r)*f)/h,g=Math.sin(r*f)/h):(p=1-r,g=r),e[0]=p*i+g*A,e[1]=p*a+g*c,e[2]=p*o+g*l,e[3]=p*s+g*u,e}function s0(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e}function L8(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[a*3+a]-t[o*3+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[a*3+o]-t[o*3+a])*r,e[a]=(t[a*3+i]+t[i*3+a])*r,e[o]=(t[o*3+i]+t[i*3+o])*r}return e}function ef(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Z5,a=Math.PI/360;t*=a,r*=a,n*=a;var o=Math.sin(t),s=Math.cos(t),A=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);switch(i){case"xyz":e[0]=o*c*u+s*A*l,e[1]=s*A*u-o*c*l,e[2]=s*c*l+o*A*u,e[3]=s*c*u-o*A*l;break;case"xzy":e[0]=o*c*u-s*A*l,e[1]=s*A*u-o*c*l,e[2]=s*c*l+o*A*u,e[3]=s*c*u+o*A*l;break;case"yxz":e[0]=o*c*u+s*A*l,e[1]=s*A*u-o*c*l,e[2]=s*c*l-o*A*u,e[3]=s*c*u+o*A*l;break;case"yzx":e[0]=o*c*u+s*A*l,e[1]=s*A*u+o*c*l,e[2]=s*c*l-o*A*u,e[3]=s*c*u-o*A*l;break;case"zxy":e[0]=o*c*u-s*A*l,e[1]=s*A*u+o*c*l,e[2]=s*c*l+o*A*u,e[3]=s*c*u-o*A*l;break;case"zyx":e[0]=o*c*u-s*A*l,e[1]=s*A*u+o*c*l,e[2]=s*c*l-o*A*u,e[3]=s*c*u+o*A*l;break;default:throw new Error("Unknown angle order "+i)}return e}var U8=Nc,tf=T8,MM=Q8,vx=Ao,oh=I8;(function(){var e=$e(),t=nt(1,0,0),n=nt(0,1,0);return function(r,i,a){var o=Pi(i,a);return o<-.999999?(_d(e,t,i),_M(e)<1e-6&&_d(e,n,i),As(e,e),Ja(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(_d(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,oh(r,r))}})();(function(){var e=vn(),t=vn();return function(n,r,i,a,o,s){return o0(e,r,o,s),o0(t,i,a,s),o0(n,e,t,2*s*(1-s)),n}})();(function(){var e=ic();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],oh(t,L8(t,e))}})();function O1(){var e=new un(2);return un!=Float32Array&&(e[0]=0,e[1]=0),e}function P8(e,t){return e[0]=t[0],e[1]=t[1],e}function N8(e,t,n){return e[0]=t,e[1]=n,e}function R8(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function H8(e,t){return e[0]*t[0]+e[1]*t[1]}function D8(e,t){return e[0]===t[0]&&e[1]===t[1]}(function(){var e=O1();return function(t,n,r,i,a,o){var s,A;for(n||(n=2),r||(r=0),i?A=Math.min(i*n+r,t.length):A=t.length,s=r;s<A;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();var ty=function(e,t){return ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ty(e,t)};function Qt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ty(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ae=function(){return Ae=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ae.apply(this,arguments)};function ln(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Cu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function j8(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function xe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function A0(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var kM={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function $8(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],i=n;r.length;)t[n]="A",e.splice(i+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var gl={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function TM(e){return Array.isArray(e)&&e.every(function(t){var n=t[0].toLowerCase();return gl[n]===t.length-1&&"achlmqstvz".includes(n)})}function QM(e){return TM(e)&&e.every(function(t){var n=t[0];return n===n.toUpperCase()})}function IM(e){return QM(e)&&e.every(function(t){var n=t[0];return"ACLMQZ".includes(n)})}function yx(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=gl[n]&&(n==="m"&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(r.splice(0,gl[n]))),!!gl[n]););}function K8(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);if(r===48){e.param=0,e.index+=1;return}if(r===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t)}function G8(e){return e>=48&&e<=57||e===43||e===45||e===46}function Ks(e){return e>=48&&e<=57}function z8(e){var t=e.max,n=e.pathValue,r=e.index,i=r,a=!1,o=!1,s=!1,A=!1,c;if(i>=t){e.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(c=n.charCodeAt(i),(c===43||c===45)&&(i+=1,c=n.charCodeAt(i)),!Ks(c)&&c!==46){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" is not a number');return}if(c!==46){if(a=c===48,i+=1,c=n.charCodeAt(i),a&&i<t&&c&&Ks(c)){e.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;i<t&&Ks(n.charCodeAt(i));)i+=1,o=!0;c=n.charCodeAt(i)}if(c===46){for(A=!0,i+=1;Ks(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(c===101||c===69){if(A&&!o&&!s){e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid float exponent');return}if(i+=1,c=n.charCodeAt(i),(c===43||c===45)&&(i+=1),i<t&&Ks(n.charCodeAt(i)))for(;i<t&&Ks(n.charCodeAt(i));)i+=1;else{e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid integer exponent');return}}e.index=i,e.param=+e.pathValue.slice(r,i)}function V8(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function Md(e){for(var t=e.pathValue,n=e.max;e.index<n&&V8(t.charCodeAt(e.index));)e.index+=1}function W8(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Y8(e){return(e|32)===97}function X8(e){var t=e.max,n=e.pathValue,r=e.index,i=n.charCodeAt(r),a=gl[n[r].toLowerCase()];if(e.segmentStart=r,!W8(i)){e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(e.index+=1,Md(e),e.data=[],!a){yx(e);return}for(;;){for(var o=a;o>0;o-=1){if(Y8(i)&&(o===3||o===4)?K8(e):z8(e),e.err.length)return;e.data.push(e.param),Md(e),e.index<t&&n.charCodeAt(e.index)===44&&(e.index+=1,Md(e))}if(e.index>=e.max||!G8(n.charCodeAt(e.index)))break}yx(e)}var q8=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function Z8(e){if(TM(e))return[].concat(e);var t=new q8(e);for(Md(t);t.index<t.max&&!t.err.length;)X8(t);return t.err?t.err:t.segments}function J8(e){if(QM(e))return[].concat(e);var t=Z8(e),n=0,r=0,i=0,a=0;return t.map(function(o){var s=o.slice(1).map(Number),A=o[0],c=A.toUpperCase();if(A==="M")return n=s[0],r=s[1],i=n,a=r,["M",n,r];var l;if(A!==c)switch(c){case"A":l=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":l=[c,s[0]+r];break;case"H":l=[c,s[0]+n];break;default:{var u=s.map(function(d,h){return d+(h%2?r:n)});l=[c].concat(u)}}else l=[c].concat(s);var f=l.length;switch(c){case"Z":n=i,r=a;break;case"H":n=l[1];break;case"V":r=l[1];break;default:n=l[f-2],r=l[f-1],c==="M"&&(i=n,a=r)}return l})}function e6(e,t){var n=e[0],r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=e.slice(1).map(Number),A=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),n==="H")A=["L",e[1],i];else if(n==="V")A=["L",r,e[1]];else if(n==="S"){var c=r*2-a,l=i*2-o;t.x1=c,t.y1=l,A=["C",c,l].concat(s)}else if(n==="T"){var u=r*2-t.qx,f=i*2-t.qy;t.qx=u,t.qy=f,A=["Q",u,f].concat(s)}else if(n==="Q"){var d=s[0],h=s[1];t.qx=d,t.qy=h}return A}function sh(e){if(IM(e))return[].concat(e);for(var t=J8(e),n=Ae({},kM),r=0;r<t.length;r+=1){t[r]=e6(t[r],n);var i=t[r],a=i.length;n.x1=+i[a-2],n.y1=+i[a-1],n.x2=+i[a-4]||n.x1,n.y2=+i[a-3]||n.y1}return t}function t6(e){return IM(e)&&e.every(function(t){var n=t[0];return"MC".includes(n)})}function nf(e,t,n){var r=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:i}}function S1(e,t,n,r,i,a,o,s,A,c){var l=e,u=t,f=n,d=r,h=s,p=A,g=Math.PI*120/180,v=Math.PI/180*(+i||0),y=[],m,b,w,B,x;if(c)b=c[0],w=c[1],B=c[2],x=c[3];else{m=nf(l,u,-v),l=m.x,u=m.y,m=nf(h,p,-v),h=m.x,p=m.y;var C=(l-h)/2,E=(u-p)/2,O=C*C/(f*f)+E*E/(d*d);O>1&&(O=Math.sqrt(O),f*=O,d*=O);var S=f*f,_=d*d,F=(a===o?-1:1)*Math.sqrt(Math.abs((S*_-S*E*E-_*C*C)/(S*E*E+_*C*C)));B=F*f*E/d+(l+h)/2,x=F*-d*C/f+(u+p)/2,b=Math.asin(((u-x)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),w=Math.asin(((p-x)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),b=l<B?Math.PI-b:b,w=h<B?Math.PI-w:w,b<0&&(b=Math.PI*2+b),w<0&&(w=Math.PI*2+w),o&&b>w&&(b-=Math.PI*2),!o&&w>b&&(w-=Math.PI*2)}var k=w-b;if(Math.abs(k)>g){var Q=w,L=h,T=p;w=b+g*(o&&w>b?1:-1),h=B+f*Math.cos(w),p=x+d*Math.sin(w),y=S1(h,p,f,d,i,0,o,L,T,[w,Q,B,x])}k=w-b;var M=Math.cos(b),I=Math.sin(b),U=Math.cos(w),R=Math.sin(w),N=Math.tan(k/4),j=4/3*f*N,K=4/3*d*N,$=[l,u],V=[l+j*I,u-K*M],W=[h+j*R,p-K*U],z=[h,p];if(V[0]=2*$[0]-V[0],V[1]=2*$[1]-V[1],c)return V.concat(W,z,y);y=V.concat(W,z,y);for(var ne=[],ie=0,le=y.length;ie<le;ie+=1)ne[ie]=ie%2?nf(y[ie-1],y[ie],v).y:nf(y[ie],y[ie+1],v).x;return ne}function n6(e,t,n,r,i,a){var o=.3333333333333333,s=2/3;return[o*e+s*n,o*t+s*r,o*i+s*n,o*a+s*r,i,a]}function za(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return[r+(a-r)*n,i+(o-i)*n]}var mx=function(e,t,n,r){var i=.5,a=za([e,t],[n,r],i);return xe(xe([],a,!0),[n,r,n,r],!1)};function r6(e,t){var n=e[0],r=e.slice(1).map(Number),i=r[0],a=r[1],o,s=t.x1,A=t.y1,c=t.x,l=t.y;switch("TQ".includes(n)||(t.qx=null,t.qy=null),n){case"M":return t.x=i,t.y=a,e;case"A":return o=[s,A].concat(r),["C"].concat(S1(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return t.qx=i,t.qy=a,o=[s,A].concat(r),["C"].concat(n6(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(mx(s,A,i,a));case"Z":return s===c&&A===l?["C",s,A,c,l,c,l]:["C"].concat(mx(s,A,c,l))}return e}function ny(e,t){if(t===void 0&&(t=!1),t6(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r=sh(e),i=Ae({},kM),a=[],o="",s=r.length,A,c,l=[],u=0;u<s;u+=1){r[u]&&(o=r[u][0]),a[u]=o;var f=r6(r[u],i);r[u]=f,$8(r,a,u),s=r.length,o==="Z"&&l.push(u),A=r[u],c=A.length,i.x1=+A[c-2],i.y1=+A[c-1],i.x2=+A[c-4]||i.x1,i.y2=+A[c-3]||i.y1}return t?[r,l]:r}function i6(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function a6(e){var t=e.slice(1).map(function(n,r,i){return r?i[r-1].slice(-2).concat(n.slice(1)):e[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,i){return n[n.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(n){return["C"].concat(n.slice(2))}))}function lr(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function ry(e,t,n,r,i){var a=lr([e,t],[n,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:e,y:t};else if(i>=a)o={x:n,y:r};else{var s=za([e,t],[n,r],i/a),A=s[0],c=s[1];o={x:A,y:c}}return{length:a,point:o,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function bx(e,t){var n=e.x,r=e.y,i=t.x,a=t.y,o=n*i+r*a,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),A=n*a-r*i<0?-1:1,c=A*Math.acos(o/s);return c}function o6(e,t,n,r,i,a,o,s,A,c){var l=Math.abs,u=Math.sin,f=Math.cos,d=Math.sqrt,h=Math.PI,p=l(n),g=l(r),v=(i%360+360)%360,y=v*(h/180);if(e===s&&t===A)return{x:e,y:t};if(p===0||g===0)return ry(e,t,s,A,c).point;var m=(e-s)/2,b=(t-A)/2,w={x:f(y)*m+u(y)*b,y:-u(y)*m+f(y)*b},B=Math.pow(w.x,2)/Math.pow(p,2)+Math.pow(w.y,2)/Math.pow(g,2);B>1&&(p*=d(B),g*=d(B));var x=Math.pow(p,2)*Math.pow(g,2)-Math.pow(p,2)*Math.pow(w.y,2)-Math.pow(g,2)*Math.pow(w.x,2),C=Math.pow(p,2)*Math.pow(w.y,2)+Math.pow(g,2)*Math.pow(w.x,2),E=x/C;E=E<0?0:E;var O=(a!==o?1:-1)*d(E),S={x:O*(p*w.y/g),y:O*(-(g*w.x)/p)},_={x:f(y)*S.x-u(y)*S.y+(e+s)/2,y:u(y)*S.x+f(y)*S.y+(t+A)/2},F={x:(w.x-S.x)/p,y:(w.y-S.y)/g},k=bx({x:1,y:0},F),Q={x:(-w.x-S.x)/p,y:(-w.y-S.y)/g},L=bx(F,Q);!o&&L>0?L-=2*h:o&&L<0&&(L+=2*h),L%=2*h;var T=k+L*c,M=p*f(T),I=g*u(T),U={x:f(y)*M-u(y)*I+_.x,y:u(y)*M+f(y)*I+_.y};return U}function s6(e,t,n,r,i,a,o,s,A,c,l){var u,f=l.bbox,d=f===void 0?!0:f,h=l.length,p=h===void 0?!0:h,g=l.sampleSize,v=g===void 0?30:g,y=typeof c=="number",m=e,b=t,w=0,B=[m,b,w],x=[m,b],C=0,E={x:0,y:0},O=[{x:m,y:b}];y&&c<=0&&(E={x:m,y:b});for(var S=0;S<=v;S+=1){if(C=S/v,u=o6(e,t,n,r,i,a,o,s,A,C),m=u.x,b=u.y,d&&O.push({x:m,y:b}),p&&(w+=lr(x,[m,b])),x=[m,b],y&&w>=c&&c>B[2]){var _=(w-c)/(w-B[2]);E={x:x[0]*(1-_)+B[0]*_,y:x[1]*(1-_)+B[1]*_}}B=[m,b,w]}return y&&c>=w&&(E={x:s,y:A}),{length:w,point:E,min:{x:Math.min.apply(null,O.map(function(F){return F.x})),y:Math.min.apply(null,O.map(function(F){return F.y}))},max:{x:Math.max.apply(null,O.map(function(F){return F.x})),y:Math.max.apply(null,O.map(function(F){return F.y}))}}}function A6(e,t,n,r,i,a,o,s,A){var c=1-A;return{x:Math.pow(c,3)*e+3*Math.pow(c,2)*A*n+3*c*Math.pow(A,2)*i+Math.pow(A,3)*o,y:Math.pow(c,3)*t+3*Math.pow(c,2)*A*r+3*c*Math.pow(A,2)*a+Math.pow(A,3)*s}}function LM(e,t,n,r,i,a,o,s,A,c){var l,u=c.bbox,f=u===void 0?!0:u,d=c.length,h=d===void 0?!0:d,p=c.sampleSize,g=p===void 0?10:p,v=typeof A=="number",y=e,m=t,b=0,w=[y,m,b],B=[y,m],x=0,C={x:0,y:0},E=[{x:y,y:m}];v&&A<=0&&(C={x:y,y:m});for(var O=0;O<=g;O+=1){if(x=O/g,l=A6(e,t,n,r,i,a,o,s,x),y=l.x,m=l.y,f&&E.push({x:y,y:m}),h&&(b+=lr(B,[y,m])),B=[y,m],v&&b>=A&&A>w[2]){var S=(b-A)/(b-w[2]);C={x:B[0]*(1-S)+w[0]*S,y:B[1]*(1-S)+w[1]*S}}w=[y,m,b]}return v&&A>=b&&(C={x:o,y:s}),{length:b,point:C,min:{x:Math.min.apply(null,E.map(function(_){return _.x})),y:Math.min.apply(null,E.map(function(_){return _.y}))},max:{x:Math.max.apply(null,E.map(function(_){return _.x})),y:Math.max.apply(null,E.map(function(_){return _.y}))}}}function c6(e,t,n,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*e+2*s*o*n+Math.pow(o,2)*i,y:Math.pow(s,2)*t+2*s*o*r+Math.pow(o,2)*a}}function l6(e,t,n,r,i,a,o,s){var A,c=s.bbox,l=c===void 0?!0:c,u=s.length,f=u===void 0?!0:u,d=s.sampleSize,h=d===void 0?10:d,p=typeof o=="number",g=e,v=t,y=0,m=[g,v,y],b=[g,v],w=0,B={x:0,y:0},x=[{x:g,y:v}];p&&o<=0&&(B={x:g,y:v});for(var C=0;C<=h;C+=1){if(w=C/h,A=c6(e,t,n,r,i,a,w),g=A.x,v=A.y,l&&x.push({x:g,y:v}),f&&(y+=lr(b,[g,v])),b=[g,v],p&&y>=o&&o>m[2]){var E=(y-o)/(y-m[2]);B={x:b[0]*(1-E)+m[0]*E,y:b[1]*(1-E)+m[1]*E}}m=[g,v,y]}return p&&o>=y&&(B={x:i,y:a}),{length:y,point:B,min:{x:Math.min.apply(null,x.map(function(O){return O.x})),y:Math.min.apply(null,x.map(function(O){return O.y}))},max:{x:Math.max.apply(null,x.map(function(O){return O.x})),y:Math.max.apply(null,x.map(function(O){return O.y}))}}}function UM(e,t,n){for(var r,i,a,o,s,A,c=sh(e),l=typeof t=="number",u,f=[],d,h=0,p=0,g=0,v=0,y,m=[],b=[],w=0,B={x:0,y:0},x=B,C=B,E=B,O=0,S=0,_=c.length;S<_;S+=1)y=c[S],d=y[0],u=d==="M",f=u?f:[h,p].concat(y.slice(1)),u?(g=y[1],v=y[2],B={x:g,y:v},x=B,w=0,l&&t<.001&&(E=B)):d==="L"?(r=ry(f[0],f[1],f[2],f[3],(t||0)-O),w=r.length,B=r.min,x=r.max,C=r.point):d==="A"?(i=s6(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],(t||0)-O,n||{}),w=i.length,B=i.min,x=i.max,C=i.point):d==="C"?(a=LM(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],(t||0)-O,n||{}),w=a.length,B=a.min,x=a.max,C=a.point):d==="Q"?(o=l6(f[0],f[1],f[2],f[3],f[4],f[5],(t||0)-O,n||{}),w=o.length,B=o.min,x=o.max,C=o.point):d==="Z"&&(f=[h,p,g,v],s=ry(f[0],f[1],f[2],f[3],(t||0)-O),w=s.length,B=s.min,x=s.max,C=s.point),l&&O<t&&O+w>=t&&(E=C),b.push(x),m.push(B),O+=w,A=d!=="Z"?y.slice(-2):[g,v],h=A[0],p=A[1];return l&&t>=O&&(E={x:h,y:p}),{length:O,point:E,min:{x:Math.min.apply(null,m.map(function(F){return F.x})),y:Math.min.apply(null,m.map(function(F){return F.y}))},max:{x:Math.max.apply(null,b.map(function(F){return F.x})),y:Math.max.apply(null,b.map(function(F){return F.y}))}}}function u6(e,t){return UM(e,void 0,Ae(Ae({},t),{bbox:!1,length:!0})).length}function f6(e){var t=e.length,n=t-1;return e.map(function(r,i){return e.map(function(a,o){var s=i+o,A;return o===0||e[s]&&e[s][0]==="M"?(A=e[s],["M"].concat(A.slice(-2))):(s>=t&&(s-=n),e[s])})})}function d6(e,t){var n=e.length-1,r=[],i=0,a=0,o=f6(e);return o.forEach(function(s,A){e.slice(1).forEach(function(c,l){a+=lr(e[(A+l)%n].slice(-2),t[l%n].slice(-2))}),r[A]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}function h6(e,t,n,r,i,a,o,s){return 3*((s-t)*(n+i)-(o-e)*(r+a)+r*(e-i)-n*(t-a)+s*(i+e/3)-o*(a+t/3))/20}function p6(e){var t=0,n=0,r=0;return ny(e).map(function(i){var a;switch(i[0]){case"M":return t=i[1],n=i[2],0;default:var o=i.slice(1),s=o[0],A=o[1],c=o[2],l=o[3],u=o[4],f=o[5];return r=h6(t,n,s,A,c,l,u,f),a=i.slice(-2),t=a[0],n=a[1],r}}).reduce(function(i,a){return i+a},0)}function wx(e){return p6(e)>=0}function g6(e,t,n){return UM(e,t,Ae(Ae({},n),{bbox:!1,length:!0})).point}var v6=50;function y6(e,t){t===void 0&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),a=e.slice(6,8),o=za(n,r,t),s=za(r,i,t),A=za(i,a,t),c=za(o,s,t),l=za(s,A,t),u=za(c,l,t);return[["C"].concat(o,c,u),["C"].concat(l,A,a)]}function Bx(e){return e.map(function(t,n,r){var i=n&&r[n-1].slice(-2).concat(t.slice(1)),a=n?LM(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return n?o=a?y6(i):[t,t]:o=[t],{s:t,ss:o,l:a}})}function PM(e,t,n,r){if(r===void 0&&(r=0),r>v6)return console.warn("Maximum recursion depth reached in equalizeSegments"),[e,t];var i=Bx(e),a=Bx(t),o=i.length,s=a.length,A=i.filter(function(v){return v.l}).length,c=a.filter(function(v){return v.l}).length,l=i.filter(function(v){return v.l}).reduce(function(v,y){var m=y.l;return v+m},0)/A||0,u=a.filter(function(v){return v.l}).reduce(function(v,y){var m=y.l;return v+m},0)/c||0,f=n||Math.max(o,s),d=[l,u],h=[f-o,f-s],p=0,g=[i,a].map(function(v,y){return v.l===f?v.map(function(m){return m.s}):v.map(function(m,b){return p=b&&h[y]&&m.l>=d[y],h[y]-=p?1:0,p?m.ss:[m.s]}).flat()});return g[0].length===g[1].length?g:PM(g[0],g[1],f,r+1)}function xx(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function wt(e,t){if(e!==null)return{type:"column",value:e,field:t}}function Rl(e,t){const n=wt(e,t);return Object.assign(Object.assign({},n),{inferred:!0})}function Ah(e,t){if(e!==null)return{type:"column",value:e,field:t,visual:!0}}function m6(e,t){const n=wt(e,t);return Object.assign(Object.assign({},n),{constant:!1})}function co(e,t){const n=[];for(const r of e)n[r]=t;return n}function tt(e,t){const n=e[t];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function ch(e,...t){for(const n of t)if(typeof n=="string"){const[r,i]=tt(e,n);if(r!==null)return[r,i]}else return[n,null];return[null,null]}function Eu(e){return e instanceof Date?!1:typeof e=="object"}const Ou=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;return r!==void 0?[e,t]:[e,ee({},t,{encode:{y1:Rl(co(e,0))}})]};Ou.props={};function zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xa(e){let t,n,r;e.length!==2?(t=zt,n=(s,A)=>zt(e(s),A),r=(s,A)=>e(s)-A):(t=e===zt||e===b6?e:w6,n=e,r=e);function i(s,A,c=0,l=s.length){if(c<l){if(t(A,A)!==0)return l;do{const u=c+l>>>1;n(s[u],A)<0?c=u+1:l=u}while(c<l)}return c}function a(s,A,c=0,l=s.length){if(c<l){if(t(A,A)!==0)return l;do{const u=c+l>>>1;n(s[u],A)<=0?c=u+1:l=u}while(c<l)}return c}function o(s,A,c=0,l=s.length){const u=i(s,A,c,l-1);return u>c&&r(s[u-1],A)>-r(s[u],A)?u-1:u}return{left:i,center:o,right:a}}function w6(){return 0}function iy(e){return e===null?NaN:+e}function*B6(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const NM=xa(zt),x6=NM.right,C6=NM.left,E6=xa(iy).center;function RM(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function O6(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function HM(e,t){const n=O6(e,t);return n&&Math.sqrt(n)}function Ca(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class ms{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}let S6=class extends Map{constructor(t,n=M6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Cx(this,t))}has(t){return super.has(Cx(this,t))}set(t,n){return super.set(F6(this,t),n)}delete(t){return super.delete(_6(this,t))}};function Cx({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _6({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function M6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hl(e){return e}function bt(e,...t){return Qp(e,Hl,Hl,t)}function F1(e,...t){return Qp(e,Array.from,Hl,t)}function _1(e,t,...n){return Qp(e,Hl,t,n)}function M1(e,t,...n){return Qp(e,Array.from,t,n)}function Qp(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new S6,A=r[o++];let c=-1;for(const l of a){const u=A(l,++c,a),f=s.get(u);f?f.push(l):s.set(u,[l])}for(const[l,u]of s)s.set(l,i(u,o));return t(s)}(e,0)}function k6(e,t){return Array.from(t,n=>e[n])}function li(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Dl(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Dl(n[i],n[a]))),k6(e,r)}return e.sort(DM(n))}function DM(e=zt){if(e===zt)return Dl;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Dl(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function T6(e,t,n){return(t.length!==2?li(_1(e,t,n),([r,i],[a,o])=>zt(i,o)||zt(r,a)):li(bt(e,n),([r,i],[a,o])=>t(i,o)||zt(r,a))).map(([r])=>r)}var Q6=Array.prototype,I6=Q6.slice;function c0(e){return()=>e}const L6=Math.sqrt(50),U6=Math.sqrt(10),P6=Math.sqrt(2);function lh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=L6?10:a>=U6?5:a>=P6?2:1;let s,A,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),A=Math.round(t*c),s/c<e&&++s,A/c>t&&--A,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),A=Math.round(t/c),s*c<e&&++s,A*c>t&&--A),A<s&&.5<=n&&n<2?lh(e,t,n*2):[s,A,c]}function N6(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?lh(t,e,n):lh(e,t,n);if(!(a>=i))return[];const s=a-i+1,A=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)A[c]=(a-c)/-o;else for(let c=0;c<s;++c)A[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)A[c]=(i+c)/-o;else for(let c=0;c<s;++c)A[c]=(i+c)*o;return A}function ay(e,t,n){return t=+t,e=+e,n=+n,lh(e,t,n)[2]}function R6(e,t,n){let r;for(;;){const i=ay(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function H6(e){return Math.max(1,Math.ceil(Math.log(RM(e))/Math.LN2)+1)}function D6(){var e=Hl,t=Ca,n=H6;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,A,c=new Array(o);for(a=0;a<o;++a)c[a]=e(i[a],a,i);var l=t(c),u=l[0],f=l[1],d=n(c,u,f);if(!Array.isArray(d)){const m=f,b=+d;if(t===Ca&&([u,f]=R6(u,f,b)),d=N6(u,f,b),d[0]<=u&&(A=ay(u,f,b)),d[d.length-1]>=f)if(m>=f&&t===Ca){const w=ay(u,f,b);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else d.pop()}for(var h=d.length,p=0,g=h;d[p]<=u;)++p;for(;d[g-1]>f;)--g;(p||g<h)&&(d=d.slice(p,g),h=g-p);var v=new Array(h+1),y;for(a=0;a<=h;++a)y=v[a]=[],y.x0=a>0?d[a-1]:u,y.x1=a<h?d[a]:f;if(isFinite(A)){if(A>0)for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&v[Math.min(h,Math.floor((s-u)/A))].push(i[a]);else if(A<0){for(a=0;a<o;++a)if((s=c[a])!=null&&u<=s&&s<=f){const m=Math.floor((u-s)*A);v[Math.min(h,m+(d[m]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&v[x6(d,s,0,h)].push(i[a]);return v}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:c0(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:c0([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:c0(Array.isArray(i)?I6.call(i):i),r):n},r}function ct(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ac(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Or(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Su(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function k1(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Dl:DM(i);r>n;){if(r-n>600){const A=r-n+1,c=t-n+1,l=Math.log(A),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(A-u)/A)*(c-A/2<0?-1:1),d=Math.max(n,Math.floor(t-c*u/A+f)),h=Math.min(r,Math.floor(t+(A-c)*u/A+f));k1(e,t,d,h,i)}const a=e[t];let o=n,s=r;for(mc(e,n,t),i(e[r],a)>0&&mc(e,n,r);o<s;){for(mc(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?mc(e,n,s):(++s,mc(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function mc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function j6(e,t=zt){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?zt(o,i)>0:zt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Ip(e,t,n){if(e=Float64Array.from(B6(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Or(e);if(t>=1)return ct(e);var r,i=(r-1)*t,a=Math.floor(i),o=ct(k1(e,a).subarray(0,a+1)),s=Or(e.subarray(a+1));return o+(s-o)*(i-a)}}function $6(e,t,n=iy){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,A)=>iy(n(e[A],A,e))),t<=0)return Su(r);if(t>=1)return ac(r);var r,i=Uint32Array.from(e,(s,A)=>A),a=r.length-1,o=Math.floor(a*t);return k1(i,o,0,a,(s,A)=>Dl(r[s],r[A])),o=j6(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function K6(e,t,n){const r=RM(e),i=HM(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function jl(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function T1(e,t){return Ip(e,.5,t)}function G6(e,t){return $6(e,.5,t)}function*z6(e){for(const t of e)yield*t}function jM(e){return Array.from(z6(e))}function uA(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function zr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function NA(e,...t){return t.reduce((n,r)=>i=>n(r(i)),e)}function uh(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function V6(e,t){const n=t<e?t:e,r=e>t?e:t;return i=>Math.min(Math.max(n,i),r)}function Q1(e,t,n,r,i){let a=n||0,o=r||e.length;const s=i||(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(e[A])>t?o=A:a=A+1}return a}const oy=Math.sqrt(50),sy=Math.sqrt(10),Ay=Math.sqrt(2);function kd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=oy?10:a>=sy?5:a>=Ay?2:1)*10**i:-(10**-i)/(a>=oy?10:a>=sy?5:a>=Ay?2:1)}function Ex(e,t,n){const r=Math.abs(t-e)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=oy?i*=10:a>=sy?i*=5:a>=Ay&&(i*=2),t<e?-i:i}const I1=(e,t,n=5)=>{const r=[e,t];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=kd(o,s,n),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=kd(o,s,n)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=kd(o,s,n)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r},$l=1e3,Kl=$l*60,Gl=Kl*60,bs=Gl*24,vl=bs*7,$M=bs*30,KM=bs*365;function zn(e,t,n,r){const i=(c,l)=>{const u=d=>r(d)%l===0;let f=l;for(;f&&!u(c);)n(c,-1),f-=1;return c},a=(c,l)=>{l&&i(c,l),t(c)},o=(c,l)=>{const u=new Date(+c);return a(u,l),u},s=(c,l)=>{const u=new Date(+c-1);return a(u,l),n(u,l),a(u),u};return{ceil:s,floor:o,range:(c,l,u,f)=>{const d=[],h=Math.floor(u),p=f?s(c,u):s(c);for(let g=p;g<l;n(g,h),a(g))d.push(new Date(+g));return d},duration:e}}const W6=zn(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),Y6=zn($l,e=>{e.setMilliseconds(0)},(e,t=1)=>{e.setTime(+e+$l*t)},e=>e.getSeconds()),X6=zn(Kl,e=>{e.setSeconds(0,0)},(e,t=1)=>{e.setTime(+e+Kl*t)},e=>e.getMinutes()),q6=zn(Gl,e=>{e.setMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+Gl*t)},e=>e.getHours()),Z6=zn(bs,e=>{e.setHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+bs*t)},e=>e.getDate()-1),GM=zn($M,e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getMonth();e.setMonth(n+t)},e=>e.getMonth()),J6=zn(vl,e=>{e.setDate(e.getDate()-e.getDay()%7),e.setHours(0,0,0,0)},(e,t=1)=>{e.setDate(e.getDate()+7*t)},e=>{const t=GM.floor(e),n=new Date(+e);return Math.floor((+n-+t)/vl)}),ej=zn(KM,e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t=1)=>{const n=e.getFullYear();e.setFullYear(n+t)},e=>e.getFullYear()),zM={millisecond:W6,second:Y6,minute:X6,hour:q6,day:Z6,week:J6,month:GM,year:ej},tj=zn(1,e=>e,(e,t=1)=>{e.setTime(+e+t)},e=>e.getTime()),nj=zn($l,e=>{e.setUTCMilliseconds(0)},(e,t=1)=>{e.setTime(+e+$l*t)},e=>e.getUTCSeconds()),rj=zn(Kl,e=>{e.setUTCSeconds(0,0)},(e,t=1)=>{e.setTime(+e+Kl*t)},e=>e.getUTCMinutes()),ij=zn(Gl,e=>{e.setUTCMinutes(0,0,0)},(e,t=1)=>{e.setTime(+e+Gl*t)},e=>e.getUTCHours()),aj=zn(bs,e=>{e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+bs*t)},e=>e.getUTCDate()-1),VM=zn($M,e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCMonth();e.setUTCMonth(n+t)},e=>e.getUTCMonth()),oj=zn(vl,e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7)%7),e.setUTCHours(0,0,0,0)},(e,t=1)=>{e.setTime(+e+vl*t)},e=>{const t=VM.floor(e),n=new Date(+e);return Math.floor((+n-+t)/vl)}),sj=zn(KM,e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t=1)=>{const n=e.getUTCFullYear();e.setUTCFullYear(n+t)},e=>e.getUTCFullYear()),WM={millisecond:tj,second:nj,minute:rj,hour:ij,day:aj,week:oj,month:VM,year:sj};function Aj(e){const t=e?WM:zM,{year:n,month:r,week:i,day:a,hour:o,minute:s,second:A,millisecond:c}=t;return{tickIntervals:[[A,1],[A,5],[A,15],[A,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function YM(e,t,n,r,i){const a=+e,o=+t,{tickIntervals:s,year:A,millisecond:c}=Aj(i),l=([g,v])=>g.duration*v,u=r?(o-a)/r:n||5,f=r||(o-a)/u,d=s.length,h=Q1(s,f,0,d,l);let p;if(h===d){const g=Ex(a/A.duration,o/A.duration,u);p=[A,g]}else if(h){const g=f/l(s[h-1])<l(s[h])/f,[v,y]=g?s[h-1]:s[h],m=r?Math.ceil(r/v.duration):y;p=[v,m]}else{const g=Math.max(Ex(a,o,u),1);p=[c,g]}return p}const cj=(e,t,n,r,i)=>{const a=e>t,o=a?t:e,s=a?e:t,[A,c]=YM(o,s,n,r,i),l=[A.floor(o,c),A.ceil(s,c)];return a?l.reverse():l};function fh(e){return!dt(e)&&!sM(e)&&!Number.isNaN(e)}const XM=e=>t=>-e(-t),L1=(e,t)=>{const n=Math.log(e),r=e===Math.E?Math.log:e===10?Math.log10:e===2?Math.log2:i=>Math.log(i)/n;return t?XM(r):r},U1=(e,t)=>{const n=e===Math.E?Math.exp:r=>e**r;return t?XM(n):n},lj=(e,t,n,r)=>{const i=e<0,a=L1(r,i),o=U1(r,i),s=e>t,A=s?t:e,c=s?e:t,l=[o(Math.floor(a(A))),o(Math.ceil(a(c)))];return s?l.reverse():l},uj=e=>t=>{const n=e(t);return Et(n)?Math.round(n):n};function fj(e,t){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=e(r)},n.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),A=t(a.map(r)),c=s?uj(o):o;this.output=NA(c,A,i,r)},n.prototype.invert=void 0}}function P1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qM={exports:{}},dj={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ZM={exports:{}},hj=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},pj=hj,gj=Array.prototype.concat,vj=Array.prototype.slice,Ox=ZM.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var a=t[r];pj(a)?n=gj.call(n,vj.call(a)):n.push(a)}return n};Ox.wrap=function(e){return function(){return e(Ox(arguments))}};var yj=ZM.exports,yl=dj,Fu=yj,JM=Object.hasOwnProperty,ek=Object.create(null);for(var l0 in yl)JM.call(yl,l0)&&(ek[yl[l0]]=l0);var Cr=qM.exports={to:{},get:{}};Cr.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=Cr.get.hsl(e),r="hsl";break;case"hwb":n=Cr.get.hwb(e),r="hwb";break;default:n=Cr.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};Cr.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,o=[0,0,0,1],s,A,c;if(s=e.match(n)){for(c=s[2],s=s[1],A=0;A<3;A++){var l=A*2;o[A]=parseInt(s.slice(l,l+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(s=e.match(t)){for(s=s[1],c=s[3],A=0;A<3;A++)o[A]=parseInt(s[A]+s[A],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(s=e.match(r)){for(A=0;A<3;A++)o[A]=parseInt(s[A+1],0);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else if(s=e.match(i)){for(A=0;A<3;A++)o[A]=Math.round(parseFloat(s[A+1])*2.55);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else return(s=e.match(a))?s[1]==="transparent"?[0,0,0,0]:JM.call(yl,s[1])?(o=yl[s[1]],o[3]=1,o):null:null;for(A=0;A<3;A++)o[A]=lo(o[A],0,255);return o[3]=lo(o[3],0,1),o};Cr.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,a=lo(parseFloat(n[2]),0,100),o=lo(parseFloat(n[3]),0,100),s=lo(isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Cr.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,a=lo(parseFloat(n[2]),0,100),o=lo(parseFloat(n[3]),0,100),s=lo(isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Cr.to.hex=function(){var e=Fu(arguments);return"#"+rf(e[0])+rf(e[1])+rf(e[2])+(e[3]<1?rf(Math.round(e[3]*255)):"")};Cr.to.rgb=function(){var e=Fu(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Cr.to.rgb.percent=function(){var e=Fu(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};Cr.to.hsl=function(){var e=Fu(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Cr.to.hwb=function(){var e=Fu(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Cr.to.keyword=function(e){return ek[e.slice(0,3)]};function lo(e,t,n){return Math.min(Math.max(t,e),n)}function rf(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var mj=qM.exports;const N1=P1(mj);function u0(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bj(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=u0(o,a,t+1/3),A=u0(o,a,t),c=u0(o,a,t-1/3);return[s*255,A*255,c*255,i]}function Sx(e){const t=N1.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?bj(r):null}const RA=(e,t)=>n=>e*(1-n)+t*n,wj=(e,t)=>{const n=Sx(e),r=Sx(t);return n===null||r===null?n?()=>e:()=>t:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=n[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},_u=(e,t)=>typeof e=="number"&&typeof t=="number"?RA(e,t):typeof e=="string"&&typeof t=="string"?wj(e,t):()=>e,Bj=(e,t)=>{const n=RA(e,t);return r=>Math.round(n(r))};function xj(e,t){const{second:n,minute:r,hour:i,day:a,week:o,month:s,year:A}=t;return n.floor(e)<e?".SSS":r.floor(e)<e?":ss":i.floor(e)<e?"hh:mm":a.floor(e)<e?"hh A":s.floor(e)<e?o.floor(e)<e?"MMM DD":"ddd DD":A.floor(e)<e?"MMMM":"YYYY"}function Fx({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Cj({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ej({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Oj(e){return typeof e=="object"?e.valueOf():e}let _x=class extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=Oj,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(Fx({map:this.map,initKey:this.initKey},t))}has(t){return super.has(Fx({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(Cj({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(Ej({map:this.map,initKey:this.initKey},t))}},Mu=class{transformBreaks(t){return t}constructor(t){var n;this.options=ee({},this.getDefaultOptions()),this.update(!((n=t==null?void 0:t.breaks)===null||n===void 0)&&n.length?this.transformBreaks(t):t)}getOptions(){return this.options}update(t={}){const n=t.breaks?this.transformBreaks(t):t;this.options=ee({},this.options,n),this.rescale(n)}rescale(t){}};const Lp=Symbol("defaultUnknown");function Mx(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function kx(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:a}=e;let o=i.get(t);if(o===void 0){if(a!==Lp)return a;o=n.push(t)-1,i.set(t,o)}return r[o%r.length]}function Tx(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let tk=class nk extends Mu{getDefaultOptions(){return{domain:[],range:[],unknown:Lp}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&Mx(this.domainIndexMap,this.getDomain(),this.domainKey),kx({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&Mx(this.rangeIndexMap,this.getRange(),this.rangeKey),kx({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=Tx(n),this.rangeKey=Tx(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new nk(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function Sj(e){const t=e.reduce((n,r)=>Math.min(n,r),1/0);return t===1/0?[]:e.map(n=>n/t)}function Fj(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function _j(e){return Math.round(e*1e12)/1e12}function Mj(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=e,A=t.length,c=Fj(a,A),[l,u]=n,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,g=h-A*p,v=Sj(c),y=v.reduce((_,F)=>_+F),m=g/y,b=new _x(t.map((_,F)=>{const k=v[F]*m;return[_,o?Math.floor(k):k]})),w=new _x(t.map((_,F)=>{const Q=v[F]*m+p;return[_,o?Math.floor(Q):Q]})),B=Array.from(w.values()).reduce((_,F)=>_+F),C=(f-(B-B/A*i))*s,E=l+C;let O=o?Math.round(E):E;const S=new Array(A);for(let _=0;_<A;_+=1){S[_]=_j(O);const F=t[_];O+=w.get(F)}return{valueBandWidth:b,valueStep:w,adjustedRange:S}}function kj(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return Mj(e);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=e;let l,u,f=a[0];const h=a[1]-f,p=o*2,g=r-s;l=h/Math.max(1,p+g),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const v=new Array(r).fill(0).map((y,m)=>f+m*l);return{valueStep:l,valueBandWidth:u,adjustedRange:v}}let zl=class rk extends tk{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Lp,flex:[]}}constructor(t){super(t)}clone(){return new rk(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=kj({align:t,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}};const Tj=(e,t)=>{if(!(t!=null&&t.length))return e;const n=[...e,...t.flatMap(a=>[a.start,a.end])],i=Array.from(new Set(n)).sort((a,o)=>a-o).filter(a=>!t.some(({start:o,end:s})=>a>o&&a<s));return i.length?i:e},vo=(e,t,n,r)=>{let i,a,o=e,s=t;if(o===s&&n>0)return[o];let A=kd(o,s,n);if(A===0||!Number.isFinite(A))return[];if(A>0){o=Math.ceil(o/A),s=Math.floor(s/A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)*A}else{A=-A,o=Math.ceil(o*A),s=Math.floor(s*A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)/A}return Tj(a,r)};let R1=class ik extends Mu{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:vo}}map(t){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(t){const[n]=this.options.range;return t===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:n,tickCount:r}=this.options,[i,a]=n;return!Et(i)||!Et(a)?[]:t(i,a,r)}clone(){return new ik(this.options)}};function bc(e){return Math.abs(e)<1e-14?e:parseFloat(e.toFixed(14))}const Qj=[1,5,2,2.5,4,3],Qx=Number.EPSILON*100;function Ij(e,t){return(e%t+t)%t}function Lj(e){return Math.round(e*1e12)/1e12}function Uj(e,t,n,r,i,a){const o=nh(t),s=lM(t,e);let A=0;const c=Ij(r,a);return(c<Qx||a-c<Qx)&&r<=0&&i>=0&&(A=1),1-s/(o-1)-n+A}function Pj(e,t,n){const r=nh(t);return 1-lM(t,e)/(r-1)-n+1}function Nj(e,t,n,r,i,a){const o=(e-1)/(a-i),s=(t-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function Rj(e,t){return e>=t?2-(e-1)/(t-1):1}function Hj(e,t,n,r){const i=t-e;return 1-.5*((t-r)**2+(e-n)**2)/(.1*i)**2}function Dj(e,t,n){const r=t-e;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function jj(){return 1}const H1=(e,t,n=5,r=!0,i=Qj,a=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||typeof e!="number"||typeof t!="number"||!o)return[];if(t-e<1e-15||o===1)return[e];const s={score:-2,lmin:0,lmax:0,lstep:0};let A=1;for(;A<1/0;){for(let h=0;h<i.length;h+=1){const p=i[h],g=Pj(p,i,A);if(a[0]*g+a[1]+a[2]+a[3]<s.score){A=1/0;break}let v=2;for(;v<1/0;){const y=Rj(v,o);if(a[0]*g+a[1]+a[2]*y+a[3]<s.score)break;const m=(t-e)/(v+1)/A/p;let b=Math.ceil(Math.log10(m));for(;b<1/0;){const w=A*p*10**b,B=Dj(e,t,w*(v-1));if(a[0]*g+a[1]*B+a[2]*y+a[3]<s.score)break;const x=Math.floor(t/w)*A-(v-1)*A,C=Math.ceil(e/w)*A;if(x<=C){const E=C-x;for(let O=0;O<=E;O+=1){const _=(x+O)*(w/A),F=_+w*(v-1),k=w,Q=Uj(p,i,A,_,F,k),L=Hj(e,t,_,F),T=Nj(v,o,e,t,_,F),M=jj(),I=a[0]*Q+a[1]*L+a[2]*T+a[3]*M;I>s.score&&(!r||_<=e&&F>=t)&&(s.lmin=_,s.lmax=F,s.lstep=k,s.score=I)}}b+=1}v+=1}}A+=1}const c=bc(s.lmax),l=bc(s.lmin),u=bc(s.lstep),f=Math.floor(Lj((c-l)/u))+1,d=new Array(f);d[0]=bc(l);for(let h=1;h<f;h+=1)d[h]=bc(d[h-1]+u);return d};let ak=class ok extends Mu{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:H1}}map(t){return fh(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new ok(this.options)}getTicks(){const{domain:t,tickCount:n,tickMethod:r}=this.options,[i,a]=t;return!Et(i)||!Et(a)?[]:r(i,a,n)}};const $j=(e,t,n)=>{const[r,i]=e,[a,o]=t;let s,A;return r<i?(s=uh(r,i),A=n(a,o)):(s=uh(i,r),A=n(o,a)),NA(A,s)},Kj=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,A=o?[...t].reverse():t;for(let c=0;c<r;c+=1)i[c]=uh(s[c],s[c+1]),a[c]=n(A[c],A[c+1]);return c=>{const l=Q1(e,c,1,r)-1,u=i[l],f=a[l];return NA(f,u)(c)}},Ix=(e,t,n,r)=>(Math.min(e.length,t.length)>2?Kj:$j)(e,t,r?Bj:n);let Up=class extends Mu{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:RA,tickCount:5}}map(t){return fh(t)?this.output(t):this.options.unknown}invert(t){return fh(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice||Cn(this.options.breaks))return;const[t,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...i)}getTicks(){const{tickMethod:t}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return t(n,r,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}chooseNice(){return I1}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,r.length);return n?V6(i[0],i[a-1]):Xi}composeOutput(t,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=Ix(r.map(t),i,o,a);this.output=NA(s,n,t)}composeInput(t,n,r){const{domain:i,range:a}=this.options,o=Ix(a,i.map(t),RA);this.input=NA(n,r,o)}},ka=class sk extends Up{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:_u,tickMethod:vo,tickCount:5}}removeUnsortedValues(t,n,r){let i=-1/0;return n.reduce((o,s,A)=>{if(A===0)return o;const c=i>0?i:s;return i>0&&(r?s>i:s<i)?o.push(A):(c-n[A-1])*(r?-1:1)<0?(i<0&&(i=n[A-1]),o.push(A)):i=-1/0,o},[]).slice().reverse().forEach(o=>{t.splice(o,1),n.splice(o,1)}),{breaksDomain:t,breaksRange:n}}transformDomain(t){const n=[.2,.8],r=.03,{domain:i=[],range:a=[1,0],breaks:o=[],tickCount:s=5,nice:A}=t,[c,l]=[Math.min(...i),Math.max(...i)];let u=c,f=l;if(A&&o.length<2){const E=this.chooseNice()(c,l,s);u=E[0],f=E[E.length-1]}const d=Math.min(u,c);let h=Math.max(f,l);const p=o.filter(({end:E})=>E<h).sort((E,O)=>E.start-O.start),g=vo(d,h,s,p);if(Br(g)<h){const E=I1(0,h-Br(g),3);g.push(Br(g)+Br(E)),h=Br(g)}const[v,y]=[a[0],Br(a)],m=h-d,b=Math.abs(y-v),w=v>y,B=g.map(E=>{const O=(E-d)/m;return w?v-O*b:v+O*b}),[x,C]=n;return p.forEach(({start:E,end:O,gap:S=r,compress:_="middle"})=>{const F=g.indexOf(E),k=g.indexOf(O);let Q=(B[F]+B[k])/2;_==="start"&&(Q=B[F]),_==="end"&&(Q=B[k]);const L=S*b/2;let T=w?Q+L:Q-L,M=w?Q-L:Q+L;T<x&&(M+=x-T,T=x),M>C&&(T-=M-C,M=C),T>C&&(M-=T-C,T=C),M<x&&(T+=x-M,M=x),B[F]=T,B[k]=M}),this.removeUnsortedValues(g,B,w)}transformBreaks(t){const{domain:n,breaks:r=[]}=t;if(!Cn(t.breaks))return t;const i=Math.max(...n),a=r.filter(({end:c})=>c<i),o={...t,breaks:a},{breaksDomain:s,breaksRange:A}=this.transformDomain(o);return{...t,domain:s,range:A,breaks:a,tickMethod:()=>[...s]}}chooseTransforms(){return[Xi,Xi]}clone(){return new sk(this.options)}},Gj=class Ak extends zl{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Lp,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new Ak(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}};const zj=e=>t=>t<0?-((-t)**e):t**e,Vj=e=>t=>t<0?-((-t)**(1/e)):t**(1/e),Wj=e=>e<0?-Math.sqrt(-e):Math.sqrt(e);let ck=class lk extends Up{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:_u,tickMethod:vo,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(t===1)return[Xi,Xi];const n=t===.5?Wj:zj(t),r=Vj(t);return[n,r]}clone(){return new lk(this.options)}},Yj=class uk extends ck{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:_u,tickMethod:vo,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new uk(this.options)}},Pp=class fk extends Mu{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!fh(t))return this.options.unknown;const n=Q1(this.thresholds,t,0,this.n);return this.options.range[n]}invert(t){const{range:n}=this.options,r=n.indexOf(t),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new fk(this.options)}rescale(){const{domain:t,range:n}=this.options;this.n=Math.min(t.length,n.length-1),this.thresholds=t}};const Xj=(e,t,n,r=10)=>{const i=e<0,a=U1(r,i),o=L1(r,i),s=t<e,A=s?t:e,c=s?e:t;let l=o(A),u=o(c),f=[];if(!(r%1)&&u-l<n){if(l=Math.floor(l),u=Math.ceil(u),i)for(;l<=u;l+=1){const d=a(l);for(let h=r-1;h>=1;h-=1){const p=d*h;if(p>c)break;p>=A&&f.push(p)}}else for(;l<=u;l+=1){const d=a(l);for(let h=1;h<r;h+=1){const p=d*h;if(p>c)break;p>=A&&f.push(p)}}f.length*2<n&&(f=vo(A,c,n))}else{const d=n===-1?u-l:Math.min(u-l,n);f=vo(l,u,d).map(a)}return s?f.reverse():f};let qj=class dk extends Up{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:_u,tickMethod:Xj,tickCount:5}}chooseNice(){return lj}getTickMethodOptions(){const{domain:t,tickCount:n,base:r}=this.options,i=t[0],a=t[t.length-1];return[i,a,n,r]}chooseTransforms(){const{base:t,domain:n}=this.options,r=n[0]<0;return[L1(t,r),U1(t,r)]}clone(){return new dk(this.options)}},hk=class pk extends Pp{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:H1}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[n,r,i]=this.getTickMethodOptions();this.options.domain=I1(n,r,i)}}getTicks(){const{tickMethod:t}=this.options,[n,r,i]=this.getTickMethodOptions();return t(n,r,i)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}rescale(){this.nice();const{range:t,domain:n}=this.options,[r,i]=n;this.n=t.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(t){const[n,r]=super.invert(t),[i,a]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||i,r||a]}getThresholds(){return this.thresholds}clone(){return new pk(this.options)}};function Zj(e,t){const n=e.length;if(!n)return;if(n<2)return e[n-1];const r=(n-1)*t,i=Math.floor(r),a=e[i],o=e[i+1];return a+(o-a)*(r-i)}function Jj(e,t,n=!1){const r=e;n||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<t;a+=1)i.push(Zj(r,a/t));return i}let gk=class vk extends Pp{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:H1}}constructor(t){super(t)}rescale(){const{domain:t,range:n}=this.options;this.n=n.length-1,this.thresholds=Jj(t,this.n+1,!1)}invert(t){const[n,r]=super.invert(t),{domain:i}=this.options,a=i[0],o=i[i.length-1];return n===void 0&&r===void 0?[n,r]:[n||a,r||o]}getThresholds(){return this.thresholds}clone(){return new vk(this.options)}getTicks(){const{tickCount:t,domain:n,tickMethod:r}=this.options,i=n.length-1,a=n[0],o=n[i];return r(a,o,t)}};var e$=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t$=/\[([^]*?)\]/gm;function yk(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}function cy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];for(var o in a)e[o]=a[o]}return e}var mk=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bk=["January","February","March","April","May","June","July","August","September","October","November","December"],n$=yk(bk,3),r$=yk(mk,3),i$={dayNamesShort:r$,dayNames:mk,monthNamesShort:n$,monthNames:bk,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},a$=cy({},i$),or=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},o$={D:function(e){return String(e.getDate())},DD:function(e){return or(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return or(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return or(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return or(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return or(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return or(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return or(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return or(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return or(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return or(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return or(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+or(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+or(Math.floor(Math.abs(t)/60),2)+":"+or(Math.abs(t)%60,2)}},Lx={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s$=function(e,t,n){if(t===void 0&&(t=Lx.default),n===void 0&&(n={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=Lx[t]||t;var r=[];t=t.replace(t$,function(a,o){return r.push(o),"@@@"});var i=cy(cy({},a$),n);return t=t.replace(e$,function(a){return o$[a](e,i)}),t.replace(/@@@/g,function(){return r.shift()})};const A$=(e,t,n,r,i)=>{const a=e>t,o=a?t:e,s=a?e:t,[A,c]=YM(o,s,n,r,i),l=A.range(o,new Date(+s+1),c,!0);return a?l.reverse():l};function c$(e){const t=e.getTimezoneOffset(),n=new Date(e);return n.setMinutes(n.getMinutes()+t,n.getSeconds(),n.getMilliseconds()),n}let l$=class wk extends Up{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:A$,interpolate:RA,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return cj}getTickMethodOptions(){const{domain:t,tickCount:n,tickInterval:r,utc:i}=this.options,a=t[0],o=t[t.length-1];return[a,o,n,r,i]}getFormatter(){const{mask:t,utc:n}=this.options,r=n?WM:zM,i=n?c$:Xi;return a=>s$(i(a),t||xj(a,r))}clone(){return new wk(this.options)}};var u$=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ly;function f$(e){return[e(0),e(1)]}const d$=e=>{const[t,n]=e;return NA(RA(0,1),uh(t,n))};let uy=ly=class extends ka{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Xi,tickMethod:vo,tickCount:5}}constructor(t){super(t)}clone(){return new ly(this.options)}};uy=ly=u$([fj(f$,d$)],uy);var h$=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};function p$(e){var t;let n=e;for(;n;){if(((t=n.attributes)===null||t===void 0?void 0:t.class)==="view")return n;n=n.parentNode}return null}function Np(e){const{markType:t,nodeName:n}=e;return t==="heatmap"&&n==="image"}function D1(e,t){const n=t??p$(e).__data__,r=e.__data__,{markKey:i,index:a,seriesIndex:o,normalized:s={x:0}}=r,{markState:A}=n,c=Array.from(A.keys()).find(l=>l.key===i);if(c)return o?o.map(l=>c.data[l]):Np(e)?c.data[Math.round(c.data.length*s.x)]:c.data[a]}function g$(e,t){var n,r,i,a;const o=(n=t.markKey)!==null&&n!==void 0?n:(i=(r=t.element)===null||r===void 0?void 0:r.__data__)===null||i===void 0?void 0:i.markKey,s=Object.keys(e).find(A=>{if(A.startsWith("series")){const c=e[A].getOptions();return c.name==="series"&&c.markKey===o}});return(a=e[s])!==null&&a!==void 0?a:e.series}function v$(e,t){const{color:n,facet:r=!1}=e,{color:i,series:a}=t,o=g$(e,t),s=A=>A&&A.invert&&!(A instanceof zl)&&!(A instanceof R1);if(s(o))return o.clone().invert(a);if(a&&o instanceof zl&&o.invert(a)!==i&&!r)return o.invert(a);if(s(n)){const A=n.invert(i);return Array.isArray(A)?null:A}return null}function ws(e){return e}function j1(e){return e.reduce((t,n)=>(r,...i)=>n(t(r,...i),...i),ws)}function y$(e){return e.reduce((t,n)=>r=>h$(this,void 0,void 0,function*(){const i=yield t(r);return n(i)}),ws)}function $1(e){return e.replace(/( |^)[a-z]/g,t=>t.toUpperCase())}function HA(e=""){throw new Error(e)}function Rp(e,t){const{attributes:n}=t,r=new Set(["id","className"]);for(const[i,a]of Object.entries(n))r.has(i)||e.attr(i,a)}function Bt(e){return e!=null&&!Number.isNaN(e)}function m$(e){const t=new Map;return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}function b$(e,t){const{transform:n}=e.style,i=(a=>a==="none"||a===void 0)(n)?"":n;e.style.transform=`${i} ${t}`.trimStart()}function de(e,t){return Bk(e,t)||{}}function Bk(e,t){const n=Object.entries(e||{}).filter(([r])=>r.startsWith(t)).map(([r,i])=>[oM(r.replace(t,"").trim()),i]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function w$(e,t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.find(r=>n.startsWith(r))))}function Td(e,...t){return Object.fromEntries(Object.entries(e).filter(([n])=>t.every(r=>!n.startsWith(r))))}function Ux(e,t){if(e===void 0)return null;if(typeof e=="number")return e;const n=+e.replace("%","");return Number.isNaN(n)?null:n/100*t}function DA(e){return typeof e=="object"&&!(e instanceof Date)&&e!==null&&!Array.isArray(e)}function Ta(e){return e===null||e===!1}function xk(e,t,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(t)){const a=t[i];!Ma(a)||!Ma(e[i])?e[i]=a:xk(e[i],a,n,r+1)}return e}}function qi(e,t){return Object.entries(e).reduce((n,[r,i])=>(n[r]=t(i,r,e),n),{})}function Is(e){return e.map((t,n)=>n)}function B$(e){return e[0]}function Ck(e){return e[e.length-1]}function x$(e){return Array.from(new Set(e))}function Ek(e,t){const n=[[],[]];return e.forEach(r=>{n[t(r)?0:1].push(r)}),n}function Ok(e,t=e.length){if(t===1)return e.map(r=>[r]);const n=[];for(let r=0;r<e.length;r++){const i=e.slice(r+1);Ok(i,t-1).forEach(o=>{n.push([e[r],...o])})}return n}function C$(e){if(e.length===1)return[e];const t=[];for(let n=1;n<=e.length;n++)t.push(...Ok(e,n));return t}function Eo(e,t,n){const{encode:r}=n;if(e===null)return[t];const i=E$(e).map(o=>{var s;return[o,(s=tt(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>Bt(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(bt(t,a).values())}function Sk(e){return Array.isArray(e)?F$(e):typeof e=="function"?S$(e):e==="series"?O$:e==="value"?_$:e==="sum"?M$:e==="maxIndex"?k$:null}function Fk(e,t){for(const n of e)n.sort(t)}function _k(e,t){return(t==null?void 0:t.domain)||Array.from(new Set(e))}function E$(e){return Array.isArray(e)?e:[e]}function O$(e,t,n){return ku(r=>n[r])}function S$(e){return(t,n,r)=>ku(i=>e(t[i]))}function F$(e){return(t,n,r)=>(i,a)=>e.reduce((o,s)=>o!==0?o:zt(t[i][s],t[a][s]),0)}function _$(e,t,n){return ku(r=>t[r])}function M$(e,t,n){const r=Is(e),i=Array.from(bt(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((A,c)=>A+ +t[c])]));return ku(o=>a.get(n[o]))}function k$(e,t,n){const r=Is(e),i=Array.from(bt(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,ac(s,A=>t[A])]));return ku(o=>a.get(n[o]))}function ku(e){return(t,n)=>zt(e(t),e(n))}const Mk=(e={})=>{const{groupBy:t="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=e;return(s,A)=>{var c;const{data:l,encode:u,style:f={}}=A,[d,h]=tt(u,"y"),[p,g]=tt(u,"y1"),[v]=o?ch(u,"series","color"):tt(u,"color"),y=Eo(t,s,A),b=((c=Sk(n))!==null&&c!==void 0?c:()=>null)(l,d,v);b&&Fk(y,b);const w=new Array(s.length),B=new Array(s.length),x=new Array(s.length),C=[],E=[];for(const Q of y){r&&Q.reverse();const L=p?+p[Q[0]]:0,T=[],M=[];for(const $ of Q){const V=x[$]=+d[$]-L;V<0?M.push($):V>=0&&T.push($)}const I=T.length>0?T:M,U=M.length>0?M:T;let R=T.length-1,N=0;for(;R>0&&d[I[R]]===0;)R--;for(;N<U.length-1&&d[U[N]]===0;)N++;C.push(I[R]),E.push(U[N]);let j=L;for(const $ of M.reverse()){const V=x[$];j=w[$]=(B[$]=j)+V}let K=L;for(const $ of T){const V=x[$];V>0?K=w[$]=(B[$]=K)+V:w[$]=B[$]=K}}const O=new Set(C),S=new Set(E),_=i==="y"?w:B,F=a==="y"?w:B;let k;return A.type==="point"?k={y0:Rl(d,h),y:wt(_,h)}:k={y0:Rl(d,h),y:wt(_,h),y1:wt(F,g)},[s,ee({},A,{encode:Object.assign({},k),style:Object.assign({first:(Q,L)=>O.has(L),last:(Q,L)=>S.has(L)},f)})]}};Mk.props={};function wc(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}function T$(e){const t=e.getFullYear(),n=wc(e.getMonth()+1),r=wc(e.getDate()),i=`${t}-${n}-${r}`,a=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return a||o||s?`${i} ${wc(a)}:${wc(o)}:${wc(s)}`:i}const Hp=(e={})=>{const{channel:t="x"}=e;return(n,r)=>{const{encode:i}=r,{tooltip:a}=r;if(Ta(a))return[n,r];const{title:o}=a;if(o!==void 0)return[n,r];const s=Object.keys(i).filter(c=>c.startsWith(t)).filter(c=>!i[c].inferred).map(c=>tt(i,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const A=[];for(const c of n)A[c]={value:s.map(l=>l[c]instanceof Date?T$(l[c]):l[c]).join(", ")};return[n,ee({},r,{tooltip:{title:A}})]}};Hp.props={};const Oo=()=>(e,t)=>{const{encode:n}=t,{x:r}=n;return r!==void 0?[e,t]:[e,ee({},t,{encode:{x:Rl(co(e,0))},scale:{x:{guide:null}}})]};Oo.props={};const Tu=()=>(e,t)=>{const{encode:n}=t,{y:r}=n;return r!==void 0?[e,t]:[e,ee({},t,{encode:{y:Rl(co(e,0))},scale:{y:{guide:null}}})]};Tu.props={};const K1=()=>(e,t)=>{const{encode:n}=t,{size:r}=n;return r!==void 0?[e,t]:[e,ee({},t,{encode:{size:Ah(co(e,3))}})]};K1.props={};var Q$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kk=()=>(e,t)=>{const{encode:n}=t,{key:r}=n,i=Q$(n,["key"]);if(r!==void 0)return[e,t];const a=Object.values(i).map(({value:s})=>s),o=e.map(s=>a.filter(Array.isArray).map(A=>A[s]).join("-"));return[e,ee({},t,{encode:{key:wt(o)}})]};kk.props={};const G1=()=>(e,t)=>{const{encode:n}=t,{series:r,color:i}=n;if(r!==void 0||i===void 0)return[e,t];const[a,o]=tt(n,"color");return[e,ee({},t,{encode:{series:wt(a,o)}})]};G1.props={};const Tk=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Eu)?[e,t]:[e,ee({},t,{encode:{y:wt(n)}})]};Tk.props={};const Qk=()=>(e,t)=>{const{data:n}=t;return!Array.isArray(n)||n.some(Eu)?[e,t]:[e,ee({},t,{encode:{x:wt(n)}})]};Qk.props={};const Ik=()=>(e,t)=>{const{encode:n}=t,{y1:r}=n;if(r)return[e,t];const[i]=tt(n,"y");return[e,ee({},t,{encode:{y1:wt([...i])}})]};Ik.props={};const Lk=()=>(e,t)=>{const{encode:n}=t,{x1:r}=n;if(r)return[e,t];const[i]=tt(n,"x");return[e,ee({},t,{encode:{x1:wt([...i])}})]};Lk.props={};const Uk=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Eu))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[e,ee({},t,{encode:{x:wt(r(n,0)),x1:wt(r(n,1))}})]}return[e,t]};Uk.props={};const Pk=()=>(e,t)=>{const{data:n}=t;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(Eu))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[e,ee({},t,{encode:{y:wt(r(n,0)),y1:wt(r(n,1))}})]}return[e,t]};Pk.props={};const Dp=e=>{const{channel:t}=e;return(n,r)=>{const{encode:i,tooltip:a}=r;if(Ta(a))return[n,r];const{items:o=[]}=a;if(!o||o.length>0)return[n,r];const A=(Array.isArray(t)?t:[t]).flatMap(c=>Object.keys(i).filter(l=>l.startsWith(c)).map(l=>{const{field:u,value:f,inferred:d=!1,aggregate:h}=i[l];return d?null:h&&f?{channel:l}:u?{field:u}:f?{channel:l}:null}).filter(l=>l!==null));return[n,ee({},r,{tooltip:{items:A}})]}};Dp.props={};const z1=()=>(e,t)=>[e,ee({scale:{x:{padding:0},y:{padding:0}}},t)];z1.props={};var Px=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jp=()=>(e,t)=>{const{data:n,style:r={}}=t,i=Px(t,["data","style"]),{x:a,y:o}=r,s=Px(r,["x","y"]);if(a==null||o==null)return[e,t];const A=a||0,c=o||0;return[[0],ee({},i,{data:[0],cartesian:!0,encode:{x:wt([A]),y:wt([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};jp.props={};const Nk=()=>(e,t)=>{const{style:n={}}=t;return[e,ee({},t,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};Nk.props={};const $p=()=>(e,t)=>{const{data:n}=t;if(!Array.isArray(n)||n.some(Eu))return[e,t];const r=Array.isArray(n[0])?n:[n],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[e,ee({},t,{encode:{x:wt(i),y:wt(a)}})]};$p.props={};const Rk=()=>(e,t)=>{const{style:n={},encode:r}=t,{series:i}=r,{gradient:a}=n;return!a||i?[e,t]:[e,ee({},t,{encode:{series:Ah(co(e,void 0))}})]};Rk.props={};var I$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Hk=(e={})=>{const{groupBy:t="x",reverse:n=!1,orderBy:r,padding:i}=e;return I$(e,["groupBy","reverse","orderBy","padding"]),(a,o)=>{const{data:s,encode:A,scale:c}=o,{series:l}=c,[u]=tt(A,"y"),[f]=ch(A,"series","color"),d=_k(f,l),h=ee({},o,{scale:{series:{domain:d,paddingInner:i}}}),p=Eo(t,a,o),g=Sk(r);if(!g)return[a,ee(h,{encode:{series:wt(f)}})];const v=g(s,u,f);v&&Fk(p,v);const y=new Array(a.length);for(const m of p){n&&m.reverse();for(let b=0;b<m.length;b++)y[m[b]]=d[b]}return[a,ee(h,{encode:{series:wt(r?y:f)}})]}};Hk.props={};const Dk=e=>{const{groupBy:t=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=e;return(o,s)=>{const{encode:A}=s,l=(Array.isArray(t)?t:[t]).map(g=>[g,tt(A,g)[0]]);if(l.length===0)return[o,s];let u=[o];for(const[,g]of l){const v=[];for(const y of u){const m=Array.from(bt(y,b=>g[b]).values());v.push(...m)}u=v}if(r){const[g]=tt(A,r);g&&u.sort((v,y)=>n(v,g)-n(y,g)),i&&u.reverse()}const f=(a||3e3)/u.length,[d]=a?[co(o,f)]:ch(A,"enterDuration",co(o,f)),[h]=ch(A,"enterDelay",co(o,0)),p=new Array(o.length);for(let g=0,v=0;g<u.length;g++){const y=u[g],m=ct(y,b=>+d[b]);for(const b of y)p[b]=+h[b]+v;v+=m}return[o,ee({},s,{encode:{enterDuration:Ah(d),enterDelay:Ah(p)}})]}};Dk.props={};var L$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function U$(e){return typeof e=="function"?e:{min:(n,r)=>Or(n,i=>r[+i]),max:(n,r)=>ct(n,i=>r[+i]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>jl(n,i=>r[+i]),median:(n,r)=>T1(n,i=>r[+i]),sum:(n,r)=>zr(n,i=>r[+i]),deviation:(n,r)=>HM(n,i=>r[+i])}[e]||ct}const jk=(e={})=>{const{groupBy:t="x",basis:n="max"}=e;return(r,i)=>{const{encode:a,tooltip:o}=i,{x:s}=a,A=L$(a,["x"]),c=Object.entries(A).filter(([p])=>p.startsWith("y")).map(([p])=>[p,tt(a,p)[0]]),[,l]=c.find(([p])=>p==="y"),u=c.map(([p])=>[p,new Array(r.length)]),f=Eo(t,r,i),d=U$(n);for(const p of f){const g=d(p,l);for(const v of p)for(let y=0;y<c.length;y++){const[,m]=c[y],[,b]=u[y];b[v]=+m[v]/g}}const h=Ta(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,ee({},i,Object.assign({encode:Object.fromEntries(u.map(([p,g])=>[p,wt(g,tt(a,p)[1])]))},!h&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};jk.props={};function dh(e,t,n){if(e===null)return[-.5,.5];const r=_k(e,t),a=new zl({domain:r,range:[0,1],padding:n}).getBandWidth();return[-a/2,a/2]}function hh(e,t,n){return t*(1-e)+n*e}const $k=(e={})=>{const{padding:t=0,paddingX:n=t,paddingY:r=t,random:i=Math.random}=e;return(a,o)=>{const{encode:s,scale:A}=o,{x:c,y:l}=A,[u]=tt(s,"x"),[f]=tt(s,"y"),d=dh(u,c,n),h=dh(f,l,r),p=a.map(()=>hh(i(),...h)),g=a.map(()=>hh(i(),...d));return[a,ee({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:wt(p),dx:wt(g)}})]}};$k.props={};const Kk=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[A]=tt(a,"x"),c=dh(A,s,t),l=r.map(()=>hh(n(),...c));return[r,ee({scale:{x:{padding:.5}}},i,{encode:{dx:wt(l)}})]}};Kk.props={};const Gk=(e={})=>{const{padding:t=0,random:n=Math.random}=e;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[A]=tt(a,"y"),c=dh(A,s,t),l=r.map(()=>hh(n(),...c));return[r,ee({scale:{y:{padding:.5}}},i,{encode:{dy:wt(l)}})]}};Gk.props={};var P$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const zk=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:i,style:a={}}=r,{x:o}=i,s=P$(i,["x"]),A=Object.entries(s).filter(([d])=>d.startsWith("y")).map(([d])=>[d,tt(i,d)[0]]),c=A.map(([d])=>[d,new Array(n.length)]),l=Eo(t,n,r),u=new Array(l.length);for(let d=0;d<l.length;d++){const p=l[d].flatMap(y=>A.map(([,m])=>+m[y])),[g,v]=Ca(p);u[d]=(g+v)/2}const f=Math.max(...u);for(let d=0;d<l.length;d++){const h=f-u[d],p=l[d];for(const g of p)for(let v=0;v<A.length;v++){const[,y]=A[v],[,m]=c[v];m[g]=+y[g]+h}}return[n,ee({},r,{encode:Object.fromEntries(c.map(([d,h])=>[d,wt(h,tt(i,d)[1])])),style:Object.assign({first:(d,h)=>h===0,last:(d,h)=>h===l.length-1},a)})]}};zk.props={};const Vk=(e={})=>{const{groupBy:t="x"}=e;return(n,r)=>{const{encode:i}=r,[a]=tt(i,"y"),[o,s]=tt(i,"y1"),A=Eo(t,n,r),c=new Array(n.length);for(const l of A){const u=l.map(f=>+a[f]);for(let f=0;f<l.length;f++){const d=l[f],h=Math.max(...u.filter((p,g)=>g!==f));c[d]=+a[d]>h?h:a[d]}}return[n,ee({},r,{encode:{y1:wt(c,s)}})]}};Vk.props={};function Nx(e,t){return[e[0]]}function N$(e,t){const n=e.length-1;return[e[n]]}function R$(e,t){const n=ac(e,r=>t[r]);return[e[n]]}function H$(e,t){const n=Su(e,r=>t[r]);return[e[n]]}function D$(e){return typeof e=="function"?e:{first:Nx,last:N$,max:R$,min:H$}[e]||Nx}const Kp=(e={})=>{const{groupBy:t="series",channel:n,selector:r}=e;return(i,a)=>{const{encode:o}=a,s=Eo(t,i,a),[A]=tt(o,n),c=D$(r);return[s.flatMap(l=>c(l,A)),a]}};Kp.props={};var j$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Wk=(e={})=>{const{selector:t}=e,n=j$(e,["selector"]);return Kp(Object.assign({channel:"x",selector:t},n))};Wk.props={};var $$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yk=(e={})=>{const{selector:t}=e,n=$$(e,["selector"]);return Kp(Object.assign({channel:"y",selector:t},n))};Yk.props={};var K$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function So(e){return t=>t===null?e:`${e} of ${t}`}function G$(e){if(typeof e=="function")return[e,null];const n={mean:z$,max:W$,count:X$,first:Z$,last:J$,sum:q$,min:Y$,median:V$}[e];if(!n)throw new Error(`Unknown reducer: ${e}.`);return n()}function z$(){const e=(n,r)=>jl(n,i=>+r[i]),t=So("mean");return[e,t]}function V$(){const e=(n,r)=>T1(n,i=>+r[i]),t=So("median");return[e,t]}function W$(){const e=(n,r)=>ct(n,i=>+r[i]),t=So("max");return[e,t]}function Y$(){const e=(n,r)=>Or(n,i=>+r[i]),t=So("min");return[e,t]}function X$(){const e=(n,r)=>n.length,t=So("count");return[e,t]}function q$(){const e=(n,r)=>zr(n,i=>+r[i]),t=So("sum");return[e,t]}function Z$(){const e=(n,r)=>r[n[0]],t=So("first");return[e,t]}function J$(){const e=(n,r)=>r[n[n.length-1]],t=So("last");return[e,t]}const V1=(e={})=>{const{groupBy:t}=e,n=K$(e,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=t(r,i);if(!s)return[r,i];const A=(d,h)=>{if(d)return d;const{from:p}=h;if(!p)return d;const[,g]=tt(o,p);return g},c=Object.entries(n).map(([d,h])=>{const[p,g]=G$(h),[v,y]=tt(o,d),m=A(y,h),b=s.map(w=>p(w,v??a));return[d,Object.assign(Object.assign({},m6(b,(g==null?void 0:g(m))||m)),{aggregate:!0})]}),l=Object.keys(o).map(d=>{const[h,p]=tt(o,d),g=s.map(v=>h[v[0]]);return[d,wt(g,p)]}),u=s.map(d=>a[d[0]]);return[Is(s),ee({},i,{data:u,encode:Object.fromEntries([...l,...c])})]}};V1.props={};var eK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Qu=(e={})=>{const{channels:t=["x","y"]}=e,n=eK(e,["channels"]),r=(i,a)=>Eo(t,i,a);return V1(Object.assign(Object.assign({},n),{groupBy:r}))};Qu.props={};const Xk=(e={})=>Qu(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));Xk.props={};const qk=(e={})=>Qu(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));qk.props={};const Zk=(e={})=>Qu(Object.assign(Object.assign({},e),{channels:["color"]}));Zk.props={};function tK(e,t,n){const{by:r=e,reducer:i="max"}=t,[a]=tt(n,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>ct(o,s=>+a[s]);if(i==="min")return o=>Or(o,s=>+a[s]);if(i==="sum")return o=>zr(o,s=>+a[s]);if(i==="median")return o=>T1(o,s=>+a[s]);if(i==="mean")return o=>jl(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function nK(e,t,n){if(!Array.isArray(n))return e;const r=new Set(n);return e.filter(i=>r.has(t[i]))}const Gp=(e={})=>(t,n)=>{const{reverse:r,slice:i,channel:a,by:o,ordinal:s=!0,reducer:A}=e,{encode:c,scale:l={}}=n,u=l[a].domain,[f]=tt(c,o??a),[d]=tt(c,a),h=tK(a,{by:o,reducer:A},c),p=nK(t,d,u),g=T6(p,h,b=>d[b]),v=s?t:li(t,b=>f[b]);r&&(!s&&v.reverse(),g.reverse());const y=typeof i=="number"?[0,i]:i,m=i?g.slice(...y):g;return[v,ee(n,{scale:{[a]:{domain:m}}})]};Gp.props={};const Jk=(e={})=>Gp(Object.assign(Object.assign({},e),{channel:"x"}));Jk.props={};const eT=(e={})=>Gp(Object.assign(Object.assign({},e),{channel:"color"}));eT.props={};const tT=(e={})=>Gp(Object.assign(Object.assign({},e),{channel:"y"}));tT.props={};function rK(e,t){return typeof t=="string"?e.map(n=>n[t]):e.map(t)}function iK(e,t){if(typeof e=="function")return n=>e(n,t);if(e==="sum")return n=>zr(n,r=>+t[r]);throw new Error(`Unknown reducer: ${e}`)}const nT=(e={})=>{const{field:t,channel:n="y",reducer:r="sum"}=e;return(i,a)=>{const{data:o,encode:s}=a,[A]=tt(s,"x"),c=t?rK(o,t):tt(s,n)[0],l=iK(r,c),u=M1(i,l,f=>A[f]).map(f=>f[1]);return[i,ee({},a,{scale:{x:{flex:u}}})]}};nT.props={};function Wt([e,t],[n,r]){return[e-n,t-r]}function af([e,t],[n,r]){return[e+n,t+r]}function Ht([e,t],[n,r]){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))}function Wr([e,t]){return Math.atan2(t,e)}function jA([e,t]){return Wr([e,t])+Math.PI/2}function rT(e,t){const n=Wr(e),r=Wr(t);return n<r?r-n:Math.PI*2-(n-r)}function W1(e){let t=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,A]of e)t=Math.min(s,t),n=Math.max(s,n),r=Math.min(A,r),i=Math.max(A,i);const a=n-t,o=i-r;return[t,r,a,o]}function iT([e,t],[n,r]){return[(e+n)/2,(t+r)/2]}function aK(e){const{padding:t=0,direction:n="col"}=e;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:A}=a,c=A/s;let l=Math.ceil(Math.sqrt(i/c)),u=s/l,f=Math.ceil(i/l),d=f*u;for(;d>A;)l=l+1,u=s/l,f=Math.ceil(i/l),d=f*u;const h=A-f*u,p=f<=1?0:h/(f-1),[g,v]=f<=1?[(s-o*u)/(o-1),(A-u)/2]:[0,0];return r.map((y,m)=>{const[b,w,B,x]=W1(y),C=n==="col"?m%l:Math.floor(m/f),E=n==="col"?Math.floor(m/l):m%f,O=C*u,S=(f-E-1)*u+h,_=(u-t)/B,F=(u-t)/x,k=O-b+g*C+1/2*t,Q=S-w-p*E-v+1/2*t;return`translate(${k}, ${Q}) scale(${_}, ${F})`})}}const aT=e=>(t,n)=>[t,ee({},n,{modifier:aK(e),axis:!1})];aT.props={};var oK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Rx="thresholds";function sK(e){const[t,n]=Ca(e);return Math.min(200,K6(e,t,n))}const Y1=(e={})=>{const{groupChannels:t=["color"],binChannels:n=["x","y"]}=e,r=oK(e,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:A}=s,c=n.map(h=>{const[p]=tt(A,h);return p}),l=de(r,Rx),u=o.filter(h=>c.every(p=>Bt(p[h]))),f=[...t.map(h=>{const[p]=tt(A,h);return p}).filter(Bt).map(h=>p=>h[p]),...n.map((h,p)=>{const g=c[p],v=l[h]||sK(g),y=D6().thresholds(v).value(b=>+g[b])(u),m=new Map(y.flatMap(b=>{const{x0:w,x1:B}=b,x=`${w},${B}`;return b.map(C=>[C,x])}));return i[h]=m,b=>m.get(b)})],d=h=>f.map(p=>p(h)).join("-");return Array.from(bt(u,d).values())};return V1(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(Rx)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+i[o].get(c).split(",")[0],A=([c])=>+i[o].get(c).split(",")[1];return A.from=o,[[o,s],[`${o}1`,A]]}))),{groupBy:a}))};Y1.props={};const oT=(e={})=>{const{thresholds:t}=e;return Y1(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};oT.props={};function AK(e,t,n,r){const i=e.length;if(r>=i||r===0)return e;const a=d=>t[e[d]]*1,o=d=>n[e[d]]*1,s=[],A=(i-2)/(r-2);let c=0,l,u,f;s.push(c);for(let d=0;d<r-2;d++){let h=0,p=0,g=Math.floor((d+1)*A)+1,v=Math.floor((d+2)*A)+1;v=Math.min(v,i);const y=v-g;for(;g<v;g++)h+=a(g),p+=o(g);h/=y,p/=y;let m=Math.floor((d+0)*A)+1;const b=Math.floor((d+1)*A)+1,w=[a(c),o(c)];for(l=u=-1;m<b;m++)u=Math.abs((w[0]-h)*(a(m)-w[1])-(w[0]-o(m))*(p-w[0]))*.5,u>l&&(l=u,f=m);s.push(f),c=f}return s.push(i-1),s.map(d=>e[d])}function cK(e){if(typeof e=="function")return e;if(e==="lttb")return AK;const t={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[Su(r,o=>a[o])]],max:(r,i,a)=>[r[ac(r,o=>a[o])]],median:(r,i,a)=>[r[G6(r,o=>a[o])]]},n=t[e]||t.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return lK(r,s).flatMap(c=>n(c,i,a))}}function lK(e,t){const n=e.length,r=[];let i=0;for(;i<n;)r.push(e.slice(i,i+=t));return r}const sT=(e={})=>{const{strategy:t="median",thresholds:n=2e3,groupBy:r=["series","color"]}=e,i=cK(t);return(a,o)=>{const{encode:s}=o,A=Eo(r,a,o),[c]=tt(s,"x"),[l]=tt(s,"y");return[A.flatMap(u=>i(u,c,l,n)),o]}};sT.props={};function uK(e){return typeof e=="object"?[e.value,e.ordinal]:[e,!0]}function fK(e){var t;const{encode:n}=e,r=Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),{y:Object.assign(Object.assign({},e.encode.y),{value:[]})})}),i=(t=n==null?void 0:n.color)===null||t===void 0?void 0:t.field;if(!n||!i)return r;let a;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},e),{encode:Object.assign(Object.assign({},e.encode),a)}):r}const AT=(e={})=>(t,n)=>{const{encode:r,data:i}=n,a=Object.keys(e).length>0,o=Object.entries(e).map(([u,f])=>{const[d]=tt(r,u);if(!d)return null;const[h,p=!0]=uK(f);if(typeof h=="function")return g=>h(d[g]);if(p){const g=Array.isArray(h)?h:[h];return g.length===0?null:v=>g.includes(d[v])}else{const[g,v]=h;return y=>d[y]>=g&&d[y]<=v}}).filter(Bt),s=u=>o.every(f=>f(u)),A=t.filter(s),c=A.map((u,f)=>f);if(o.length===0&&a){const u=fK(n);return[[],u]}const l=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:c.map(d=>f.value[A[d]]).filter(d=>d!==void 0)})]);return[c,ee({},n,{encode:Object.fromEntries(l),data:A.map(u=>i[u])})]};AT.props={};function Mt(e){return function(){return e}}const Hx=Math.abs,Ln=Math.atan2,No=Math.cos,dK=Math.max,f0=Math.min,yi=Math.sin,fA=Math.sqrt,Pn=1e-12,Vl=Math.PI,ph=Vl/2,hK=2*Vl;function pK(e){return e>1?0:e<-1?Vl:Math.acos(e)}function Dx(e){return e>=1?ph:e<=-1?-ph:Math.asin(e)}const fy=Math.PI,dy=2*fy,qo=1e-6,gK=dy-qo;function cT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cT;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let X1=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cT:vK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,A=r-t,c=i-n,l=o-t,u=s-n,f=l*l+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>qo)if(!(Math.abs(u*A-c*l)>qo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-o,h=i-s,p=A*A+c*c,g=d*d+h*h,v=Math.sqrt(p),y=Math.sqrt(f),m=a*Math.tan((fy-Math.acos((p+f-g)/(2*v*y)))/2),b=m/y,w=m/v;Math.abs(b-1)>qo&&this._append`L${t+b*l},${n+b*u}`,this._append`A${a},${a},0,0,${+(u*d>l*h)},${this._x1=t+w*A},${this._y1=n+w*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),A=r*Math.sin(i),c=t+s,l=n+A,u=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>qo||Math.abs(this._y1-l)>qo)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%dy+dy),f>gK?this._append`A${r},${r},0,1,${u},${t-s},${n-A}A${r},${r},0,1,${u},${this._x1=c},${this._y1=l}`:f>qo&&this._append`A${r},${r},0,${+(f>=fy)},${u},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Xr(){return new X1}Xr.prototype=X1.prototype;function q1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X1(t)}function yK(e){return e.innerRadius}function mK(e){return e.outerRadius}function bK(e){return e.startAngle}function wK(e){return e.endAngle}function BK(e){return e&&e.padAngle}function xK(e,t,n,r,i,a,o,s){var A=n-e,c=r-t,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<Pn))return f=(l*(t-a)-u*(e-i))/f,[e+f*A,t+f*c]}function of(e,t,n,r,i,a,o){var s=e-n,A=t-r,c=(o?a:-a)/fA(s*s+A*A),l=c*A,u=-c*s,f=e+l,d=t+u,h=n+l,p=r+u,g=(f+h)/2,v=(d+p)/2,y=h-f,m=p-d,b=y*y+m*m,w=i-a,B=f*p-h*d,x=(m<0?-1:1)*fA(dK(0,w*w*b-B*B)),C=(B*m-y*x)/b,E=(-B*y-m*x)/b,O=(B*m+y*x)/b,S=(-B*y+m*x)/b,_=C-g,F=E-v,k=O-g,Q=S-v;return _*_+F*F>k*k+Q*Q&&(C=O,E=S),{cx:C,cy:E,x01:-l,y01:-u,x11:C*(i/w-1),y11:E*(i/w-1)}}function Z1(){var e=yK,t=mK,n=Mt(0),r=null,i=bK,a=wK,o=BK,s=null,A=q1(c);function c(){var l,u,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=i.apply(this,arguments)-ph,p=a.apply(this,arguments)-ph,g=Hx(p-h),v=p>h;if(s||(s=l=A()),d<f&&(u=d,d=f,f=u),!(d>Pn))s.moveTo(0,0);else if(g>hK-Pn)s.moveTo(d*No(h),d*yi(h)),s.arc(0,0,d,h,p,!v),f>Pn&&(s.moveTo(f*No(p),f*yi(p)),s.arc(0,0,f,p,h,v));else{var y=h,m=p,b=h,w=p,B=g,x=g,C=o.apply(this,arguments)/2,E=C>Pn&&(r?+r.apply(this,arguments):fA(f*f+d*d)),O=f0(Hx(d-f)/2,+n.apply(this,arguments)),S=O,_=O,F,k;if(E>Pn){var Q=Dx(E/f*yi(C)),L=Dx(E/d*yi(C));(B-=Q*2)>Pn?(Q*=v?1:-1,b+=Q,w-=Q):(B=0,b=w=(h+p)/2),(x-=L*2)>Pn?(L*=v?1:-1,y+=L,m-=L):(x=0,y=m=(h+p)/2)}var T=d*No(y),M=d*yi(y),I=f*No(w),U=f*yi(w);if(O>Pn){var R=d*No(m),N=d*yi(m),j=f*No(b),K=f*yi(b),$;if(g<Vl)if($=xK(T,M,j,K,R,N,I,U)){var V=T-$[0],W=M-$[1],z=R-$[0],ne=N-$[1],ie=1/yi(pK((V*z+W*ne)/(fA(V*V+W*W)*fA(z*z+ne*ne)))/2),le=fA($[0]*$[0]+$[1]*$[1]);S=f0(O,(f-le)/(ie-1)),_=f0(O,(d-le)/(ie+1))}else S=_=0}x>Pn?_>Pn?(F=of(j,K,T,M,d,_,v),k=of(R,N,I,U,d,_,v),s.moveTo(F.cx+F.x01,F.cy+F.y01),_<O?s.arc(F.cx,F.cy,_,Ln(F.y01,F.x01),Ln(k.y01,k.x01),!v):(s.arc(F.cx,F.cy,_,Ln(F.y01,F.x01),Ln(F.y11,F.x11),!v),s.arc(0,0,d,Ln(F.cy+F.y11,F.cx+F.x11),Ln(k.cy+k.y11,k.cx+k.x11),!v),s.arc(k.cx,k.cy,_,Ln(k.y11,k.x11),Ln(k.y01,k.x01),!v))):(s.moveTo(T,M),s.arc(0,0,d,y,m,!v)):s.moveTo(T,M),!(f>Pn)||!(B>Pn)?s.lineTo(I,U):S>Pn?(F=of(I,U,R,N,f,-S,v),k=of(T,M,j,K,f,-S,v),s.lineTo(F.cx+F.x01,F.cy+F.y01),S<O?s.arc(F.cx,F.cy,S,Ln(F.y01,F.x01),Ln(k.y01,k.x01),!v):(s.arc(F.cx,F.cy,S,Ln(F.y01,F.x01),Ln(F.y11,F.x11),!v),s.arc(0,0,f,Ln(F.cy+F.y11,F.cx+F.x11),Ln(k.cy+k.y11,k.cx+k.x11),v),s.arc(k.cx,k.cy,S,Ln(k.y11,k.x11),Ln(k.y01,k.x01),!v))):s.arc(0,0,f,w,b,v)}if(s.closePath(),l)return s=null,l+""||null}return c.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Vl/2;return[No(u)*l,yi(u)*l]},c.innerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Mt(+l),c):e},c.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Mt(+l),c):t},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:Mt(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Mt(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Mt(+l),c):i},c.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Mt(+l),c):a},c.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Mt(+l),c):o},c.context=function(l){return arguments.length?(s=l??null,c):s},c}function lT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uT(e){this._context=e}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iu(e){return new uT(e)}function fT(e){return e[0]}function dT(e){return e[1]}function Ls(e,t){var n=Mt(!0),r=null,i=Iu,a=null,o=q1(s);e=typeof e=="function"?e:e===void 0?fT:Mt(e),t=typeof t=="function"?t:t===void 0?dT:Mt(t);function s(A){var c,l=(A=lT(A)).length,u,f=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=l;++c)!(c<l&&n(u=A[c],c,A))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,c,A),+t(u,c,A));if(d)return a=null,d+""||null}return s.x=function(A){return arguments.length?(e=typeof A=="function"?A:Mt(+A),s):e},s.y=function(A){return arguments.length?(t=typeof A=="function"?A:Mt(+A),s):t},s.defined=function(A){return arguments.length?(n=typeof A=="function"?A:Mt(!!A),s):n},s.curve=function(A){return arguments.length?(i=A,r!=null&&(a=i(r)),s):i},s.context=function(A){return arguments.length?(A==null?r=a=null:a=i(r=A),s):r},s}function hy(e,t,n){var r=null,i=Mt(!0),a=null,o=Iu,s=null,A=q1(c);e=typeof e=="function"?e:e===void 0?fT:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?dT:Mt(+n);function c(u){var f,d,h,p=(u=lT(u)).length,g,v=!1,y,m=new Array(p),b=new Array(p);for(a==null&&(s=o(y=A())),f=0;f<=p;++f){if(!(f<p&&i(g=u[f],f,u))===v)if(v=!v)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=d;--h)s.point(m[h],b[h]);s.lineEnd(),s.areaEnd()}v&&(m[f]=+e(g,f,u),b[f]=+t(g,f,u),s.point(r?+r(g,f,u):m[f],n?+n(g,f,u):b[f]))}if(y)return s=null,y+""||null}function l(){return Ls().defined(i).curve(o).context(a)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Mt(+u),r=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Mt(+u),c):e},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Mt(+u),c):r},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(+u),n=null,c):t},c.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(+u),c):t},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Mt(+u),c):n},c.lineX0=c.lineY0=function(){return l().x(e).y(t)},c.lineY1=function(){return l().x(e).y(n)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Mt(!!u),c):i},c.curve=function(u){return arguments.length?(o=u,a!=null&&(s=o(a)),c):o},c.context=function(u){return arguments.length?(u==null?a=s=null:s=o(a=u),c):a},c}var hT=J1(Iu);function pT(e){this._curve=e}pT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function J1(e){function t(n){return new pT(e(n))}return t._curve=e,t}function Rc(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(J1(n)):t()._curve},e}function CK(){return Rc(Ls().curve(hT))}function EK(){var e=hy().curve(hT),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Rc(n())},delete e.lineX0,e.lineEndAngle=function(){return Rc(r())},delete e.lineX1,e.lineInnerRadius=function(){return Rc(i())},delete e.lineY0,e.lineOuterRadius=function(){return Rc(a())},delete e.lineY1,e.curve=function(o){return arguments.length?t(J1(o)):t()._curve},e}function $A(){}function py(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function eb(e,t){this._context=e,this._k=(1-t)/6}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:py(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:py(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new eb(r,t)}return n.tension=function(r){return e(+r)},n})(0);function tb(e,t){this._context=e,this._k=(1-t)/6}tb.prototype={areaStart:$A,areaEnd:$A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:py(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return new tb(r,t)}return n.tension=function(r){return e(+r)},n})(0);function gT(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Pn){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,A=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/A,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/A}if(e._l23_a>Pn){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function vT(e,t){this._context=e,this._alpha=t}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:gT(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(r){return t?new vT(r,t):new eb(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function yT(e,t){this._context=e,this._alpha=t}yT.prototype={areaStart:$A,areaEnd:$A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:gT(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mT=function e(t){function n(r){return t?new yT(r,t):new tb(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function bT(e){this._context=e}bT.prototype={areaStart:$A,areaEnd:$A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nb(e){return new bT(e)}function jx(e){return e<0?-1:1}function $x(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(jx(a)+jx(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Kx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function d0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function gh(e){this._context=e}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d0(this,this._t0,Kx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,d0(this,Kx(this,n=$x(this,e,t)),n);break;default:d0(this,this._t0,n=$x(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wT(e){this._context=new BT(e)}(wT.prototype=Object.create(gh.prototype)).point=function(e,t){gh.prototype.point.call(this,t,e)};function BT(e){this._context=e}BT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function xT(e){return new gh(e)}function CT(e){return new wT(e)}function zp(e,t){this._context=e,this._t=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ET(e){return new zp(e,.5)}function OT(e){return new zp(e,0)}function ST(e){return new zp(e,1)}function Ct(e){const{transformations:t}=e.getOptions();return t.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function lt(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="polar")}function Vp(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="reflect")&&t.some(([n])=>n.startsWith("transpose"))}function FT(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="helix")}function Wp(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="parallel")}function _T(e){const{transformations:t}=e.getOptions();return t.some(([n])=>n==="fisheye")}function OK(e){return Wp(e)&&lt(e)}function oc(e){return FT(e)||lt(e)}function SK(e){return lt(e)&&Ct(e)}function FK(e){if(oc(e)){const[t,n]=e.getSize(),r=e.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(t,n)/2*r[4]}return 0}function Yp(e){const{transformations:t}=e.getOptions(),[,,,n,r]=t.find(i=>i[0]==="polar");return[+n,+r]}function rb(e,t=!0){const{transformations:n}=e.getOptions(),[,r,i]=n.find(a=>a[0]==="polar");return t?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function _K(e,t){const{transformations:n}=e.getOptions(),[,...r]=n.find(i=>i[0]===t);return r}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function MK(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MT(e){var t=MK(e,"string");return Bs(t)=="symbol"?t:t+""}function ve(e,t,n){return(t=MT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(n),!0).forEach(function(r){ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MT(r.key),r)}}function se(e,t,n){return t&&zx(e.prototype,t),n&&zx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kK(e){if(Array.isArray(e))return vh(e)}function TK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ib(e,t){if(e){if(typeof e=="string")return vh(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vh(e,t):void 0}}function QK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function De(e){return kK(e)||TK(e)||ib(e)||QK()}function KA(e){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KA(e)}function kT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kT=function(){return!!e})()}function IK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(e,t){if(t&&(Bs(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IK(e)}function Pe(e,t,n){return t=KA(t),LK(e,kT()?Reflect.construct(t,n||[],KA(e).constructor):t.apply(e,n))}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gy(e,t)}function Ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}function UK(e){if(Array.isArray(e))return e}function PK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],A=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;A=!1}else for(;!(A=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);A=!0);}catch(l){c=!0,i=l}finally{try{if(!A&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function NK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Le(e,t){return UK(e)||PK(e,t)||ib(e,t)||NK()}var TT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(A,c,l){this.fn=A,this.context=c,this.once=l||!1}function a(A,c,l,u,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new i(l,u||A,f),h=n?n+c:c;return A._events[h]?A._events[h].fn?A._events[h]=[A._events[h],d]:A._events[h].push(d):(A._events[h]=d,A._eventsCount++),A}function o(A,c){--A._eventsCount===0?A._events=new r:delete A._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)t.call(l,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=n?n+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,h=new Array(d);f<d;f++)h[f]=u[f].fn;return h},s.prototype.listenerCount=function(c){var l=n?n+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,f,d,h){var p=n?n+c:c;if(!this._events[p])return!1;var g=this._events[p],v=arguments.length,y,m;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,l),!0;case 3:return g.fn.call(g.context,l,u),!0;case 4:return g.fn.call(g.context,l,u,f),!0;case 5:return g.fn.call(g.context,l,u,f,d),!0;case 6:return g.fn.call(g.context,l,u,f,d,h),!0}for(m=1,y=new Array(v-1);m<v;m++)y[m-1]=arguments[m];g.fn.apply(g.context,y)}else{var b=g.length,w;for(m=0;m<b;m++)switch(g[m].once&&this.removeListener(c,g[m].fn,void 0,!0),v){case 1:g[m].fn.call(g[m].context);break;case 2:g[m].fn.call(g[m].context,l);break;case 3:g[m].fn.call(g[m].context,l,u);break;case 4:g[m].fn.call(g[m].context,l,u,f);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];g[m].fn.apply(g[m].context,y)}}return!0},s.prototype.on=function(c,l,u){return a(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return a(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,f){var d=n?n+c:c;if(!this._events[d])return this;if(!l)return o(this,d),this;var h=this._events[d];if(h.fn)h.fn===l&&(!f||h.once)&&(!u||h.context===u)&&o(this,d);else{for(var p=0,g=[],v=h.length;p<v;p++)(h[p].fn!==l||f&&!h[p].once||u&&h[p].context!==u)&&g.push(h[p]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=n?n+c:c,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(TT);var RK=TT.exports;const QT=P1(RK);function HK(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=KA(e))!==null;);return e}function vy(){return vy=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=HK(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vy.apply(null,arguments)}function yh(e,t,n,r){var i=vy(KA(e.prototype),t,n);return typeof i=="function"?function(a){return i.apply(n,a)}:i}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.1.0
 * @date 12/22/2025, 3:02:36 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Ea(e,t,n,r){var i=e-n,a=t-r;return Math.sqrt(i*i+a*a)}function IT(e,t){var n=Math.min.apply(Math,De(e)),r=Math.min.apply(Math,De(t)),i=Math.max.apply(Math,De(e)),a=Math.max.apply(Math,De(t));return{x:n,y:r,width:i-n,height:a-r}}function DK(e,t,n){return Math.atan(-t/e*Math.tan(n))}function jK(e,t,n){return Math.atan(t/(e*Math.tan(n)))}function $K(e,t,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+e}function KK(e,t,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+t}function GK(e,t,n,r,i,a,o){for(var s=DK(n,r,i),A=1/0,c=-1/0,l=[a,o],u=-Math.PI*2;u<=Math.PI*2;u+=Math.PI){var f=s+u;a<o?a<f&&f<o&&l.push(f):o<f&&f<a&&l.push(f)}for(var d=0;d<l.length;d++){var h=$K(e,t,n,r,i,l[d]);h<A&&(A=h),h>c&&(c=h)}for(var p=jK(n,r,i),g=1/0,v=-1/0,y=[a,o],m=-Math.PI*2;m<=Math.PI*2;m+=Math.PI){var b=p+m;a<o?a<b&&b<o&&y.push(b):o<b&&b<a&&y.push(b)}for(var w=0;w<y.length;w++){var B=KK(e,t,n,r,i,y[w]);B<g&&(g=B),B>v&&(v=B)}return{x:A,y:g,width:c-A,height:v-g}}var zK=1e-4;function LT(e,t,n,r,i,a){var o=-1,s=1/0,A=[n,r],c=20;a&&a>200&&(c=a/10);for(var l=1/c,u=l/10,f=0;f<=c;f++){var d=f*l,h=[i.apply(void 0,De(e.concat([d]))),i.apply(void 0,De(t.concat([d])))],p=Ea(A[0],A[1],h[0],h[1]);p<s&&(o=d,s=p)}if(o===0)return{x:e[0],y:t[0]};if(o===1){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(var v=0;v<32&&!(u<zK);v++){var y=o-u,m=o+u,b=[i.apply(void 0,De(e.concat([y]))),i.apply(void 0,De(t.concat([y])))],w=Ea(A[0],A[1],b[0],b[1]);if(y>=0&&w<s)o=y,s=w;else{var B=[i.apply(void 0,De(e.concat([m]))),i.apply(void 0,De(t.concat([m])))],x=Ea(A[0],A[1],B[0],B[1]);m<=1&&x<s?(o=m,s=x):u*=.5}}return{x:i.apply(void 0,De(e.concat([o]))),y:i.apply(void 0,De(t.concat([o])))}}function UT(e,t,n,r){return Ea(e,t,n,r)}function PT(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}}function VK(e,t,n,r,i,a){var o=[n-e,r-t];if(D8(o,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t));var s=[-o[1],o[0]];R8(s,s);var A=[i-e,a-t];return Math.abs(H8(A,s))}function yy(e,t,n,r,i){var a=1-i;return a*a*a*e+3*t*i*a*a+3*n*i*i*a+r*i*i*i}function Vx(e,t,n,r){var i=-3*e+9*t-9*n+3*r,a=6*e-12*t+6*n,o=3*t-3*e,s=[],A,c,l;if(mA(i,0))mA(a,0)||(A=-o/a,A>=0&&A<=1&&s.push(A));else{var u=a*a-4*i*o;mA(u,0)?s.push(-a/(2*i)):u>0&&(l=Math.sqrt(u),A=(-a+l)/(2*i),c=(-a-l)/(2*i),A>=0&&A<=1&&s.push(A),c>=0&&c<=1&&s.push(c))}return s}function WK(e,t,n,r,i,a,o,s){for(var A=[e,o],c=[t,s],l=Vx(e,n,i,o),u=Vx(t,r,a,s),f=0;f<l.length;f++)A.push(yy(e,n,i,o,l[f]));for(var d=0;d<u.length;d++)c.push(yy(t,r,a,s,u[d]));return IT(A,c)}function YK(e,t,n,r,i,a,o,s,A,c,l){return LT([e,n,i,o],[t,r,a,s],A,c,yy,l)}function Wx(e,t,n,r,i,a,o,s,A,c,l){var u=YK(e,t,n,r,i,a,o,s,A,c,l);return Ea(u.x,u.y,A,c)}function XK(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=Ea(r[0],r[1],i[0],i[1])}return t}function qK(e){return XK(e)}function my(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function Yx(e,t,n){var r=e+n-2*t;if(mA(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function ZK(e,t,n,r,i,a){var o=Yx(e,n,i)[0],s=Yx(t,r,a)[0],A=[e,i],c=[t,a];return o!==void 0&&A.push(my(e,n,i,o)),s!==void 0&&c.push(my(t,r,a,s)),IT(A,c)}function JK(e,t,n,r,i,a,o,s){return LT([e,n,i],[t,r,a],o,s,my)}function e9(e,t,n,r,i,a,o,s){var A=JK(e,t,n,r,i,a,o,s);return Ea(A.x,A.y,o,s)}function NT(e,t){this.v=e,this.k=t}function Nn(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Nn=function(o,s,A,c){function l(u,f){Nn(o,u,function(d){return this._invoke(u,f,d)})}s?i?i(o,s,{value:A,enumerable:!c,configurable:!c,writable:!c}):o[s]=A:(l("next",0),l("throw",1),l("return",2))},Nn(e,t,n,r)}function ab(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(d,h,p,g){var v=h&&h.prototype instanceof s?h:s,y=Object.create(v.prototype);return Nn(y,"_invoke",function(m,b,w){var B,x,C,E=0,O=w||[],S=!1,_={p:0,n:0,v:e,a:F,f:F.bind(e,4),d:function(Q,L){return B=Q,x=0,C=e,_.n=L,o}};function F(k,Q){for(x=k,C=Q,t=0;!S&&E&&!L&&t<O.length;t++){var L,T=O[t],M=_.p,I=T[2];k>3?(L=I===Q)&&(C=T[(x=T[4])?5:(x=3,3)],T[4]=T[5]=e):T[0]<=M&&((L=k<2&&M<T[1])?(x=0,_.v=Q,_.n=T[1]):M<I&&(L=k<3||T[0]>Q||Q>I)&&(T[4]=k,T[5]=Q,_.n=I,x=0))}if(L||k>1)return o;throw S=!0,Q}return function(k,Q,L){if(E>1)throw TypeError("Generator is already running");for(S&&Q===1&&F(Q,L),x=Q,C=L;(t=x<2?e:C)||!S;){B||(x?x<3?(x>1&&(_.n=-1),F(x,C)):_.n=C:_.v=C);try{if(E=2,B){if(x||(k="next"),t=B[k]){if(!(t=t.call(B,C)))throw TypeError("iterator result is not an object");if(!t.done)return t;C=t.value,x<2&&(x=0)}else x===1&&(t=B.return)&&t.call(B),x<2&&(C=TypeError("The iterator does not provide a '"+k+"' method"),x=1);B=e}else if((t=(S=_.n<0)?C:m.call(b,_))!==o)break}catch(T){B=e,x=1,C=T}finally{E=1}}return{value:t,done:S}}}(d,p,g),!0),y}var o={};function s(){}function A(){}function c(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Nn(t={},r,function(){return this}),t),u=c.prototype=s.prototype=Object.create(l);function f(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,c):(d.__proto__=c,Nn(d,i,"GeneratorFunction")),d.prototype=Object.create(u),d}return A.prototype=c,Nn(u,"constructor",c),Nn(c,"constructor",A),A.displayName="GeneratorFunction",Nn(c,i,"GeneratorFunction"),Nn(u),Nn(u,i,"Generator"),Nn(u,r,function(){return this}),Nn(u,"toString",function(){return"[object Generator]"}),(ab=function(){return{w:a,m:f}})()}function mh(e,t){function n(i,a,o,s){try{var A=e[i](a),c=A.value;return c instanceof NT?t.resolve(c.v).then(function(l){n("next",l,o,s)},function(l){n("throw",l,o,s)}):t.resolve(c).then(function(l){A.value=l,o(A)},function(l){return n("throw",l,o,s)})}catch(l){s(l)}}var r;this.next||(Nn(mh.prototype),Nn(mh.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Nn(this,"_invoke",function(i,a,o){function s(){return new t(function(A,c){n(i,o,A,c)})}return r=r?r.then(s,s):s()},!0)}function RT(e,t,n,r,i){return new mh(ab().w(e,t,n,r),i||Promise)}function t9(e,t,n,r,i){var a=RT(e,t,n,r,i);return a.next().then(function(o){return o.done?o.value:a.next()})}function n9(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function i(){for(;n.length;)if((r=n.pop())in t)return i.value=r,i.done=!1,i;return i.done=!0,i}}function Xx(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(Bs(e)+" is not iterable")}function _n(){var e=ab(),t=e.m(_n),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===n||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function a(o){var s,A;return function(c){s||(s={stop:function(){return A(c.a,2)},catch:function(){return c.v},abrupt:function(u,f){return A(c.a,i[u],f)},delegateYield:function(u,f,d){return s.resultName=f,A(c.d,Xx(u),d)},finish:function(u){return A(c.f,u)}},A=function(u,f,d){c.p=s.prev,c.n=s.next;try{return u(f,d)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return o.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(_n=function(){return{wrap:function(A,c,l,u){return e.w(a(A),c,l,u&&u.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(A,c){return new NT(A,c)},AsyncIterator:mh,async:function(A,c,l,u,f){return(r(c)?RT:t9)(a(A),c,l,u,f)},keys:n9,values:Xx}})()}function qx(e,t,n,r,i,a,o){try{var s=e[a](o),A=s.value}catch(c){return void n(c)}s.done?t(A):Promise.resolve(A).then(r,i)}function yo(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(A){qx(a,r,i,o,s,"next",A)}function s(A){qx(a,r,i,o,s,"throw",A)}o(void 0)})}}function qa(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ib(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw a}}}}function r9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $i(e,t){if(e==null)return{};var n,r,i=r9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.7.0
 * @date 12/24/2025, 11:55:20 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Z=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),Qd=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),Fo=function(){function e(){oe(this,e),this.plugins=[]}return se(e,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var i=n.context.renderingPlugins.indexOf(r);i>=0&&n.context.renderingPlugins.splice(i,1)})}}])}(),i9=function(){function e(t){oe(this,e),this.clipSpaceNearZ=Qd.NEGATIVE_ONE,this.plugins=[],this.config=Qe({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)}return se(e,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])}(),h0=so,Gs=Ui,a9=_8,o9=F8,Zx=ah,p0=FM,pn=function(){function e(){oe(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return se(e,[{key:"update",value:function(n,r){Gs(this.center,n),Gs(this.halfExtents,r),p0(this.min,this.center,this.halfExtents),h0(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){h0(this.center,r,n),Zx(this.center,this.center,.5),p0(this.halfExtents,r,n),Zx(this.halfExtents,this.halfExtents,.5),Gs(this.min,n),Gs(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!e.isEmpty(n)){if(e.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,A=s[0],c=s[1],l=s[2],u=i-A,f=i+A,d=a-c,h=a+c,p=o-l,g=o+l,v=n.center,y=v[0],m=v[1],b=v[2],w=n.halfExtents,B=w[0],x=w[1],C=w[2],E=y-B,O=y+B,S=m-x,_=m+x,F=b-C,k=b+C;E<u&&(u=E),O>f&&(f=O),S<d&&(d=S),_>h&&(h=_),F<p&&(p=F),k>g&&(g=k),r[0]=(u+f)*.5,r[1]=(d+h)*.5,r[2]=(p+g)*.5,s[0]=(f-u)*.5,s[1]=(h-d)*.5,s[2]=(g-p)*.5,this.min[0]=u,this.min[1]=d,this.min[2]=p,this.max[0]=f,this.max[1]=h,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(n,r){var i=this.center,a=this.halfExtents,o=n.center,s=n.halfExtents,A=r[0],c=r[4],l=r[8],u=r[1],f=r[5],d=r[9],h=r[2],p=r[6],g=r[10],v=Math.abs(A),y=Math.abs(c),m=Math.abs(l),b=Math.abs(u),w=Math.abs(f),B=Math.abs(d),x=Math.abs(h),C=Math.abs(p),E=Math.abs(g);i[0]=r[12]+A*o[0]+c*o[1]+l*o[2],i[1]=r[13]+u*o[0]+f*o[1]+d*o[2],i[2]=r[14]+h*o[0]+p*o[1]+g*o[2],a[0]=v*s[0]+y*s[1]+m*s[2],a[1]=b*s[0]+w*s[1]+B*s[2],a[2]=x*s[0]+C*s[1]+E*s[2],p0(this.min,i,a),h0(this.max,i,a)}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),a=n.getMax(),o=n.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new e,i=a9([0,0,0],this.getMin(),n.getMin()),a=o9([0,0,0],this.getMax(),n.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?Gs([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?Gs([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])}(),s9=function(){function e(t,n){oe(this,e),this.distance=t||0,this.normal=n||nt(0,1,0),this.updatePNVertexFlag()}return se(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return Pi(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/_M(this.normal);ah(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var a=this.distanceToPoint(n),o=this.distanceToPoint(r),s=a/(a-o),A=s>=0&&s<=1;return A&&i&&ey(i,n,r,s),A}}])}(),zs=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),A9=function(){function e(t){if(oe(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new s9)}return se(e,[{key:"extractFromVPMatrix",value:function(n){var r=Le(n,16),i=r[0],a=r[1],o=r[2],s=r[3],A=r[4],c=r[5],l=r[6],u=r[7],f=r[8],d=r[9],h=r[10],p=r[11],g=r[12],v=r[13],y=r[14],m=r[15];jn(this.planes[0].normal,s-i,u-A,p-f),this.planes[0].distance=m-g,jn(this.planes[1].normal,s+i,u+A,p+f),this.planes[1].distance=m+g,jn(this.planes[2].normal,s+a,u+c,p+d),this.planes[2].distance=m+v,jn(this.planes[3].normal,s-a,u-c,p-d),this.planes[3].distance=m-v,jn(this.planes[4].normal,s-o,u-l,p-h),this.planes[4].distance=m-y,jn(this.planes[5].normal,s+o,u+l,p+h),this.planes[5].distance=m+y,this.planes.forEach(function(b){b.normalize(),b.updatePNVertexFlag()})}}])}(),Tn=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;oe(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return se(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])}(),GA=function(){function e(t,n,r,i){oe(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.left=t,this.right=t+r,this.top=n,this.bottom=n+i}return se(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new e(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var i=Nc(n.x,n.y,0,1),a=Nc(n.x+n.width,n.y,0,1),o=Nc(n.x,n.y+n.height,0,1),s=Nc(n.x+n.width,n.y+n.height,0,1),A=Ni(),c=Ni(),l=Ni(),u=Ni();Ri(A,i,r),Ri(c,a,r),Ri(l,o,r),Ri(u,s,r);var f=Math.min(A[0],c[0],l[0],u[0]),d=Math.min(A[1],c[1],l[1],u[1]),h=Math.max(A[0],c[0],l[0],u[0]),p=Math.max(A[1],c[1],l[1],u[1]);return e.fromRect({x:f,y:d,width:h-f,height:p-d})}}])}(),yt="Method not implemented.",Vs="Use document.documentElement instead.",c9="Cannot append a destroyed element.";function wA(e){return e===void 0?0:e>360||e<-360?e%360:e}var g0=$e();function qn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(e)&&e.length===3?r?da(e):Ui(g0,e):Et(e)?r?nt(e,t,n):jn(g0,e,t,n):r?nt(e[0],e[1]||t,e[2]||n):jn(g0,e[0],e[1]||t,e[2]||n)}var l9=Math.PI/180;function At(e){return e*l9}var u9=180/Math.PI;function Ur(e){return e*u9}function f9(e){return 360*e}var bh=Math.PI/2;function d9(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n,s=r*r,A=i*i,c=a*a,l=o+s+A+c,u=n*a-r*i;return u>.499995*l?(e[0]=bh,e[1]=2*Math.atan2(r,n),e[2]=0):u<-.499995*l?(e[0]=-bh,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*i-a*r)),e[1]=Math.atan2(2*(n*a+r*i),1-2*(A+c)),e[2]=Math.atan2(2*(n*r+i*a),1-2*(s+A))),e}function h9(e,t){var n,r,i=PA($e(),t),a=Le(i,3),o=a[0],s=a[1],A=a[2],c=Math.asin(-t[2]/o);return c<bh?c>-bh?(n=Math.atan2(t[6]/s,t[10]/A),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/s,t[5]/s)):(r=0,n=Math.atan2(t[4]/s,t[5]/s)),e[0]=n,e[1]=c,e[2]=r,e}function v0(e,t){return t.length===16?h9(e,t):d9(e,t)}function p9(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e);return t8(r*a,i*o,0,-r*o,i*a,0,t,n,1)}function g9(e,t,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,A=2*a,c=n-t,l=r-i,u=A/c,f=A/l,d=(n+t)/c,h=(r+i)/l,p,g,v=o-a,y=o*a;return s?(p=-o/v,g=-y/v):(p=-(o+a)/v,g=-2*y/v),e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=d,e[9]=h,e[10]=p,e[11]=-1,e[12]=0,e[13]=0,e[14]=g,e[15]=0,e}function Jx(e){var t=e[0],n=e[1],r=e[3],i=e[4],a=Math.sqrt(t*t+n*n),o=Math.sqrt(r*r+i*i),s=t*i-n*r;if(s<0&&(t<i?a=-a:o=-o),a){var A=1/a;t*=A,n*=A}if(o){var c=1/o;r*=c,i*=c}var l=Math.atan2(n,t),u=Ur(l);return[e[6],e[7],a,o,u]}var mi=st(),ti=st(),Bc=Ni(),ke=[$e(),$e(),$e()],eC=$e();function v9(e,t,n,r,i,a){if(!y9(mi,e)||(UA(ti,mi),ti[3]=0,ti[7]=0,ti[11]=0,ti[15]=1,Math.abs(dM(ti))<1e-8))return!1;var o=mi[3],s=mi[7],A=mi[11],c=mi[12],l=mi[13],u=mi[14],f=mi[15];if(o!==0||s!==0||A!==0){Bc[0]=o,Bc[1]=s,Bc[2]=A,Bc[3]=f;var d=Ai(ti,ti);if(!d)return!1;fM(ti,ti),Ri(i,Bc,ti)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=c,t[1]=l,t[2]=u,m9(ke,mi),n[0]=va(ke[0]),As(ke[0],ke[0]),r[0]=Pi(ke[0],ke[1]),y0(ke[1],ke[1],ke[0],1,-r[0]),n[1]=va(ke[1]),As(ke[1],ke[1]),r[0]/=n[1],r[1]=Pi(ke[0],ke[2]),y0(ke[2],ke[2],ke[0],1,-r[1]),r[2]=Pi(ke[1],ke[2]),y0(ke[2],ke[2],ke[1],1,-r[2]),n[2]=va(ke[2]),As(ke[2],ke[2]),r[1]/=n[2],r[2]/=n[2],_d(eC,ke[1],ke[2]),Pi(ke[0],eC)<0)for(var h=0;h<3;h++)n[h]*=-1,ke[h][0]*=-1,ke[h][1]*=-1,ke[h][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+ke[0][0]-ke[1][1]-ke[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-ke[0][0]+ke[1][1]-ke[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-ke[0][0]-ke[1][1]+ke[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+ke[0][0]+ke[1][1]+ke[2][2],0)),ke[2][1]>ke[1][2]&&(a[0]=-a[0]),ke[0][2]>ke[2][0]&&(a[1]=-a[1]),ke[1][0]>ke[0][1]&&(a[2]=-a[2]),!0}function y9(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}function m9(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function y0(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}var vt=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),by=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),Tr=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),HT={UPDATED:"updated"},tC=2e-4,DT=function(){function e(){oe(this,e),this.clipSpaceNearZ=Qd.NEGATIVE_ONE,this.eventEmitter=new QT,this.matrix=st(),this.right=nt(1,0,0),this.up=nt(0,1,0),this.forward=nt(0,0,1),this.position=nt(0,0,1),this.focalPoint=nt(0,0,0),this.distanceVector=nt(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=st(),this.projectionMatrixInverse=st(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=vt.EXPLORING,this.trackingMode=by.DEFAULT,this.projectionMode=Tr.PERSPECTIVE,this.frustum=new A9,this.orthoMatrix=st()}return se(e,[{key:"isOrtho",value:function(){return this.projectionMode===Tr.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===vt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===vt.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==vt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Ai(st(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var i=ga(st(),[n,r,0]);this.jitteredProjectionMatrix=$n(st(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===Tr.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===Tr.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,i,a,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===Tr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Tr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===Tr.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Tr.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(n),this.rotate(0,0,s);var A=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=A.x,l=A.y,u=nt(c-a,l-o,0),f=Pi(u,this.right)/va(this.right),d=Pi(u,this.up)/va(this.up),h=this.getPosition(),p=Le(h,2),g=p[0],v=p[1],y=this.getFocalPoint(),m=Le(y,2),b=m[0],w=m[1];return this.setPosition(g-f,v-d),this.setFocalPoint(b-f,w-d),this}},{key:"setPerspective",value:function(n,r,i,a){var o;this.projectionMode=Tr.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=a;var s=this.near*Math.tan(At(.5*this.fov))/this.zoom,A=2*s,c=this.aspect*A,l=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var u=this.view.fullWidth,f=this.view.fullHeight;l+=this.view.offsetX*c/u,s-=this.view.offsetY*A/f,c*=this.view.width/u,A*=this.view.height/f}return g9(this.projectionMatrix,l,l+c,s-A,s,n,this.far,this.clipSpaceNearZ===Qd.ZERO),Ai(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,i,a,o,s){var A;this.projectionMode=Tr.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=a,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,d=u-c,h=u+c,p=f+l,g=f-l;if((A=this.view)!==null&&A!==void 0&&A.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=v*this.view.offsetX,h=d+v*this.view.width,p-=y*this.view.offsetY,g=p-y*this.view.height}return this.clipSpaceNearZ===Qd.NEGATIVE_ONE?xM(this.projectionMatrix,d,h,p,g,o,s):CM(this.projectionMatrix,d,h,p,g,o,s),Ai(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=qn(n,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=nt(0,1,0);if(this.focalPoint=qn(n,r,i),this.trackingMode===by.CINEMATIC){var o=Jv($e(),this.focalPoint,this.position);n=o[0],r=o[1],i=o[2];var s=va(o),A=Ur(Math.asin(r/s)),c=90+Ur(Math.atan2(i,n)),l=st();gM(l,l,At(c)),pM(l,l,At(A)),a=Vt($e(),[0,1,0],l)}return Ai(this.matrix,EM(st(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<tC&&(this.distance=tC),this.dollyingStep=this.distance/100;var r=$e();n=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=n*i[0]+a[0],r[1]=n*i[1]+a[1],r[2]=n*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=wA(n),this.computeMatrix(),this._getAxes(),this.type===vt.ORBITING||this.type===vt.EXPLORING?this._getPosition():this.type===vt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=wA(n),this.computeMatrix(),this._getAxes(),this.type===vt.ORBITING||this.type===vt.EXPLORING?this._getPosition():this.type===vt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=wA(n),this.computeMatrix(),this._getAxes(),this.type===vt.ORBITING||this.type===vt.EXPLORING?this._getPosition():this.type===vt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=Ja(vn(),[0,0,1],At(this.roll));go(this.matrix);var r=Ja(vn(),[1,0,0],At((this.rotateWorld&&this.type!==vt.TRACKING||this.type===vt.TRACKING?1:-1)*this.elevation)),i=Ja(vn(),[0,1,0],At((this.rotateWorld&&this.type!==vt.TRACKING||this.type===vt.TRACKING?1:-1)*this.azimuth)),a=Ao(vn(),i,r);a=Ao(vn(),a,n);var o=C1(st(),a);this.type===vt.ORBITING||this.type===vt.EXPLORING?(bA(this.matrix,this.matrix,this.focalPoint),$n(this.matrix,this.matrix,o),bA(this.matrix,this.matrix,[0,0,this.distance])):this.type===vt.TRACKING&&(bA(this.matrix,this.matrix,this.position),$n(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,i){this.position=qn(n,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Ui(this.right,qn(Ri(Ni(),[1,0,0,0],this.matrix))),Ui(this.up,qn(Ri(Ni(),[0,1,0,0],this.matrix))),Ui(this.forward,qn(Ri(Ni(),[0,0,1,0],this.matrix))),As(this.right,this.right),As(this.up,this.up),As(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=va(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===vt.TRACKING?(this.elevation=Ur(Math.asin(r/a)),this.azimuth=Ur(Math.atan2(-n,-i))):this.rotateWorld?(this.elevation=Ur(Math.asin(r/a)),this.azimuth=Ur(Math.atan2(-n,-i))):(this.elevation=-Ur(Math.asin(r/a)),this.azimuth=-Ur(Math.atan2(-n,-i)))}},{key:"_getPosition",value:function(){Ui(this.position,qn(Ri(Ni(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){SM(this.distanceVector,[0,0,-this.distance],J5(ic(),this.matrix)),so(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Jv($e(),this.focalPoint,this.position),this.distance=va(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Tr.ORTHOGRAPHIC){var n=this.position,r=Ja(vn(),[0,0,1],-this.roll*Math.PI/180);pl(this.orthoMatrix,r,nt((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),nt(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=$n(st(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(HT.UPDATED)}}},{key:"rotate",value:function(n,r,i){throw new Error(yt)}},{key:"pan",value:function(n,r){throw new Error(yt)}},{key:"dolly",value:function(n){throw new Error(yt)}},{key:"createLandmark",value:function(n,r){throw new Error(yt)}},{key:"gotoLandmark",value:function(n,r){throw new Error(yt)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(yt)}}])}(),b9=function(e){return e[e.Standard=0]="Standard",e}({}),wh=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),w9=$e(),xc=st(),B9=vn();function nC(e){if(e.localDirtyFlag){var t=e.localSkew[0]!==0||e.localSkew[1]!==0;if(t){pl(e.localTransform,e.localRotation,e.localPosition,nt(1,1,1),e.origin),(e.localSkew[0]!==0||e.localSkew[1]!==0)&&(go(xc),xc[4]=Math.tan(e.localSkew[0]),xc[1]=Math.tan(e.localSkew[1]),$n(e.localTransform,e.localTransform,xc));var n=pl(xc,MM(B9,0,0,0,1),jn(w9,1,1,1),e.localScale,e.origin);$n(e.localTransform,e.localTransform,n)}else{var r=e.localTransform,i=e.localPosition,a=e.localRotation,o=e.localScale,s=e.origin,A=i[0]!==0||i[1]!==0||i[2]!==0,c=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,l=o[0]!==1||o[1]!==1||o[2]!==1,u=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!l&&!u?A?ga(r,i):go(r):pl(r,a,i,o,s)}e.localDirtyFlag=!1}}function x9(e,t){e.dirtyFlag&&(t?$n(e.worldTransform,t.worldTransform,e.localTransform):UA(e.worldTransform,e.localTransform),e.dirtyFlag=!1)}var jT={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new GA(0,0,0,0)},fe=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $T(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lu(){}var Wl=.7,Bh=1/Wl,BA="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C9=/^#([0-9a-f]{3,8})$/,E9=new RegExp(`^rgb\\(${BA},${BA},${BA}\\)$`),O9=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),S9=new RegExp(`^rgba\\(${BA},${BA},${BA},${Yl}\\)$`),F9=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Yl}\\)$`),_9=new RegExp(`^hsl\\(${Yl},${Ki},${Ki}\\)$`),M9=new RegExp(`^hsla\\(${Yl},${Ki},${Ki},${Yl}\\)$`),rC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ob(Lu,Xp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iC,formatHex:iC,formatHex8:k9,formatHsl:T9,formatRgb:aC,toString:aC});function iC(){return this.rgb().formatHex()}function k9(){return this.rgb().formatHex8()}function T9(){return KT(this).formatHsl()}function aC(){return this.rgb().formatRgb()}function Xp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=C9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oC(t):n===3?new dr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E9.exec(e))?new dr(t[1],t[2],t[3],1):(t=O9.exec(e))?new dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S9.exec(e))?sf(t[1],t[2],t[3],t[4]):(t=F9.exec(e))?sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_9.exec(e))?cC(t[1],t[2]/100,t[3]/100,1):(t=M9.exec(e))?cC(t[1],t[2]/100,t[3]/100,t[4]):rC.hasOwnProperty(e)?oC(rC[e]):e==="transparent"?new dr(NaN,NaN,NaN,0):null}function oC(e){return new dr(e>>16&255,e>>8&255,e&255,1)}function sf(e,t,n,r){return r<=0&&(e=t=n=NaN),new dr(e,t,n,r)}function Q9(e){return e instanceof Lu||(e=Xp(e)),e?(e=e.rgb(),new dr(e.r,e.g,e.b,e.opacity)):new dr}function I9(e,t,n,r){return arguments.length===1?Q9(e):new dr(e,t,n,r??1)}function dr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ob(dr,I9,$T(Lu,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dr(cs(this.r),cs(this.g),cs(this.b),xh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sC,formatHex:sC,formatHex8:L9,formatRgb:AC,toString:AC}));function sC(){return`#${es(this.r)}${es(this.g)}${es(this.b)}`}function L9(){return`#${es(this.r)}${es(this.g)}${es(this.b)}${es((isNaN(this.opacity)?1:this.opacity)*255)}`}function AC(){const e=xh(this.opacity);return`${e===1?"rgb(":"rgba("}${cs(this.r)}, ${cs(this.g)}, ${cs(this.b)}${e===1?")":`, ${e})`}`}function xh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function es(e){return e=cs(e),(e<16?"0":"")+e.toString(16)}function cC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,n,r)}function KT(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof Lu||(e=Xp(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,A=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new oi(o,s,A,e.opacity)}function U9(e,t,n,r){return arguments.length===1?KT(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ob(oi,U9,$T(Lu,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new dr(m0(e>=240?e-240:e+120,i,r),m0(e,i,r),m0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new oi(lC(this.h),Af(this.s),Af(this.l),xh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xh(this.opacity);return`${e===1?"hsl(":"hsla("}${lC(this.h)}, ${Af(this.s)*100}%, ${Af(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lC(e){return e=(e||0)%360,e<0?e+360:e}function Af(e){return Math.max(0,Math.min(1,e||0))}function m0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function fn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=t?t.apply(this,a):a[0],A=n.cache;if(A.has(s))return A.get(s);var c=e.apply(this,a);return n.cache=A.set(s,c)||A,c};return n.cache=new(fn.Cache||Map),fn.cacheList.push(n.cache),n}fn.Cache=Map;fn.cacheList=[];fn.clearCache=function(){fn.cacheList.forEach(function(e){return e.clear()})};var pe=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),ai=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),P9=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),N9=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),R9=[{name:"em",unit_type:pe.kEms},{name:"px",unit_type:pe.kPixels},{name:"deg",unit_type:pe.kDegrees},{name:"rad",unit_type:pe.kRadians},{name:"grad",unit_type:pe.kGradians},{name:"ms",unit_type:pe.kMilliseconds},{name:"s",unit_type:pe.kSeconds},{name:"rem",unit_type:pe.kRems},{name:"turn",unit_type:pe.kTurns}],zA=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),H9=function(t){return R9.find(function(n){return n.name===t}).unit_type},D9=function(t){return t?t==="number"?pe.kNumber:t==="percent"||t==="%"?pe.kPercentage:H9(t):pe.kUnknown},j9=function(t){switch(t){case pe.kNumber:case pe.kInteger:return ai.kUNumber;case pe.kPercentage:return ai.kUPercent;case pe.kPixels:return ai.kULength;case pe.kMilliseconds:case pe.kSeconds:return ai.kUTime;case pe.kDegrees:case pe.kRadians:case pe.kGradians:case pe.kTurns:return ai.kUAngle;default:return ai.kUOther}},$9=function(t){switch(t){case ai.kUNumber:return pe.kNumber;case ai.kULength:return pe.kPixels;case ai.kUPercent:return pe.kPercentage;case ai.kUTime:return pe.kSeconds;case ai.kUAngle:return pe.kDegrees;default:return pe.kUnknown}},uC=function(t){var n=1;switch(t){case pe.kPixels:case pe.kDegrees:case pe.kSeconds:break;case pe.kMilliseconds:n=.001;break;case pe.kRadians:n=180/Math.PI;break;case pe.kGradians:n=.9;break;case pe.kTurns:n=360;break}return n},wy=function(t){switch(t){case pe.kNumber:case pe.kInteger:return"";case pe.kPercentage:return"%";case pe.kEms:return"em";case pe.kRems:return"rem";case pe.kPixels:return"px";case pe.kDegrees:return"deg";case pe.kRadians:return"rad";case pe.kGradians:return"grad";case pe.kMilliseconds:return"ms";case pe.kSeconds:return"s";case pe.kTurns:return"turn"}return""},qp=function(){function e(){oe(this,e)}return se(e,[{key:"toString",value:function(){return this.buildCSSText(P9.kNo,N9.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=zA.kUnitType&&this.getType()<=zA.kClampType}}],[{key:"isAngle",value:function(n){return n===pe.kDegrees||n===pe.kRadians||n===pe.kGradians||n===pe.kTurns}},{key:"isLength",value:function(n){return n>=pe.kEms&&n<pe.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===pe.kPercentage||n===pe.kEms||n===pe.kRems}},{key:"isTime",value:function(n){return n===pe.kSeconds||n===pe.kMilliseconds}}])}(),K9=function(e){function t(n){var r;return oe(this,t),r=Pe(this,t),r.colorSpace=n,r}return Ne(t,e),se(t,[{key:"getType",value:function(){return zA.kColorType}},{key:"to",value:function(r){return this}}])}(qp),eo=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),cf=function(e){function t(n,r){var i;return oe(this,t),i=Pe(this,t),i.type=n,i.value=r,i}return Ne(t,e),se(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return zA.kColorType}}])}(qp),qr=function(e){function t(n){var r;return oe(this,t),r=Pe(this,t),r.value=n,r}return Ne(t,e),se(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return zA.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])}(qp),G9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(t)?r="NaN":t>0?r="infinity":r="-infinity",r+=n},By=function(t){return $9(j9(t))},mt=function(e){function t(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe.kNumber;oe(this,t),r=Pe(this,t);var a;return typeof i=="string"?a=D9(i):a=i,r.unit=a,r.value=n,r}return Ne(t,e),se(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return zA.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new t(this.value,this.unit);var i=By(this.unit);if(i!==By(r)||i===pe.kUnknown)return null;var a=uC(this.unit)/uC(r);return new t(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case pe.kUnknown:break;case pe.kInteger:o=Number(this.value).toFixed(0);break;case pe.kNumber:case pe.kPercentage:case pe.kEms:case pe.kRems:case pe.kPixels:case pe.kDegrees:case pe.kRadians:case pe.kGradians:case pe.kMilliseconds:case pe.kSeconds:case pe.kTurns:{var s=-999999,A=999999,c=this.value,l=wy(this.unit);if(c<s||c>A){var u=wy(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=G9(c,u):o=c+(u||"")}else o="".concat(c).concat(l)}}return a+=o,a}}])}(qp),ii=new mt(0,"px");new mt(1,"px");var xs=new mt(0,"deg"),sb=function(e){function t(n,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return oe(this,t),a=Pe(this,t,["rgb"]),a.r=n,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return Ne(t,e),se(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(K9),fC=new qr("unset"),z9=new qr("initial"),V9=new qr("inherit"),b0={"":fC,unset:fC,initial:z9,inherit:V9},W9=function(t){return b0[t]||(b0[t]=new qr(t)),b0[t]},GT=new sb(0,0,0,0,!0),zT=new sb(0,0,0,0),Y9=fn(function(e,t,n,r){return new sb(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),Pt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe.kNumber;return new mt(t,n)};new mt(50,"%");function X9(e){var t=e.type,n=e.value;return t==="hex"?"#".concat(n):t==="literal"?n:t==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var q9=function(){var e={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(T){throw new Error("".concat(t,": ").concat(T))}function r(){var T=i();return t.length>0&&n("Invalid input not EOF"),T}function i(){return m(a)}function a(){return o("linear-gradient",e.linearGradient,A)||o("repeating-linear-gradient",e.repeatingLinearGradient,A)||o("radial-gradient",e.radialGradient,u)||o("repeating-radial-gradient",e.repeatingRadialGradient,u)||o("conic-gradient",e.conicGradient,u)}function o(T,M,I){return s(M,function(U){var R=I();return R&&(Q(e.comma)||n("Missing comma before color stops")),{type:T,orientation:R,colorStops:m(b)}})}function s(T,M){var I=Q(T);if(I){Q(e.startCall)||n("Missing (");var U=M(I);return Q(e.endCall)||n("Missing )"),U}}function A(){return c()||l()}function c(){return k("directional",e.sideOrCorner,1)}function l(){return k("angular",e.angleValue,1)}function u(){var T,M=f(),I;return M&&(T=[],T.push(M),I=t,Q(e.comma)&&(M=f(),M?T.push(M):t=I)),T}function f(){var T=d()||h();if(T)T.at=g();else{var M=p();if(M){T=M;var I=g();I&&(T.at=I)}else{var U=v();U&&(T={type:"default-radial",at:U})}}return T}function d(){var T=k("shape",/^(circle)/i,0);return T&&(T.style=F()||p()),T}function h(){var T=k("shape",/^(ellipse)/i,0);return T&&(T.style=S()||p()),T}function p(){return k("extent-keyword",e.extentKeywords,1)}function g(){if(k("position",/^at/,0)){var T=v();return T||n("Missing positioning value"),T}}function v(){var T=y();if(T.x||T.y)return{type:"position",value:T}}function y(){return{x:S(),y:S()}}function m(T){var M=T(),I=[];if(M)for(I.push(M);Q(e.comma);)M=T(),M?I.push(M):n("One extra comma");return I}function b(){var T=w();return T||n("Expected color definition"),T.length=S(),T}function w(){return x()||E()||C()||B()}function B(){return k("literal",e.literalColor,0)}function x(){return k("hex",e.hexColor,1)}function C(){return s(e.rgbColor,function(){return{type:"rgb",value:m(O)}})}function E(){return s(e.rgbaColor,function(){return{type:"rgba",value:m(O)}})}function O(){return Q(e.number)[1]}function S(){return k("%",e.percentageValue,1)||_()||F()}function _(){return k("position-keyword",e.positionKeywords,1)}function F(){return k("px",e.pixelValue,1)||k("em",e.emValue,1)}function k(T,M,I){var U=Q(M);if(U)return{type:T,value:U[I]}}function Q(T){var M=/^[\n\r\t\s]+/.exec(t);M&&L(M[0].length);var I=T.exec(t);return I&&L(I[0].length),I}function L(T){t=t.substring(T)}return function(T){return t=T,r()}}();function Z9(e,t,n,r){var i=At(r.value),a=0,o=0,s=a+t/2,A=o+n/2,c=Math.abs(t*Math.cos(i))+Math.abs(n*Math.sin(i)),l=e[0]+s-Math.cos(i)*c/2,u=e[1]+A-Math.sin(i)*c/2,f=e[0]+s+Math.cos(i)*c/2,d=e[1]+A+Math.sin(i)*c/2;return{x1:l,y1:u,x2:f,y2:d}}function J9(e,t,n,r,i,a){var o=r.value,s=i.value;r.unit===pe.kPercentage&&(o=r.value/100*t),i.unit===pe.kPercentage&&(s=i.value/100*n);var A=Math.max(lr([0,0],[o,s]),lr([0,n],[o,s]),lr([t,n],[o,s]),lr([t,0],[o,s]));return a&&(a instanceof mt?A=a.value:a instanceof qr&&(a.value==="closest-side"?A=Math.min(o,t-o,s,n-s):a.value==="farthest-side"?A=Math.max(o,t-o,s,n-s):a.value==="closest-corner"&&(A=Math.min(lr([0,0],[o,s]),lr([0,n],[o,s]),lr([t,n],[o,s]),lr([t,0],[o,s]))))),{x:o+e[0],y:s+e[1],r:A}}var eG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,tG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,nG=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,VT=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function rG(e){var t,n=e.length;if(e[n-1].length=(t=e[n-1].length)!==null&&t!==void 0?t:{type:"%",value:"100"},n>1){var r;e[0].length=(r=e[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(e[0].length.value),o=1;o<n;o++){var s,A=(s=e[o].length)===null||s===void 0?void 0:s.value;if(!Oe(A)&&!Oe(a)){for(var c=1;c<o-i;c++)e[i+c].length={type:"%",value:"".concat(a+(Number(A)-a)*c/(o-i))};i=o,a=Number(A)}}}var iG={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},aG=fn(function(e){var t;return e.type==="angular"?t=Number(e.value):t=iG[e.value]||0,Pt(t,"deg")}),oG=fn(function(e){var t=50,n=50,r="%",i="%";if((e==null?void 0:e.type)==="position"){var a=e.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?t=0:o.value==="center"?t=50:o.value==="right"?t=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?t=0:s.value==="center"?n=50:s.value==="right"?t=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,t=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,n=Number(s.value))}return{cx:Pt(t,r),cy:Pt(n,i)}}),sG=fn(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1){var t=q9(e);return t.map(function(s){var A=s.type,c=s.orientation,l=s.colorStops;rG(l);var u=l.map(function(m){return{offset:Pt(Number(m.length.value),"%"),color:X9(m)}});if(A==="linear-gradient")return new cf(eo.LinearGradient,{angle:c?aG(c):xs,steps:u});if(A==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var f=oG(c[0].at),d=f.cx,h=f.cy,p;if(c[0].style){var g=c[0].style,v=g.type,y=g.value;v==="extent-keyword"?p=W9(y):p=Pt(y,v)}return new cf(eo.RadialGradient,{cx:d,cy:h,size:p,steps:u})}})}var n=e[0];if(e[1]==="("||e[2]==="("){if(n==="l"){var r=eG.exec(e);if(r){var i,a=((i=r[2].match(VT))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new cf(eo.LinearGradient,{angle:Pt(parseFloat(r[1]),"deg"),steps:a.map(function(s){var A=Le(s,2),c=A[0],l=A[1];return{offset:Pt(Number(c)*100,"%"),color:l}})})]}}else if(n==="r"){var o=AG(e);if(o)if(Ut(o))e=o;else return[new cf(eo.RadialGradient,o)]}else if(n==="p")return cG(e)}});function AG(e){var t=tG.exec(e);if(t){var n,r=((n=t[4].match(VT))===null||n===void 0?void 0:n.map(function(i){return i.split(":")}))||[];return{cx:Pt(50,"%"),cy:Pt(50,"%"),steps:r.map(function(i){var a=Le(i,2),o=a[0],s=a[1];return{offset:Pt(Number(o)*100,"%"),color:s}})}}return null}function cG(e){var t=nG.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function Cs(e){return e&&!!e.image}function Ch(e){return e&&!Oe(e.r)&&!Oe(e.g)&&!Oe(e.b)}var uo=fn(function(e){if(Cs(e))return Qe({repetition:"repeat"},e);if(Oe(e)&&(e=""),e==="transparent")return zT;if(e==="currentColor")e="black";else if(e==="none")return GT;var t=sG(e);if(t)return t;var n=Xp(e),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),Y9.apply(void 0,r)});function lG(e,t){if(!(!Ch(e)||!Ch(t)))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(n){var r=n.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(qt(r[i],0,255));return r[3]=qt(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Uu(e,t){if(Oe(t))return Pt(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return Pt(Number(t),"px");if("deg".search(e)>=0)return Pt(Number(t),"deg")}var n=[];t=t.replace(e,function(i){return n.push(i),"U".concat(i)});var r="U(".concat(e.source,")");return n.map(function(i){return Pt(Number(t.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var WT=function(t){return Uu(new RegExp("px","g"),t)},uG=fn(WT),fG=function(t){return Uu(new RegExp("%","g"),t)};fn(fG);var YT=function(t){return Et(t)||isFinite(Number(t))?Pt(Number(t)||0,"px"):Uu(new RegExp("px|%|em|rem","g"),t)},xy=fn(YT),XT=function(t){return Uu(new RegExp("deg|rad|grad|turn","g"),t)},dG=fn(XT);function hG(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=e.value||0,s=t.value||0,A=By(e.unit),c=e.convertTo(A),l=t.convertTo(A);return c&&l?(o=c.value,s=l.value,a=wy(e.unit)):(mt.isLength(e.unit)||mt.isLength(t.unit))&&(o=br(e,i,n),s=br(t,i,n),a="px"),[o,s,function(u){return u+a}]}function ur(e){var t=0;return e.unit===pe.kDegrees?t=e.value:e.unit===pe.kRadians?t=Ur(Number(e.value)):e.unit===pe.kTurns?t=f9(Number(e.value)):e.value&&(t=e.value),t}function dC(e,t){var n;return Array.isArray(e)?n=e.map(function(r){return Number(r)}):Ut(e)?n=e.split(" ").map(function(r){return Number(r)}):Et(e)&&(n=[e]),t===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:t===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:t==="even"&&n.length%2===1?[].concat(De(n),De(n)):n}function br(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.unit===pe.kPixels)return Number(e.value);if(e.unit===pe.kPercentage&&n){var i=n.nodeName===Z.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var pG=function(t){return Uu(/deg|rad|grad|turn|px|%/g,t)},gG=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function vG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(e=e.toLowerCase().trim(),e==="none")return[];for(var t=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,i=0;r=t.exec(e);){if(r.index!==i)return[];if(i=r.index+r[0].length,gG.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(a){return pG(a)||uo(a)})}),t.lastIndex===e.length)return n}return[]}function qT(e){return e.toString()}var ZT=function(t){return typeof t=="number"?Pt(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?Pt(Number(t)):Pt(0)},Cy=fn(ZT);fn(function(e){return Ut(e)?e.split(" ").map(Cy):e.map(Cy)});function Ab(e,t){return[e,t,qT]}function cb(e,t){return function(n,r){return[n,r,function(i){return qT(qt(i,e,t))}]}}function JT(e,t){if(e.length===t.length)return[e,t,function(n){return n}]}function Ey(e){return e.parsedStyle.d.totalLength===0&&(e.parsedStyle.d.totalLength=u6(e.parsedStyle.d.absolutePath)),e.parsedStyle.d.totalLength}function yG(e){return e.parsedStyle.points.totalLength===0&&(e.parsedStyle.points.totalLength=qK(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength}function mG(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t],i=r[0];if(i==="M"&&n){var a=n[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[n[1],n[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&Eh(o,s)&&(e.splice(t,1),t--)}}}function bG(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){t=!0;break}}return t}function wG(e){for(var t=[],n=[],r=[],i=0;i<e.length;i++){var a=e[i],o=a[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(t.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}function Eh(e,t){return e[0]===t[0]&&e[1]===t[1]}function BG(e,t){for(var n=[],r=[],i=[],a=0;a<e.length;a++){var o=e[a],s=o.currentPoint,A=o.params,c=o.prePoint,l=void 0;switch(o.command){case"Q":l=ZK(c[0],c[1],A[1],A[2],A[3],A[4]);break;case"C":l=WK(c[0],c[1],A[1],A[2],A[3],A[4],A[5],A[6]);break;case"A":var u=o.arcParams;l=GK(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}l&&(o.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height))}n=n.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0}),r=r.filter(function(b){return!Number.isNaN(b)&&b!==1/0&&b!==-1/0});var f=th(n),d=th(r),h=eh(n),p=eh(r);if(i.length===0)return{x:f,y:d,width:h-f,height:p-d};for(var g=0;g<i.length;g++){var v=i[g],y=v.currentPoint,m=void 0;y[0]===f?(m=lf(v,t),f-=m.xExtra):y[0]===h&&(m=lf(v,t),h+=m.xExtra),y[1]===d?(m=lf(v,t),d-=m.yExtra):y[1]===p&&(m=lf(v,t),p+=m.yExtra)}return{x:f,y:d,width:h-f,height:p-d}}function lf(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),A=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!A||Math.sin(A)===0||mA(A,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l;var u={xExtra:Math.cos(A/2-c)*(t/2*(1/Math.sin(A/2)))-t/2||0,yExtra:Math.cos(l-A/2)*(t/2*(1/Math.sin(A/2)))-t/2||0};return u}function hC(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}var pC=function(t,n){var r=t.x*n.x+t.y*n.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),a=t.x*n.y-t.y*n.x<0?-1:1,o=a*Math.acos(r/i);return o},gC=function(t,n,r,i,a,o,s,A){n=Math.abs(n),r=Math.abs(r),i=iM(i,360);var c=At(i);if(t.x===s.x&&t.y===s.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var l=(t.x-s.x)/2,u=(t.y-s.y)/2,f={x:Math.cos(c)*l+Math.sin(c)*u,y:-Math.sin(c)*l+Math.cos(c)*u},d=Math.pow(f.x,2)/Math.pow(n,2)+Math.pow(f.y,2)/Math.pow(r,2);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var h=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(f.y,2)-Math.pow(r,2)*Math.pow(f.x,2),p=Math.pow(n,2)*Math.pow(f.y,2)+Math.pow(r,2)*Math.pow(f.x,2),g=h/p;g=g<0?0:g;var v=(a!==o?1:-1)*Math.sqrt(g),y={x:v*(n*f.y/r),y:v*(-(r*f.x)/n)},m={x:Math.cos(c)*y.x-Math.sin(c)*y.y+(t.x+s.x)/2,y:Math.sin(c)*y.x+Math.cos(c)*y.y+(t.y+s.y)/2},b={x:(f.x-y.x)/n,y:(f.y-y.y)/r},w=pC({x:1,y:0},b),B={x:(-f.x-y.x)/n,y:(-f.y-y.y)/r},x=pC(b,B);!o&&x>0?x-=2*Math.PI:o&&x<0&&(x+=2*Math.PI),x%=2*Math.PI;var C=w+x*A,E=n*Math.cos(C),O=r*Math.sin(C),S={x:Math.cos(c)*E-Math.sin(c)*O+m.x,y:Math.sin(c)*E+Math.cos(c)*O+m.y,ellipticalArcStartAngle:w,ellipticalArcEndAngle:w+x,ellipticalArcAngle:C,ellipticalArcCenter:m,resultantRx:n,resultantRy:r};return S};function xG(e){for(var t=[],n=null,r=null,i=null,a=0,o=e.length,s=0;s<o;s++){var A=e[s];r=e[s+1];var c=A[0],l={command:c,prePoint:n,params:A,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[A[1],A[2]],a=s;break;case"A":var u=CG(n,A);l.arcParams=u;break}if(c==="Z")n=i,r=e[a+1];else{var f=A.length;n=[A[f-2],A[f-1]]}r&&r[0]==="Z"&&(r=e[a],t[a]&&(t[a].prePoint=n)),l.currentPoint=n,t[a]&&Eh(n,t[a].currentPoint)&&(t[a].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var h=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[h[0]-n[0],h[1]-n[1]],l.endTangent=[n[0]-h[0],n[1]-h[1]];else if(c==="Q"){var p=[A[1],A[2]];l.startTangent=[h[0]-p[0],h[1]-p[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]]}else if(c==="T"){var g=t[s-1],v=hC(g.currentPoint,h);g.command==="Q"?(l.command="Q",l.startTangent=[h[0]-v[0],h[1]-v[1]],l.endTangent=[n[0]-v[0],n[1]-v[1]]):(l.command="TL",l.startTangent=[h[0]-n[0],h[1]-n[1]],l.endTangent=[n[0]-h[0],n[1]-h[1]])}else if(c==="C"){var y=[A[1],A[2]],m=[A[3],A[4]];l.startTangent=[h[0]-y[0],h[1]-y[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]],l.startTangent[0]===0&&l.startTangent[1]===0&&(l.startTangent=[y[0]-m[0],y[1]-m[1]]),l.endTangent[0]===0&&l.endTangent[1]===0&&(l.endTangent=[m[0]-y[0],m[1]-y[1]])}else if(c==="S"){var b=t[s-1],w=hC(b.currentPoint,h),B=[A[1],A[2]];b.command==="C"?(l.command="C",l.startTangent=[h[0]-w[0],h[1]-w[1]],l.endTangent=[n[0]-B[0],n[1]-B[1]]):(l.command="SQ",l.startTangent=[h[0]-B[0],h[1]-B[1]],l.endTangent=[n[0]-B[0],n[1]-B[1]])}else if(c==="A"){var x=vC(l,0),C=x.x,E=x.y,O=vC(l,1,!1),S=O.x,_=O.y;l.startTangent=[C,E],l.endTangent=[S,_]}t.push(l)}return t}function vC(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,A=r.xRotation,c=r.arcFlag,l=r.sweepFlag,u=gC({x:e.prePoint[0],y:e.prePoint[1]},a,s,A,!!c,!!l,{x:e.currentPoint[0],y:e.currentPoint[1]},t),f=gC({x:e.prePoint[0],y:e.prePoint[1]},a,s,A,!!c,!!l,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),d=f.x-u.x,h=f.y-u.y,p=Math.sqrt(d*d+h*h);return{x:-d/p,y:-h/p}}function uf(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Oy(e,t){return uf(e)*uf(t)?(e[0]*t[0]+e[1]*t[1])/(uf(e)*uf(t)):1}function yC(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Oy(e,t))}function CG(e,t){var n=t[1],r=t[2],i=iM(At(t[3]),Math.PI*2),a=t[4],o=t[5],s=e[0],A=e[1],c=t[6],l=t[7],u=Math.cos(i)*(s-c)/2+Math.sin(i)*(A-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(A-l)/2,d=u*u/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var h=n*n*(f*f)+r*r*(u*u),p=h?Math.sqrt((n*n*(r*r)-h)/h):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=r?p*n*f/r:0,v=n?p*-r*u/n:0,y=(s+c)/2+Math.cos(i)*g-Math.sin(i)*v,m=(A+l)/2+Math.sin(i)*g+Math.cos(i)*v,b=[(u-g)/n,(f-v)/r],w=[(-1*u-g)/n,(-1*f-v)/r],B=yC([1,0],b),x=yC(b,w);return Oy(b,w)<=-1&&(x=Math.PI),Oy(b,w)>=1&&(x=0),o===0&&x>0&&(x-=2*Math.PI),o===1&&x<0&&(x+=2*Math.PI),{cx:y,cy:m,rx:Eh(e,[c,l])?0:n,ry:Eh(e,[c,l])?0:r,startAngle:B,endAngle:B+x,xRotation:i,arcFlag:a,sweepFlag:o}}function EG(e,t,n){return e.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=nt(i[1],i[2],0);n&&Vt(o,o,n),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=nt(i[1],i[2],0),A=nt(i[3],i[4],0),c=nt(i[5],i[6],0);n&&(Vt(s,s,n),Vt(A,A,n),Vt(c,c,n)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(A[0],",").concat(A[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var l=nt(i[6],i[7],0);n&&Vt(l,l,n),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(l[0],",").concat(l[1])}else if(i[0]==="Q"){var u=nt(i[1],i[2],0),f=nt(i[3],i[4],0);n&&(Vt(u,u,n),Vt(f,f,n)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function OG(e,t,n,r){return[["M",e,t],["L",n,r]]}function mC(e,t,n,r){var i=(-1+Math.sqrt(2))/3*4,a=e*i,o=t*i,s=n-e,A=n+e,c=r-t,l=r+t;return[["M",s,r],["C",s,r-o,n-a,c,n,c],["C",n+a,c,A,r-o,A,r],["C",A,r+o,n+a,l,n,l],["C",n-a,l,s,r+o,s,r],["Z"]]}function SG(e,t){var n=e.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return t&&n.push(["Z"]),n}function FG(e,t,n,r,i){if(i){var a=Le(i,4),o=a[0],s=a[1],A=a[2],c=a[3],l=e>0?1:-1,u=t>0?1:-1,f=l+u!==0?1:0;return[["M",l*o+n,r],["L",e-l*s+n,r],s?["A",s,s,0,0,f,e+n,u*s+r]:null,["L",e+n,t-u*A+r],A?["A",A,A,0,0,f,e+n-l*A,t+r]:null,["L",n+l*c,t+r],c?["A",c,c,0,0,f,n,t+r-u*c]:null,["L",n,u*o+r],o?["A",o,o,0,0,f,l*o+n,r]:null,["Z"]].filter(function(d){return d})}return[["M",n,r],["L",n+e,r],["L",n+e,r+t],["L",n,r+t],["Z"]]}function _G(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLocalTransform(),n=[];switch(e.nodeName){case Z.LINE:var r=e.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,A=r.x2,c=A===void 0?0:A,l=r.y2,u=l===void 0?0:l;n=OG(a,s,c,u);break;case Z.CIRCLE:{var f=e.parsedStyle,d=f.r,h=d===void 0?0:d,p=f.cx,g=p===void 0?0:p,v=f.cy,y=v===void 0?0:v;n=mC(h,h,g,y);break}case Z.ELLIPSE:{var m=e.parsedStyle,b=m.rx,w=b===void 0?0:b,B=m.ry,x=B===void 0?0:B,C=m.cx,E=C===void 0?0:C,O=m.cy,S=O===void 0?0:O;n=mC(w,x,E,S);break}case Z.POLYLINE:case Z.POLYGON:var _=e.parsedStyle.points;n=SG(_.points,e.nodeName===Z.POLYGON);break;case Z.RECT:var F=e.parsedStyle,k=F.width,Q=k===void 0?0:k,L=F.height,T=L===void 0?0:L,M=F.x,I=M===void 0?0:M,U=F.y,R=U===void 0?0:U,N=F.radius,j=N&&N.some(function($){return $!==0});n=FG(Q,T,I,R,j&&N.map(function($){return qt($,0,Math.min(Math.abs(Q)/2,Math.abs(T)/2))}));break;case Z.PATH:var K=e.parsedStyle.d.absolutePath;n=De(K);break}if(n.length)return EG(n,e,t)}var eQ=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=sh(t)}catch{n=sh(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}mG(n);var r=bG(n),i=wG(n),a=i.polygons,o=i.polylines,s=xG(n),A=BG(s,0),c=A.x,l=A.y,u=A.width,f=A.height;return{absolutePath:n,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(l)?l:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(f)?f:0}}},MG=fn(eQ);function tQ(e){return Ut(e)?MG(e):eQ(e)}function kG(e,t,n){var r=e.curve,i=t.curve;(!r||r.length===0)&&(r=ny(e.absolutePath,!1),e.curve=r),(!i||i.length===0)&&(i=ny(t.absolutePath,!1),t.curve=i);var a=[r,i];r.length!==i.length&&(a=PM(r,i));var o=wx(a[0])!==wx(a[1])?a6(a[0]):i6(a[0]);return[o,d6(a[1],o),function(s){return s}]}function TG(e,t){var n;return Ut(e)?n=e.split(" ").map(function(r){var i=r.split(","),a=Le(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):n=e,{points:n,totalLength:0,segments:[]}}function QG(e,t){return[e.points,t.points,function(n){return n}]}var $t=null,xA=/\s*(\w+)\(([^)]*)\)/g;function sr(e){return function(t){var n=0;return e.map(function(r){return r===$t?t[n++]:r})}}function Ro(e){return e}var Xl={matrix:["NNNNNN",[$t,$t,0,0,$t,$t,0,0,0,0,1,0,$t,$t,0,1],Ro],matrix3d:["NNNNNNNNNNNNNNNN",Ro],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",sr([$t,$t,new mt(1)]),Ro],scaleX:["N",sr([$t,new mt(1),new mt(1)]),sr([$t,new mt(1)])],scaleY:["N",sr([new mt(1),$t,new mt(1)]),sr([new mt(1),$t])],scaleZ:["N",sr([new mt(1),new mt(1),$t])],scale3d:["NNN",Ro],skew:["Aa",null,Ro],skewX:["A",null,sr([$t,xs])],skewY:["A",null,sr([xs,$t])],translate:["Tt",sr([$t,$t,ii]),Ro],translateX:["T",sr([$t,ii,ii]),sr([$t,ii])],translateY:["T",sr([ii,$t,ii]),sr([ii,$t])],translateZ:["L",sr([ii,ii,$t])],translate3d:["TTL",Ro]};function nQ(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=Xl[a];if(!s)return[];var A=o.map(function(c){return Pt(c)});t.push({t:a,d:A})}return t}function rQ(e){if(Array.isArray(e))return nQ(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(xA.lastIndex=0;n=xA.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=Xl[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?xs:dG(h)},N:Cy,T:xy,L:uG}[u.toUpperCase()](l):f={a:xs,n:A[0],t:ii}[u],f===void 0)return[];A.push(f)}if(t.push({t:i,d:A}),xA.lastIndex===e.length)return t}return[]}function IG(e){if(Array.isArray(e))return nQ(e);if(e=(e||"none").trim(),e==="none")return[];var t=[],n,r=0;for(xA.lastIndex=0;n=xA.exec(e);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=Xl[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?xs:XT(h)},N:ZT,T:YT,L:WT}[u.toUpperCase()](l):f={a:xs,n:A[0],t:ii}[u],f===void 0)return[];A.push(f)}if(t.push({t:i,d:A}),xA.lastIndex===e.length)return t}return[]}function LG(e){var t,n,r,i;switch(e.t){case"rotateX":return i=At(ur(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=At(ur(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=At(ur(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,i=At(ur(e.d[3]));var a=t*t+n*n+r*r;if(a===0)t=1,n=0,r=0;else if(a!==1){var o=Math.sqrt(a);t/=o,n/=o,r/=o}var s=Math.sin(i/2),A=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(t*n*c+r*A),2*(t*r*c-n*A),0,2*(t*n*c-r*A),1-2*(t*t+r*r)*c,2*(n*r*c+t*A),0,2*(t*r*c+n*A),2*(n*r*c-t*A),1-2*(t*t+n*n)*c,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var l=At(ur(e.d[0])),u=At(ur(e.d[1]));return[1,Math.tan(u),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=At(ur(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=At(ur(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return t=br(e.d[0],0,null)||0,n=br(e.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,0,1];case"translateX":return t=br(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1];case"translateY":return n=br(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=br(e.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return t=br(e.d[0],0,null)||0,n=br(e.d[1],0,null)||0,r=br(e.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1];case"perspective":var f=br(e.d[0],0,null)||0,d=f?-1/f:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(h){return h.value})}}function UG(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function PG(e){return e.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(LG).reduce(UG)}function bC(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return v9(PG(e),t,n,r,i,a),[[t,n,r,a,i]]}var NG=function(){function e(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var A=0;A<4;A++)a[o][s]+=i[o][A]*r[A][s];return a}function t(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,i,a,o,s){for(var A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)A[c][3]=s[c];for(var l=0;l<3;l++)for(var u=0;u<3;u++)A[3][l]+=r[u]*A[u][l];var f=o[0],d=o[1],h=o[2],p=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(d*d+h*h),g[0][1]=2*(f*d-h*p),g[0][2]=2*(f*h+d*p),g[1][0]=2*(f*d+h*p),g[1][1]=1-2*(f*f+h*h),g[1][2]=2*(d*h-f*p),g[2][0]=2*(f*h-d*p),g[2][1]=2*(d*h+f*p),g[2][2]=1-2*(f*f+d*d),A=e(A,g);var v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(v[2][1]=a[2],A=e(A,v)),a[1]&&(v[2][1]=0,v[2][0]=a[0],A=e(A,v)),a[0]&&(v[2][0]=0,v[1][0]=a[0],A=e(A,v));for(var y=0;y<3;y++)for(var m=0;m<3;m++)A[y][m]*=i[y];return t(A)?[A[0][0],A[0][1],A[1][0],A[1][1],A[3][0],A[3][1]]:A[0].concat(A[1],A[2],A[3])}return n}();function RG(e){return e.toFixed(6).replace(".000000","")}function w0(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=bC(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=bC(t)),n[0]===null||r[0]===null?[[!1],[!0],function(i){return i?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(i){var a=DG(n[0][3],r[0][3],i[5]),o=NG(i[0],i[1],i[2],a,i[4]),s=o.map(RG).join(",");return s}])}function HG(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function DG(e,t,n){var r=HG(e,t);r=qt(r,-1,1);var i=[];if(r===1)i=e;else for(var a=Math.acos(r),o=Math.sin(n*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(e[s]*(Math.cos(n*a)-r*o)+t[s]*o);return i}function B0(e){return e.replace(/[XY]/,"")}function x0(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var jG=function(t,n){return t==="perspective"&&n==="perspective"||(t==="matrix"||t==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function $G(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var i=function(){var S=e[a],_=S.t,F=S.d,k=_.substring(0,5)==="scale"?1:0;t.push({t:_,d:F.map(function(Q){return typeof Q=="number"?Pt(k):Pt(k,Q.unit)})})},a=0;a<e.length;a++)i()}var o=[],s=[],A=[];if(e.length!==t.length){var c=w0(e,t);o=[c[0]],s=[c[1]],A=[["matrix",[c[2]]]]}else for(var l=0;l<e.length;l++){var u=e[l].t,f=t[l].t,d=e[l].d,h=t[l].d,p=Xl[u],g=Xl[f],v=void 0;if(jG(u,f)){var y=w0([e[l]],[t[l]]);o.push(y[0]),s.push(y[1]),A.push(["matrix",[y[2]]]);continue}else if(u===f)v=u;else if(p[2]&&g[2]&&B0(u)===B0(f))v=B0(u),d=p[2](d),h=g[2](h);else if(p[1]&&g[1]&&x0(u)===x0(f))v=x0(u),d=p[1](d),h=g[1](h);else{var m=w0(e,t);o=[m[0]],s=[m[1]],A=[["matrix",[m[2]]]];break}for(var b=[],w=[],B=[],x=0;x<d.length;x++){var C=hG(d[x],h[x],n,!1,x);b[x]=C[0],w[x]=C[1],B.push(C[2])}o.push(b),s.push(w),A.push([v,B])}if(r){var E=o;o=s,s=E}return[o,s,function(O){return O.map(function(S,_){var F=S.map(function(k,Q){return A[_][1][Q](k)}).join(",");return A[_][0]==="matrix"&&F.split(",").length===16&&(A[_][0]="matrix3d"),A[_][0]==="matrix3d"&&F.split(",").length===6&&(A[_][0]="matrix"),"".concat(A[_][0],"(").concat(F,")")}).join(" ")}]}var KG=fn(function(e){if(Ut(e)){if(e==="text-anchor")return[Pt(0,"px"),Pt(0,"px")];var t=e.split(" ");return t.length===1&&(t[0]==="top"||t[0]==="bottom"?(t[1]=t[0],t[0]="center"):t[1]="center"),t.length!==2?null:[xy(wC(t[0])),xy(wC(t[1]))]}return[Pt(e[0]||0,"px"),Pt(e[1]||0,"px")]});function wC(e){return e==="center"?"50%":e==="left"||e==="top"?"0%":e==="right"||e==="bottom"?"100%":e}var lb=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:fe.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:fe.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:fe.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:fe.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:fe.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:fe.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:fe.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:fe.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:fe.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:fe.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:fe.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:fe.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:fe.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:fe.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:fe.FILTER},{n:"clipPath",syntax:fe.DEFINED_PATH},{n:"textPath",syntax:fe.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:fe.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:fe.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:fe.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:fe.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:fe.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:fe.COORDINATE},{n:"y1",int:!0,l:!0,syntax:fe.COORDINATE},{n:"z1",int:!0,l:!0,syntax:fe.COORDINATE},{n:"x2",int:!0,l:!0,syntax:fe.COORDINATE},{n:"y2",int:!0,l:!0,syntax:fe.COORDINATE},{n:"z2",int:!0,l:!0,syntax:fe.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:fe.PATH,p:50},{n:"points",int:!0,l:!0,syntax:fe.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:fe.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:fe.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:fe.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:fe.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:fe.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:fe.NUMBER,d:function(t){return t===Z.PATH||t===Z.POLYGON||t===Z.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:fe.MARKER},{n:"markerEnd",syntax:fe.MARKER},{n:"markerMid",syntax:fe.MARKER},{n:"markerStartOffset",syntax:fe.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:fe.LENGTH,l:!0,int:!0,d:"0"}],GG=new Set(lb.filter(function(e){return!!e.l}).map(function(e){return e.n})),iQ={},zG=function(){function e(t){var n=this;oe(this,e),this.runtime=t,lb.forEach(function(r){n.registerMetadata(r)})}return se(e,[{key:"registerMetadata",value:function(n){[n.n].concat(De(n.a||[])).forEach(function(r){iQ[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var a=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;VG(n,r);var s=!!i.forceUpdateGeometry;if(!s){for(var A in r)if(GG.has(A)){s=!0;break}}var c=aQ(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=uo(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=uo(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=uo(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=vG(r.filter)),c.has("radius")&&!Oe(r.radius)&&(n.parsedStyle.radius=dC(r.radius,4)),c.has("lineDash")&&!Oe(r.lineDash)&&(n.parsedStyle.lineDash=dC(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=TG(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=Qe({},jT)),c.has("d")&&r.d&&(n.parsedStyle.d=tQ(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[fe.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!dt(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[fe.DEFINED_PATH].calculator("clipPath",a,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[fe.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=rQ(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=KG(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[fe.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[fe.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[fe.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!Oe(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[fe.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!Oe(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[fe.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[fe.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[fe.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=n.geometry;a.contentBounds||(a.contentBounds=new pn),a.renderBounds||(a.renderBounds=new pn);var o=n.parsedStyle,s=i.update(o,n),A=s.cx,c=A===void 0?0:A,l=s.cy,u=l===void 0?0:l,f=s.cz,d=f===void 0?0:f,h=s.hwidth,p=h===void 0?0:h,g=s.hheight,v=g===void 0?0:g,y=s.hdepth,m=y===void 0?0:y,b=[Math.abs(p),Math.abs(v),m],w=o.stroke,B=o.lineWidth,x=B===void 0?1:B,C=o.increasedLineWidthForHitTesting,E=C===void 0?0:C,O=o.shadowType,S=O===void 0?"outer":O,_=o.shadowColor,F=o.filter,k=F===void 0?[]:F,Q=o.transformOrigin,L=[c,u,d];a.contentBounds.update(L,b);var T=r===Z.POLYLINE||r===Z.POLYGON||r===Z.PATH?Math.SQRT2:.5,M=w&&!w.isNone;if(M){var I=((x||0)+(E||0))*T;b[0]+=I,b[1]+=I}if(a.renderBounds.update(L,b),_&&S&&S!=="inner"){var U=a.renderBounds,R=U.min,N=U.max,j=o.shadowBlur,K=o.shadowOffsetX,$=o.shadowOffsetY,V=j||0,W=K||0,z=$||0,ne=R[0]-V+W,ie=N[0]+V+W,le=R[1]-V+z,P=N[1]+V+z;R[0]=Math.min(R[0],ne),N[0]=Math.max(N[0],ie),R[1]=Math.min(R[1],le),N[1]=Math.max(N[1],P),a.renderBounds.setMinMax(R,N)}k.forEach(function(q){var J=q.name,te=q.params;if(J==="blur"){var ae=te[0].value;a.renderBounds.update(a.renderBounds.center,so(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[ae,ae,0]))}else if(J==="drop-shadow"){var re=te[0].value,he=te[1].value,ue=te[2].value,ge=a.renderBounds,ye=ge.min,me=ge.max,Ce=ye[0]-ue+re,Se=me[0]+ue+re,Fe=ye[1]-ue+he,Ee=me[1]+ue+he;ye[0]=Math.min(ye[0],Ce),me[0]=Math.max(me[0],Se),ye[1]=Math.min(ye[1],Fe),me[1]=Math.max(me[1],Ee),a.renderBounds.setMinMax(ye,me)}}),n.geometry.dirty=!1;var D=p<0,G=v<0,Y=(D?-1:1)*(Q?br(Q[0],0,n,!0):0),X=(G?-1:1)*(Q?br(Q[1],1,n,!0):0);(Y||X)&&n.setOrigin(Y,X)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===Z.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===Z.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])}();function VG(e,t){var n=aQ(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}function aQ(e){return e.constructor.PARSED_STYLE_LIST}var WG=function(){function e(){oe(this,e),this.mixer=Ab}return se(e,[{key:"calculator",value:function(n,r,i,a){return ur(i)}}])}(),YG=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i,a,o){return i instanceof qr&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,i,a),n==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),i}}])}(),XG=function(){function e(){oe(this,e),this.parser=uo,this.mixer=lG}return se(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof qr?i.value==="none"?GT:zT:i}}])}(),qG=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i){return i instanceof qr?[]:i}}])}();function BC(e){var t=e.parsedStyle,n=t.fontSize;return Oe(n)?null:n}var Sy=function(){function e(){oe(this,e),this.mixer=Ab}return se(e,[{key:"calculator",value:function(n,r,i,a,o){if(Et(i))return i;if(mt.isRelativeUnit(i.unit)){if(i.unit===pe.kPercentage)return 0;if(i.unit===pe.kEms){if(a.parentNode){var s=BC(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===pe.kRems){var A;if(a!=null&&(A=a.ownerDocument)!==null&&A!==void 0&&A.documentElement){var c=BC(a.ownerDocument.documentElement);if(c)return c*=i.value,c}return 0}}else return i.value}}])}(),ZG=function(){function e(){oe(this,e),this.mixer=JT}return se(e,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),JG=function(){function e(){oe(this,e),this.mixer=JT}return se(e,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),e7=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i,a){var o;i instanceof qr&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),t7=function(){function e(){oe(this,e),this.mixer=Ab}return se(e,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),n7=function(){function e(){oe(this,e),this.mixer=cb(0,1)}return se(e,[{key:"calculator",value:function(n,r,i){return i.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===Z.LINE||o===Z.PATH||o===Z.POLYLINE){var s=i.getPoint(a);s&&n.setLocalPosition(s.x,s.y)}}}}])}(),r7=function(){function e(){oe(this,e),this.mixer=cb(0,1)}return se(e,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),i7=function(){function e(){oe(this,e),this.parser=tQ,this.mixer=kG}return se(e,[{key:"calculator",value:function(n,r,i){return i instanceof qr&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new GA(0,0,0,0)}:i}}])}(),a7=se(function e(){oe(this,e),this.mixer=QG}),o7=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.mixer=cb(0,1/0),n}return Ne(t,e),se(t)}(Sy),s7=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof qr?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])}(),A7=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])}(),C0=new WeakMap;function c7(e,t,n){if(e){var r=typeof e=="string"?document.getElementById(e):e;C0.has(r)&&C0.get(r).destroy(n),C0.set(r,t)}}var ub=typeof window<"u"&&typeof window.document<"u";function l7(e){return!!e.getAttribute}function u7(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;oQ(e[i],t)<0?n=i+1:r=i}return n}function oQ(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var i=e.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(e)-a.indexOf(t)}}return n-r}function sQ(e){var t=e;do{var n,r=(n=t.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}var xC="px";function f7(e,t,n){ub&&e.style&&(e.style.width=t+xC,e.style.height=n+xC)}function AQ(e,t){if(ub)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function d7(e){var t=AQ(e,"width");return t==="auto"?e.offsetWidth:parseFloat(t)}function h7(e){var t=AQ(e,"height");return t==="auto"?e.offsetHeight:parseFloat(t)}var p7=1,g7={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Fy=typeof performance=="object"&&performance.now?performance:Date;function Oh(e){return e.nodeName===Z.FRAGMENT?!0:e.getRootNode().nodeName===Z.FRAGMENT}function Us(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!t&&!t.isNone,o=!!n&&!n.isNone;return e==="visiblepainted"||e==="painted"||e==="auto"?(r=a,i=o):e==="visiblefill"||e==="fill"?r=!0:e==="visiblestroke"||e==="stroke"?i=!0:(e==="visible"||e==="all")&&(r=!0,i=!0),[r,i]}var v7=1,y7=function(){return v7++},Gi=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},m7=Date.now(),b7=function(){return Gi.performance&&typeof Gi.performance.now=="function"?Gi.performance.now():Date.now()-m7},Hc={},CC=Date.now(),w7=function(t){if(typeof t!="function")throw new TypeError("".concat(t," is not a function"));var n=Date.now(),r=n-CC,i=r>16?0:16-r,a=y7();return Hc[a]=t,Object.keys(Hc).length>1||setTimeout(function(){CC=n;var o=Hc;Hc={},Object.keys(o).forEach(function(s){return o[s](b7())})},i),a},B7=function(t){delete Hc[t]},x7=["","webkit","moz","ms","o"],cQ=function(t){return typeof t!="string"?w7:t===""?Gi.requestAnimationFrame:Gi["".concat(t,"RequestAnimationFrame")]},C7=function(t){return typeof t!="string"?B7:t===""?Gi.cancelAnimationFrame:Gi["".concat(t,"CancelAnimationFrame")]||Gi["".concat(t,"CancelRequestAnimationFrame")]},E7=function(t,n){for(var r=0;t[r]!==void 0;){if(n(t[r]))return t[r];r+=1}},lQ=E7(x7,function(e){return!!cQ(e)}),fb=cQ(lQ),uQ=C7(lQ);Gi.requestAnimationFrame=fb;Gi.cancelAnimationFrame=uQ;var O7=function(){function e(){oe(this,e),this.callbacks=[]}return se(e,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])}(),S7=function(){function e(){oe(this,e),this.callbacks=[]}return se(e,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){var t=yo(_n().mark(function r(){var i,a,o,s,A=arguments;return _n().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(i=this.callbacks)[0].apply(i,A);case 1:a=c.sent,o=1;case 2:if(!(o<this.callbacks.length)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(a);case 3:a=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",a);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),Wn=function(){function e(){oe(this,e),this.callbacks=[]}return se(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(o){o.apply(void 0,a)})}}])}(),E0=function(){function e(){oe(this,e),this.callbacks=[]}return se(e,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,o=this.callbacks[0].apply(void 0,a),s=1;s<this.callbacks.length;s++){var A=this.callbacks[s];o=A(o)}return o}return null}}])}(),F7=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],_7=/([\"\'])[^\'\"]+\1/;function EC(e){var t=e.fontSize,n=t===void 0?16:t,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontStyle,o=a===void 0?"normal":a,s=e.fontVariant,A=s===void 0?"normal":s,c=e.fontWeight,l=c===void 0?"normal":c;return{fontSize:n,fontFamily:i,fontStyle:o,fontVariant:A,fontWeight:l}}var OC=fn(function(t){for(var n=EC(t),r=n.fontSize,i=n.fontFamily,a=n.fontStyle,o=n.fontVariant,s=n.fontWeight,A=Et(r)&&"".concat(r,"px")||"16px",c=i.split(","),l=c.length-1;l>=0;l--){var u=c[l].trim();!_7.test(u)&&F7.indexOf(u)<0&&(u='"'.concat(u,'"')),c[l]=u}return"".concat(a," ").concat(o," ").concat(s," ").concat(A," ").concat(c.join(","))},function(e){var t=EC(e),n=t.fontSize,r=t.fontFamily,i=t.fontStyle,a=t.fontVariant,o=t.fontWeight;return"".concat(i,"_").concat(a,"_").concat(o,"_").concat(n,"_").concat(r)}),M7=1e-6,Cc=function(t){return Math.max(t,M7)};function O0(e,t,n){return go(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var sn=st(),k7=st(),T7={scale:function(t){Xa(sn,[t[0].value,t[1].value,1].map(function(n){return Cc(n)}))},scaleX:function(t){Xa(sn,[t[0].value,1,1].map(function(n){return Cc(n)}))},scaleY:function(t){Xa(sn,[1,t[0].value,1].map(function(n){return Cc(n)}))},scaleZ:function(t){Xa(sn,[1,1,t[0].value].map(function(n){return Cc(n)}))},scale3d:function(t){Xa(sn,[t[0].value,t[1].value,t[2].value].map(function(n){return Cc(n)}))},translate:function(t){ga(sn,[t[0].value,t[1].value,0])},translateX:function(t){ga(sn,[t[0].value,0,0])},translateY:function(t){ga(sn,[0,t[0].value,0])},translateZ:function(t){ga(sn,[0,0,t[0].value])},translate3d:function(t){ga(sn,[t[0].value,t[1].value,t[2].value])},rotate:function(t){qv(sn,At(ur(t[0])))},rotateX:function(t){yM(sn,At(ur(t[0])))},rotateY:function(t){mM(sn,At(ur(t[0])))},rotateZ:function(t){qv(sn,At(ur(t[0])))},rotate3d:function(t){vM(sn,At(ur(t[3])),[t[0].value,t[1].value,t[2].value])},skew:function(t){O0(sn,At(t[0].value),At(t[1].value))},skewX:function(t){O0(sn,At(t[0].value),0)},skewY:function(t){O0(sn,0,At(t[0].value))},matrix:function(t){Xv(sn,t[0].value,t[1].value,0,0,t[2].value,t[3].value,0,0,0,0,1,0,t[4].value,t[5].value,0,1)},matrix3d:function(t){Xv.apply(O8,[sn].concat(De(t.map(function(n){return n.value}))))}},Q7=nt(1,1,1),I7=$e(),SC={translate:function(t,n){ce.sceneGraphService.setLocalScale(t,Q7,!1),ce.sceneGraphService.setLocalEulerAngles(t,I7,void 0,void 0,!1),ce.sceneGraphService.setLocalPosition(t,[n[0].value,n[1].value,0],!1),ce.sceneGraphService.dirtyLocalTransform(t,t.transformable)}};function fQ(e,t){if(e.length){if(e.length===1&&SC[e[0].t]){SC[e[0].t](t,e[0].d);return}for(var n=go(k7),r=0;r<e.length;r++){var i=e[r],a=i.t,o=i.d,s=T7[a];s&&(s(o),E1(n,n,sn))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var L7=function(){function e(){oe(this,e),this.parser=IG,this.mixer=$G}return se(e,[{key:"calculator",value:function(n,r,i,a){return i instanceof qr?[]:i}},{key:"postProcessor",value:function(n){fQ(n.parsedStyle.transform,n)}}])}(),U7=function(){function e(){oe(this,e)}return se(e,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===pe.kPixels&&r[1].unit===pe.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])}(),P7=function(){function e(){oe(this,e)}return se(e,[{key:"calculator",value:function(n,r,i,a){return i.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,i=r.renderable,a=r.sortable;i&&r.dirty(),a&&(a.dirty=!0,a.dirtyReason=wh.Z_INDEX_CHANGED)}}}])}(),N7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,A=n.r,c=A===void 0?0:A;return{cx:a,cy:s,hwidth:c,hheight:c}}}])}(),R7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,A=n.rx,c=A===void 0?0:A,l=n.ry,u=l===void 0?0:l;return{cx:a,cy:s,hwidth:c,hheight:u}}}])}(),H7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n){var r=n.x1,i=n.y1,a=n.x2,o=n.y2,s=Math.min(r,a),A=Math.max(r,a),c=Math.min(i,o),l=Math.max(i,o),u=A-s,f=l-c,d=u/2,h=f/2;return{cx:s+d,cy:c+h,hwidth:d,hheight:h}}}])}(),D7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n){var r=n.d,i=r.rect,a=i.x,o=i.y,s=i.width,A=i.height,c=s/2,l=A/2;return{cx:a+c,cy:o+l,hwidth:c,hheight:l}}}])}(),j7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n){if(n.points&&Cn(n.points.points)){var r=n.points.points,i=Math.min.apply(Math,De(r.map(function(f){return f[0]}))),a=Math.max.apply(Math,De(r.map(function(f){return f[0]}))),o=Math.min.apply(Math,De(r.map(function(f){return f[1]}))),s=Math.max.apply(Math,De(r.map(function(f){return f[1]}))),A=a-i,c=s-o,l=A/2,u=c/2;return{cx:i+l,cy:o+u,hwidth:l,hheight:u}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),$7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=n.src,c=n.width,l=c===void 0?0:c,u=n.height,f=u===void 0?0:u,d=l,h=f;return A&&!Ut(A)&&(d||(d=A.width,n.width=d),h||(h=A.height,n.height=h)),{cx:a+d/2,cy:s+h/2,hwidth:d/2,hheight:h/2}}}])}(),K7=function(){function e(t){oe(this,e),this.globalRuntime=t}return se(e,[{key:"isReadyToMeasure",value:function(n,r){var i=n.text;return i}},{key:"update",value:function(n,r){var i,a=n.text,o=n.textAlign,s=o===void 0?"start":o,A=n.lineWidth,c=A===void 0?1:A,l=n.textBaseline,u=l===void 0?"alphabetic":l,f=n.dx,d=f===void 0?0:f,h=n.dy,p=h===void 0?0:h,g=n.x,v=g===void 0?0:g,y=n.y,m=y===void 0?0:y;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var b=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},w=b.offscreenCanvas,B=this.globalRuntime.textService.measureText(a,n,w);n.metrics=B;var x=B.width,C=B.height,E=x/2,O=C/2,S=v+E;s==="center"||s==="middle"?S+=c/2-E:(s==="right"||s==="end")&&(S+=c-E*2);var _=m-O;return u==="middle"?_+=O:u==="top"||u==="hanging"?_+=O*2:u==="alphabetic"||(u==="bottom"||u==="ideographic")&&(_+=0),d&&(S+=d),p&&(_+=p),{cx:S,cy:_,hwidth:E,hheight:O}}}])}(),G7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),z7=function(){function e(){oe(this,e)}return se(e,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=n.width,c=A===void 0?0:A,l=n.height,u=l===void 0?0:l;return{cx:a+c/2,cy:s+u/2,hwidth:c/2,hheight:u/2}}}])}(),Zp=function(){function e(t){oe(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Tn,this.page=new Tn,this.canvas=new Tn,this.viewport=new Tn,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}return se(e,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(yt)}}])}(),dQ=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.client=new Tn,n.movement=new Tn,n.offset=new Tn,n.global=new Tn,n.screen=new Tn,n}return Ne(t,e),se(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(yt)}}])}(Zp),_y=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.width=0,n.height=0,n.isPrimary=!1,n}return Ne(t,e),se(t,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(dQ),My=function(e){function t(){return oe(this,t),Pe(this,t,arguments)}return Ne(t,e),se(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(dQ),gt=function(e){function t(n,r){var i;return oe(this,t),i=Pe(this,t,[null]),i.type=n,i.detail=r==null?void 0:r.detail,r&&!("detail"in r)&&(i.detail=r),Object.assign(i,r),i}return Ne(t,e),se(t)}(Zp),hQ=function(){function e(){oe(this,e),this.emitter=new QT}return se(e,[{key:"on",value:function(n,r,i){return this.addEventListener(n,r,i),this}},{key:"addEventListener",value:function(n,r,i){var a=!1,o=!1;if(hx(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var A=i.once;o=A===void 0?!1:A}a&&(n+="capture"),r=mn(r)?r:r.handleEvent;var c=mn(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,i){return n?this.removeEventListener(n,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,i){var a;if(!this.emitter)return this;var o=hx(i)?i:i==null?void 0:i.capture;o&&(n+="capture"),r=mn(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=mn(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new gt(n,r))}},{key:"dispatchEventToSelf",value:function(n){n.target||(n.target=this),n.currentTarget=this,this.emitter.emit(n.type,n)}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(n),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){if(n.manager=a.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.dispatchEventToSelf(n);return!n.defaultPrevented}}])}(),Rt=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.mutations=void 0,n.parentNode=null,n.destroyed=!1,n}return Ne(t,e),se(t,[{key:"textContent",get:function(){var r="";this.nodeName===Z.TEXT&&(r+=this.style.text);var i=qa(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===Z.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===Z.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(yt)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(yt)}},{key:"lookupPrefix",value:function(r){throw new Error(yt)}},{key:"normalize",value:function(){throw new Error(yt)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(A=i.parentNode)!==null&&A!==void 0?A:a.parentNode;){var A;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,l=c===o?s:o;if(c[c.length-l.length]===l[0])return c===o?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var u=c.length-l.length,f=l.length-1;f>=0;f--){var d=l[f],h=c[u+f];if(h!==d){var p=d.parentNode.childNodes;return p.indexOf(d)<p.indexOf(h)?l===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:c===o?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(hQ);Rt.DOCUMENT_POSITION_DISCONNECTED=1;Rt.DOCUMENT_POSITION_PRECEDING=2;Rt.DOCUMENT_POSITION_FOLLOWING=4;Rt.DOCUMENT_POSITION_CONTAINS=8;Rt.DOCUMENT_POSITION_CONTAINED_BY=16;Rt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var V7=2048,W7=function(){function e(t,n){var r=this;oe(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=st(),this.tmpVec3=$e(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=Fy.now(),o=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var A=r.trackingData(i.pointerId),c=r.findMountedTarget(A.pressTargetsByButton[i.button]),l=c;if(c&&!o.composedPath().includes(c)){for(var u=c;u&&!o.composedPath().includes(u);){if(o.currentTarget=u,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var f=o.button===2;r.notifyTarget(o,f?"rightupoutside":"mouseupoutside")}Rt.isNode(u)&&(u=u.parentNode)}delete A.pressTargetsByButton[i.button],l=u}if(l){var d,h=r.clonePointerEvent(o,"click");h.target=l,h.path=[],A.clicksByButton[i.button]||(A.clicksByButton[i.button]={clickCount:0,target:h.target,timeStamp:a});var p=r.context.renderingContext.root.ownerDocument.defaultView,g=A.clicksByButton[i.button];g.target===h.target&&a-g.timeStamp<p.getConfig().dblClickSpeed?++g.clickCount:g.clickCount=1,g.target=h.target,g.timeStamp=a,h.detail=g.clickCount,(d=o.detail)!==null&&d!==void 0&&d.preventClick||(!r.context.config.useNativeClickEvent&&(h.pointerType==="mouse"||h.pointerType==="touch")&&r.dispatchEvent(h,"click"),r.dispatchEvent(h,"pointertap")),r.freeEvent(h)}r.freeEvent(o)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),A=r.findMountedTarget(s.overTargets);if(s.overTargets&&A!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",l=r.createPointerEvent(i,c,A||void 0);if(r.dispatchEvent(l,"pointerout"),o&&r.dispatchEvent(l,"mouseout"),!a.composedPath().includes(A)){var u=r.createPointerEvent(i,"pointerleave",A||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&!a.composedPath().includes(u.target);)u.currentTarget=u.target,r.notifyTarget(u),o&&r.notifyTarget(u,"mouseleave"),Rt.isNode(u.target)&&(u.target=u.target.parentNode);r.freeEvent(u)}r.freeEvent(l)}if(A!==a.target){var f=i.type==="mousemove"?"mouseover":"pointerover",d=r.clonePointerEvent(a,f);r.dispatchEvent(d,"pointerover"),o&&r.dispatchEvent(d,"mouseover");for(var h=A&&Rt.isNode(A)&&A.parentNode;h&&h!==(Rt.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&h!==a.target;)h=h.parentNode;var p=!h||h===(Rt.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(p){var g=r.clonePointerEvent(a,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==A&&g.target!==(Rt.isNode(r.rootTarget)&&r.rootTarget.parentNode);)g.currentTarget=g.target,r.notifyTarget(g),o&&r.notifyTarget(g,"mouseenter"),Rt.isNode(g.target)&&(g.target=g.target.parentNode);r.freeEvent(g)}r.freeEvent(d)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),A=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(A),o&&r.dispatchEvent(A,"mouseout");var c=r.createPointerEvent(i,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(Rt.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),Rt.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(A),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var A=r.clonePointerEvent(o,"pointerenter");for(A.eventPhase=A.AT_TARGET;A.target&&A.target!==(Rt.isNode(r.rootTarget)&&r.rootTarget.parentNode);)A.currentTarget=A.target,r.notifyTarget(A),s&&r.notifyTarget(A,"mouseenter"),Rt.isNode(A.target)&&(A.target=A.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(A)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var A=o;A;)s.currentTarget=A,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),Rt.isNode(A)&&(A=A.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=t,this.context=n}return se(e,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&n){var o=a.offsetWidth,s=a.offsetHeight;o&&s&&(r=n.width/o,i=n.height/s)}return{scaleX:r,scaleY:i,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Tn((n.x-((o==null?void 0:o.left)||0))/i,(n.y-((o==null?void 0:o.top)||0))/a)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Tn((n.x+((o==null?void 0:o.left)||0))*i,(n.y+((o==null?void 0:o.top)||0))*a)}},{key:"viewport2Canvas",value:function(n){var r=n.x,i=n.y,a=this.rootTarget.defaultView,o=a.getCamera(),s=this.context.config,A=s.width,c=s.height,l=o.getPerspectiveInverse(),u=o.getWorldTransform(),f=$n(this.tmpMatrix,u,l),d=jn(this.tmpVec3,r/A*2-1,(1-i/c)*2-1,0);return Vt(d,d,f),new Tn(d[0],d[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),o=i.getViewTransform(),s=$n(this.tmpMatrix,a,o),A=jn(this.tmpVec3,n.x,n.y,0);Vt(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,l=c.width,u=c.height;return new Tn((A[0]+1)/2*l,(1-(A[1]+1)/2)*u)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,i){if(!i)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var a=this.rootTarget.defaultView||null;n.currentTarget=a,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var i=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(n.currentTarget=i[a],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var o=i.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(n.currentTarget=i[s],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],i=this.rootTarget.defaultView||null;if(i&&i===n)return r.unshift(i.document),r;for(var a=0;a<V7&&n!==this.rootTarget;a++)Rt.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(n){var r=n.viewportX,i=n.viewportY,a=this.context.config,o=a.width,s=a.height,A=a.disableHitTesting;return r<0||i<0||r>o||i>s?null:!A&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var i,a=r==null?void 0:r.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===n)return!0;if(n&&n.contains)return n.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,i=n.nativeEvent.composedPath();r<i.length;r++){var a=i[r],o=this.nativeHTMLMap.get(a);if(o)return o}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,i,a){var o=this.allocateEvent(_y);this.copyPointerData(n,o),this.copyMouseData(n,o),this.copyData(n,o),o.nativeEvent=n.nativeEvent,o.originalEvent=n;var s=this.getExistedHTML(o),A=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(A,o.nativeEvent)&&this.pickTarget(o)||a),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(My);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(My);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var i=this.allocateEvent(_y);return i.nativeEvent=n.nativeEvent,i.originalEvent=n.originalEvent,this.copyPointerData(n,i),this.copyMouseData(n,i),this.copyData(n,i),i.target=n.target,i.path=n.composedPath().slice(),i.type=r??i.type,i}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=Fy.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r??n.type;var i=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,i),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var i=n.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(n.currentTarget||a.context,n);else for(var o=0;o<a.length&&!n.propagationImmediatelyStopped;o++)a[o].once&&i.removeListener(r,a[o].fn,void 0,!0),a[o].fn.call(n.currentTarget||a[o].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],i=n.length-2;i>=0;i--){var a=n[i];if(a===this.rootTarget||Rt.isNode(a)&&a.parentNode===r)r=n[i];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var i=l7(r)&&r.getAttribute("cursor");if(i)return i;r=Rt.isNode(r)&&r.parentNode}}}])}(),db=function(){function e(){oe(this,e)}return se(e,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||ce.offscreenCanvas)this.canvas=n||ce.offscreenCanvas,this.context=this.canvas.getContext("2d",Qe({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Qe({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Qe({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),CA=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Y7=function(){function e(t,n){oe(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Wn,initAsync:new O7,dirtycheck:new E0,cull:new E0,beginFrame:new Wn,beforeRender:new Wn,render:new Wn,afterRender:new Wn,endFrame:new Wn,destroy:new Wn,pick:new S7,pickSync:new E0,pointerDown:new Wn,pointerUp:new Wn,pointerMove:new Wn,pointerOut:new Wn,pointerOver:new Wn,pointerWheel:new Wn,pointerCancel:new Wn,click:new Wn},this.globalRuntime=t,this.context=n}return se(e,[{key:"init",value:function(n){var r=this,i=Qe(Qe({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(CA.CAMERA_CHANGED)}},{key:"render",value:function(n,r,i){var a=this,o=n.getConfig(),s=this.context.renderingContext;if(this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0,this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.notifyMutationObservers(n),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var A=s.renderReasons.size===1&&s.renderReasons.has(CA.CAMERA_CHANGED),c=!o.disableRenderHooks||!A;c&&this.renderDisplayObject(s.root,o,s),this.hooks.beginFrame.call(r),c&&s.renderListCurrentFrame.forEach(function(l){a.hooks.beforeRender.call(l),a.hooks.render.call(l),a.hooks.afterRender.call(l)}),this.hooks.endFrame.call(r),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(n,r,i){var a=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,A=o.enableCulling;function c(p){var g=p.renderable,v=p.sortable,y=s?g.dirty||i.dirtyRectangleRenderingDisabled?p:null:p,m=null;y&&(m=A?a.hooks.cull.call(y,a.context.camera):y,m&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(m))),p.dirty(!1),v.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,v.dirty&&(a.sort(p,v),v.dirty=!1,v.dirtyChildren=[],v.dirtyReason=void 0)}for(var l=[n];l.length>0;){var u,f=l.pop();c(f);for(var d=((u=f.sortable)===null||u===void 0||(u=u.sorted)===null||u===void 0?void 0:u.length)>0?f.sortable.sorted:f.childNodes,h=d.length-1;h>=0;h--)l.push(d[h])}}},{key:"sort",value:function(n,r){var i,a;(r==null||(i=r.sorted)===null||i===void 0?void 0:i.length)>0&&r.dirtyReason!==wh.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var A=n.childNodes.indexOf(o);if(A>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=u7(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=n.childNodes.slice().sort(oQ),((a=r.sorted)===null||a===void 0?void 0:a.length)>0&&n.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call()}},{key:"dirty",value:function(){this.context.renderingContext.renderReasons.add(CA.DISPLAY_OBJECT_CHANGED)}}])}(),X7=/\[\s*(.*)=(.*)\s*\]/,q7=function(){function e(){oe(this,e)}return se(e,[{key:"selectOne",value:function(n,r){var i=this;if(n.startsWith("."))return r.find(function(A){return((A==null?void 0:A.classList)||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(A){return A.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.find(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):null}return r.find(function(A){return r!==A&&A.nodeName===n})}},{key:"selectAll",value:function(n,r){var i=this;if(n.startsWith("."))return r.findAll(function(A){return r!==A&&((A==null?void 0:A.classList)||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(A){return r!==A&&A.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.findAll(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):[]}return r.findAll(function(A){return r!==A&&A.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var i=this.getAttribute(n),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(X7),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var i=n.getAttribute(r);return Oe(i)?"":i.toString?i.toString():""}}])}(),Xe=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),Zi=function(e){function t(n,r,i,a,o,s,A,c){var l;return oe(this,t),l=Pe(this,t,[null]),l.relatedNode=r,l.prevValue=i,l.newValue=a,l.attrName=o,l.attrChange=s,l.prevParsedValue=A,l.newParsedValue=c,l.type=n,l}return Ne(t,e),se(t)}(Zp);Zi.ADDITION=2;Zi.MODIFICATION=1;Zi.REMOVAL=3;var Z7=new Zi(Xe.REPARENT,null,"","","",0,"",""),J7=O1(),ff=$e(),ez=nt(1,1,1),tz=st(),nz=O1(),Ho=$e(),rz=st(),Do=vn(),iz=$e(),az=vn(),oz=$e(),Ec=$e(),jo=$e(),df=st(),FC=vn(),_C=vn(),hf=vn(),sz=function(){function e(t){oe(this,e),this.displayObjectDependencyMap=new WeakMap,this.runtime=t}return se(e,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,i){var a,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===Z.FRAGMENT,A=Oh(r);n.parentNode=r;var c=s?n.childNodes:[n];Et(i)?c.forEach(function(p){r.childNodes.splice(i,0,p),p.parentNode=r}):c.forEach(function(p){r.childNodes.push(p),p.parentNode=r});var l=r,u=l.sortable;if((u!=null&&(a=u.sorted)!==null&&a!==void 0&&a.length||u.dirty||n.parsedStyle.zIndex)&&(u.dirtyChildren.indexOf(n)===-1&&u.dirtyChildren.push(n),u.dirty=!0,u.dirtyReason=wh.ADDED),!A){if(s)this.dirtyFragment(n);else{var f=n.transformable;f&&this.dirtyWorldTransform(n,f)}if(o){var d,h=((d=r.ownerDocument)===null||d===void 0||(d=d.defaultView)===null||d===void 0||(d=d.getConfig())===null||d===void 0||(d=d.future)===null||d===void 0?void 0:d.experimentalCancelEventPropagation)===!0;n.dispatchEvent(Z7,h,h)}}}},{key:"detach",value:function(n){var r,i;if(n.parentNode){var a=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=n.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=wh.REMOVED);var A=n.parentNode.childNodes.indexOf(n);A>-1&&n.parentNode.childNodes.splice(A,1),a&&this.dirtyWorldTransform(n,a),n.parentNode=null}}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return nC(r),r.localTransform}},{key:"setLocalPosition",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Ec[0]=r[0],Ec[1]=r[1],Ec[2]=(i=r[2])!==null&&i!==void 0?i:0,!yc(o.localPosition,Ec)&&(Ui(o.localPosition,Ec),a&&this.dirtyLocalTransform(n,o))}},{key:"translateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=nt(r,i,a));var o=n.transformable;yc(r,ff)||(k8(r,r,o.localRotation),so(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(n,o))}},{key:"setLocalRotation",value:function(n,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=MM(Do,r,i,a,o));var A=n.transformable;tf(A.localRotation,r),s&&this.dirtyLocalTransform(n,A)}},{key:"rotateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=nt(r,i,a));var o=n.transformable;ef(_C,r[0],r[1],r[2]),vx(o.localRotation,o.localRotation,_C),this.dirtyLocalTransform(n,o)}},{key:"setLocalScale",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;jn(Ho,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!yc(Ho,o.localScale)&&(Ui(o.localScale,Ho),a&&this.dirtyLocalTransform(n,o))}},{key:"scaleLocal",value:function(n,r){var i,a=n.transformable;S8(a.localScale,a.localScale,jn(Ho,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(n,a)}},{key:"setLocalSkew",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=N8(nz,r,i));var o=n.transformable;P8(o.localSkew,r),a&&this.dirtyLocalTransform(n,o)}},{key:"setLocalEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=nt(r,i,a));var s=n.transformable;ef(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(n,s)}},{key:"setLocalTransform",value:function(n,r){var i=rh(iz,r),a=ih(az,r),o=PA(oz,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,i,!1),this.setLocalRotation(n,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,ez,!1),this.setLocalPosition(n,ff,!1),this.setLocalEulerAngles(n,ff,void 0,void 0,!1),this.setLocalSkew(n,J7,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"getPosition",value:function(n){var r=n.transformable;return rh(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return ih(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return PA(r.scaling,this.getWorldTransform(n,r))}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.internalUpdateTransform(n)),r.worldTransform}},{key:"setPosition",value:function(n,r){var i,a=n.transformable;if(jo[0]=r[0],jo[1]=r[1],jo[2]=(i=r[2])!==null&&i!==void 0?i:0,!yc(this.getPosition(n),jo)){if(Ui(a.position,jo),n.parentNode===null||!n.parentNode.transformable)Ui(a.localPosition,jo);else{var o=n.parentNode.transformable;UA(df,o.worldTransform),Ai(df,df),Vt(a.localPosition,jo,df)}this.dirtyLocalTransform(n,a)}}},{key:"translate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=jn(Ho,r,i,a)),!yc(r,ff)&&(so(Ho,this.getPosition(n),r),this.setPosition(n,Ho))}},{key:"setRotation",value:function(n,r,i,a,o){var s=n.transformable;if(typeof r=="number"&&(r=U8(r,i,a,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var A=this.getRotation(n.parentNode);tf(Do,A),s0(Do,Do),Ao(s.localRotation,Do,r),oh(s.localRotation,s.localRotation),this.dirtyLocalTransform(n,s)}}},{key:"rotate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=nt(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=Do;ef(s,r[0],r[1],r[2]);var A=this.getRotation(n),c=this.getRotation(n.parentNode);tf(hf,c),s0(hf,hf),Ao(s,hf,s),Ao(o.localRotation,s,A),oh(o.localRotation,o.localRotation),this.dirtyLocalTransform(n,o)}}},{key:"setOrigin",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(n,o)}}},{key:"setEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=nt(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{ef(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);tf(FC,s0(Do,s)),vx(o.localRotation,o.localRotation,FC),this.dirtyLocalTransform(n,o)}}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,a=i.geometry;a.dirty&&ce.styleValueRegistry.updateGeometry(n);var o=r?a.renderBounds:a.contentBounds||null;return o||new pn}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(n,r);if(!pn.isEmpty(a)){var o=i||new pn;return o.setFromTransformedAABB(a,this.getWorldTransform(n)),o}return null}},{key:"getBounds",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,A=this.getTransformedGeometryBounds(n,i,s),c=n.childNodes;if(c.forEach(function(f){var d=r.getBounds(f,i);d&&(A?A.add(d):(A=s||new pn,A.update(d.center,d.halfExtents)))}),A||(A=new pn),i){var l=sQ(n);if(l){var u=l.parsedStyle.clipPath.getBounds(i);A?u&&(A=u.intersection(A)):A.update(u.center,u.halfExtents)}}return i?(o.renderBounds=A,o.renderBoundsDirty=!1):(o.bounds=A,o.boundsDirty=!1),A}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=tz;n.parentNode.transformable&&(r=Ai(rz,this.getWorldTransform(n.parentNode)));var i=this.getBounds(n);if(!pn.isEmpty(i)){var a=new pn;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,i,a=this.getGeometryBounds(n);pn.isEmpty(a)||(i=new pn,i.setFromTransformedAABB(a,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),A=Le(s,2),c=A[0],l=A[1],u=i.getMax(),f=Le(u,2),d=f[0],h=f[1];return new GA(c+((o==null?void 0:o.left)||0),l+((o==null?void 0:o.top)||0),d-c,h-l)}return new GA((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(n){var r,i=(r=n.parentNode)===null||r===void 0?void 0:r.transformable;nC(n.transformable),x9(n.transformable,i)}},{key:"internalUpdateElement",value:function(n,r){var i,a,o,s,A=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],l=(c==null?void 0:c.transformDirty)||((a=n.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(n.transformable){var u;(u=n.transformable).dirtyFlag||(u.dirtyFlag=l)}if(this.internalUpdateTransform(n),l){var f;(f=n.dirty)===null||f===void 0||f.call(n,!0,!0)}var d=((o=n.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=n.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((l||d)&&(c==null?void 0:c.shapeUpdated)===!1&&A)for(var h=r.length-1;h>=0;){var p,g,v=r[h];if(v.shapeUpdated)break;(p=(g=v.node).dirty)===null||p===void 0||p.call(g,!0,!0),v.shapeUpdated=!0,h-=1}return l}},{key:"syncHierarchy",value:function(n){for(var r,i,a=[n],o=n.parentNode?[{node:n.parentNode,transformDirty:((r=n.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((i=n.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var s=a.pop(),A=o[o.length-1];o.length>0&&s.parentNode!==A.node;)A=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var l=s.childNodes.length-1;l>=0;l--)a.push(s.childNodes[l]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(n,r){Oh(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(n,r))}},{key:"dirtyWorldTransform",value:function(n,r){this.dirtyWorldInternal(n,r),this.dirtyToRoot(n,!0)}},{key:"dirtyWorldInternal",value:function(n,r){var i,a=this,o=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,n.dirty(!0,!0),o||n.childNodes.forEach(function(s){var A=s.transformable;a.dirtyWorldInternal(s,A)}))}},{key:"dirtyToRoot",value:function(n){for(var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=((r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;a;){var s,A;if((s=(A=a).dirty)===null||s===void 0||s.call(A,!0,!0),o)break;a=a.parentNode}i&&n.forEach(function(u){var f;(f=u.dirty)===null||f===void 0||f.call(u,!0,!0)}),this.informDependentDisplayObjects(n);var c=n.mutations||[],l=c.find(function(u){return u.type==="attributes"&&u._boundsChangeData});l?l._boundsChangeData={affectChildren:l._boundsChangeData.affectChildren||i}:(l={type:"attributes",target:n,_boundsChangeData:{affectChildren:i}},c.push(l)),n.mutations=c}},{key:"dirtyFragment",value:function(n){var r,i,a=n.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(r=(i=n).dirty)===null||r===void 0||r.call(i,!0,!0);for(var o=n.childNodes.length,s=0;s<o;s++)this.dirtyFragment(n.childNodes[s])}},{key:"notifyMutationObservers",value:function(n){var r=new Set;if(n.getRoot().forEach(function(a){(a.mutations||[]).forEach(function(o){o.type==="attributes"&&o._boundsChangeData&&(o._boundsChangeData.affectChildren?a.forEach(function(s){var A=Qe({},o);A.target=s,r.add(A)}):r.add(o))}),a.mutations=void 0}),r.size>0){var i=new gt(Xe.BOUNDS_CHANGED,{detail:Array.from(r)});n.dispatchEvent(i,!0,!0)}}},{key:"updateDisplayObjectDependency",value:function(n,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(a);o[n].splice(s,1)}}if(i){var A=this.displayObjectDependencyMap.get(i);A||(this.displayObjectDependencyMap.set(i,{}),A=this.displayObjectDependencyMap.get(i)),A[n]||(A[n]=[]),A[n].push(a)}}},{key:"informDependentDisplayObjects",value:function(n){var r,i=this,a=this.displayObjectDependencyMap.get(n);if(a){var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(a).forEach(function(s){a[s].forEach(function(A){i.dirtyToRoot(A,!0),A.dispatchEvent(new Zi(Xe.ATTR_MODIFIED,A,i,i,s,Zi.MODIFICATION,i,i),o,o),A.isCustomElement&&A.isConnected&&A.attributeChangedCallback&&A.attributeChangedCallback(s,i,i)})})}}}])}(),MC=function(){function e(t){if(oe(this,e),t<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=t,this.cache=new Map}return se(e,[{key:"get",value:function(n){if(this.cache.has(n)){var r=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,r),r}}},{key:"put",value:function(n,r){if(this.cache.has(n)&&this.cache.delete(n),this.cache.set(n,r),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),$o={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},kC=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Az=/[!%),.:;?\]}'""]/,cz=/[$('"]/,lz=/[!),.:;?\]}'""]/,uz=/[([{'"]/,fz=/[)\]'"?!:;,.]/,dz=/[(['"...]/,hz=/[!%),.:;?\]}'"]/,pz=/[$([{'"#]/,gz=new RegExp("".concat(Az.source,"|").concat(lz.source,"|").concat(fz.source,"|").concat(hz.source)),vz=new RegExp("".concat(cz.source,"|").concat(uz.source,"|").concat(dz.source,"|").concat(pz.source)),yz=function(){function e(t){var n=this;oe(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return n.isBreakingSpace(i)?!1:!!(r&&(vz.exec(i)||gz.exec(r)))},this.trimByKinsokuShorui=function(r){var i=De(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=t,this.charWidthCache=new MC(100)}return se(e,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=$o.MetricsString+$o.BaselineSymbol,A=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText($o.BaselineSymbol).width),l=$o.HeightMultiplier*c;c=c*$o.BaselineMultiplier|0,a.width=A,a.height=l,o.fillStyle="#f00",o.fillRect(0,0,A,l),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var u=o.getImageData(0,0,A||1,l||1).data,f=u.length,d=A*4,h=0,p=0,g=!1;for(h=0;h<c;++h){for(var v=0;v<d;v+=4)if(u[p+v]!==255){g=!0;break}if(!g)p+=d;else break}for(i.ascent=c-h,p=f-d,g=!1,h=l;h>c;--h){for(var y=0;y<d;y+=4)if(u[p+y]!==255){g=!0;break}if(!g)p-=d;else break}return i.descent=h-c,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[n]=i,i}},{key:"measureText",value:function(n,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,A=s===void 0?!1:s,c=r.lineHeight,l=r.lineWidth,u=l===void 0?1:l,f=r.textBaseline,d=f===void 0?"alphabetic":f,h=r.textAlign,p=h===void 0?"start":h,g=r.letterSpacing,v=g===void 0?0:g,y=r.textPath;r.textPathSide,r.textPathStartOffset;var m=r.leading,b=m===void 0?0:m,w=OC(r),B=this.measureFont(w,i);B.fontSize===0&&(B.fontSize=o,B.ascent=o);var x=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);x.font=w,r.isOverflowing=!1;var C=A?this.wordWrap(n,r,i):n,E=C.split(/(?:\r\n|\r|\n)/),O=new Array(E.length),S=0;if(y){y.getTotalLength();for(var _=0;_<E.length;_++)x.measureText(E[_]).width+(E[_].length-1)*v}else{for(var F=0;F<E.length;F++){var k=x.measureText(E[F]).width+(E[F].length-1)*v;O[F]=k,S=Math.max(S,k)}var Q=S+u,L=c||B.fontSize+u,T=Math.max(L,B.fontSize+u)+(E.length-1)*(L+b);L+=b;var M=0;return d==="middle"?M=-T/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?M=-T:(d==="top"||d==="hanging")&&(M=0),{font:w,width:Q,height:T,lines:E,lineWidths:O,lineHeight:L,maxLineWidth:S,fontProperties:B,lineMetrics:O.map(function(I,U){var R=0;return p==="center"||p==="middle"?R-=I/2:(p==="right"||p==="end")&&(R-=I),new GA(R-u/2,M+U*L,I+u,L)})}}}},{key:"wordWrap",value:function(n,r,i){var a=this,o=Array.from(n);if(o.length===0)return"";var s=this,A=r.wordWrapWidth,c=A===void 0?0:A,l=r.letterSpacing,u=l===void 0?0:l,f=r.maxLines,d=f===void 0?1/0:f,h=r.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),g=c+u,v="";h==="ellipsis"?v="...":h&&h!=="clip"&&(v=h);var y=[""],m=0,b=0,w=-1,B=OC(r),x=this.charWidthCache.get(B);x||(x=new MC(500),this.charWidthCache.put(B,x));var C=function(I){return a.getFromCache(I,u,x,p)},E=C(v);function O(M,I,U,R){for(;C(M)<R&&I<o.length-1&&!s.isNewline(o[I+1]);)I+=1,M+=o[I];for(;C(M)>R&&I>=U;)I-=1,M=M.slice(0,-1);return{lineTxt:M,txtLastCharIndex:I}}function S(M,I){if(!(E<=0||E>g)){if(!y[M]){y[M]=v;return}var U=O(y[M],I,w+1,g-E);y[M]=U.lineTxt+v}}for(var _=0;_<o.length;_++){var F=o[_],k=o[_-1],Q=o[_+1],L=C(F);if(this.isNewline(F)){if(m+1>=d){_<o.length-1&&S(m,_-1),r.isOverflowing=!0;break}w=_-1,m+=1,b=0,y[m]="";continue}if(L>g){S(m,_-1),r.isOverflowing=!0;break}if(b>0&&b+L>g){var T=O(y[m],_-1,w+1,g);if(T.txtLastCharIndex!==_-1){if(y[m]=T.lineTxt,T.txtLastCharIndex===o.length-1)break;_=T.txtLastCharIndex+1,F=o[_],k=o[_-1],Q=o[_+1],L=C(F)}if(m+1>=d){S(m,_-1),r.isOverflowing=!0;break}if(w=_-1,m+=1,b=0,y[m]="",this.isBreakingSpace(F))continue;this.canBreakInLastChar(F)||(y=this.trimToBreakable(y),b=this.sumTextWidthByCache(y[m]||"",C)),this.shouldBreakByKinsokuShorui(F,Q)&&(y=this.trimByKinsokuShorui(y),b+=C(k||""))}b+=L,y[m]+=F}return y.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:$o.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:$o.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=De(n),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),A=a+1,c=a+(s?0:1);return r[r.length-1]+=i.slice(A,i.length),r[r.length-2]=i.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&kC.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!kC.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,i,a){var o=i.get(n);if(typeof o!="number"){var s=n.length*r,A=a.measureText(n);o=A.width+s,i.put(n,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),ce={},mz=function(e){var t=new $7,n=new j7;return e={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(e,Z.FRAGMENT,null),Z.CIRCLE,new N7),Z.ELLIPSE,new R7),Z.RECT,t),Z.IMAGE,t),Z.GROUP,new G7),Z.LINE,new H7),Z.TEXT,new K7(ce)),Z.POLYLINE,n),Z.POLYGON,n),ve(ve(ve(e,Z.PATH,new D7),Z.HTML,new z7),Z.MESH,null)}(),bz=function(e){var t=new XG,n=new Sy;return e={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(e,fe.PERCENTAGE,null),fe.NUMBER,new t7),fe.ANGLE,new WG),fe.DEFINED_PATH,new YG),fe.PAINT,t),fe.COLOR,t),fe.FILTER,new qG),fe.LENGTH,n),fe.LENGTH_PERCENTAGE,n),fe.LENGTH_PERCENTAGE_12,new ZG),ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(e,fe.LENGTH_PERCENTAGE_14,new JG),fe.COORDINATE,new Sy),fe.OFFSET_DISTANCE,new n7),fe.OPACITY_VALUE,new r7),fe.PATH,new i7),fe.LIST_OF_POINTS,new a7),fe.SHADOW_BLUR,new o7),fe.TEXT,new s7),fe.TEXT_TRANSFORM,new A7),fe.TRANSFORM,new L7),ve(ve(ve(e,fe.TRANSFORM_ORIGIN,new U7),fe.Z_INDEX,new P7),fe.MARKER,new e7)}(),wz=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};ce.CameraContribution=DT;ce.AnimationTimeline=null;ce.EasingFunction=null;ce.offscreenCanvasCreator=new db;ce.sceneGraphSelector=new q7;ce.sceneGraphService=new sz(ce);ce.textService=new yz(ce);ce.geometryUpdaterFactory=mz;ce.CSSPropertySyntaxFactory=bz;ce.styleValueRegistry=new zG(ce);ce.layoutRegistry=null;ce.globalThis=wz();ce.enableStyleSyntax=!0;ce.enableSizeAttenuation=!1;var Bz=0,ky=new Zi(Xe.INSERTED,null,"","","",0,"",""),Ty=new Zi(Xe.REMOVED,null,"","","",0,"",""),pQ=new gt(Xe.DESTROY),xz=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.entity=Bz++,n.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.cullable={strategy:b9.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return Ne(t,e),se(t,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;this.renderable.dirty=r,i!==void 0&&(this.renderable.boundsDirty=i,this.renderable.renderBoundsDirty=i,this.geometry.dirty=i)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(yt)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(c9);return ce.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!Oh(this)&&r.nodeName===Z.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(ky.relatedNode=this,r.dispatchEvent(ky)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i,a,o=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return Ty.relatedNode=this,r.dispatchEvent(Ty,o,o),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),ce.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return ce.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return ce.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return ce.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return ce.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return ce.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return ce.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return ce.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(ce.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(A,c){var l;return(l=r.parentNode)===null||l===void 0?void 0:l.appendChild(A,i+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var A=o[0],c=vh(o).slice(1);this.parentNode.appendChild(A,i),(r=A).after.apply(r,De(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,A){return r.appendChild(s,A)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,i=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(pQ,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return ce.sceneGraphService.getGeometryBounds(this,r)}},{key:"getTransformedGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return ce.sceneGraphService.getTransformedGeometryBounds(this,r)}},{key:"getBounds",value:function(){return ce.sceneGraphService.getBounds(this)}},{key:"getRenderBounds",value:function(){return ce.sceneGraphService.getBounds(this,!0)}},{key:"getLocalBounds",value:function(){return ce.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return ce.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(yt)}},{key:"getAttributeNode",value:function(r){throw new Error(yt)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(yt)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(yt)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(yt)}},{key:"removeAttributeNode",value:function(r){throw new Error(yt)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(yt)}},{key:"setAttributeNode",value:function(r){throw new Error(yt)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(yt)}},{key:"toggleAttribute",value:function(r,i){throw new Error(yt)}}])}(Rt);function it(e){return!!(e!=null&&e.nodeName)}var Cz=ce.globalThis.Proxy?ce.globalThis.Proxy:function(){},Ci=new Zi(Xe.ATTR_MODIFIED,null,null,null,null,Zi.MODIFICATION,null,null),Oc=$e(),Ez=vn(),Ot=function(e){function t(n){var r;return oe(this,t),r=Pe(this,t),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||Z.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),ce.enableStyleSyntax&&(r.style=new Cz({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return Ne(t,e),se(t,[{key:"destroy",value:function(){yh(t,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Qe({},this.attributes);for(var o in a){var s=a[o];it(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var A=new this.constructor(Qe(Qe({},this.config),{},{style:a}));return A.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var l=c.cloneNode(r);A.appendChild(l)}}),A}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};ce.styleValueRegistry.processProperties(this,r,i),this.dirty()}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;dt(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),yh(t,"setAttribute",this)([r,i]))}},{key:"setAttributes",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.skipDispatchAttrModifiedEvent,o=a===void 0?!1:a,s,A;if(o||(s=Qe({},this.attributes),A=Qe({},this.parsedStyle)),ce.styleValueRegistry.processProperties(this,r,i),this.dirty(),!o)for(var c in r)this.dispatchAttrModifiedEvent(c,s[c],r[c],A[c])}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];ce.styleValueRegistry.processProperties(this,ve({},r,i),a),this.dirty(),this.dispatchAttrModifiedEvent(r,o,i,s)}},{key:"dispatchAttrModifiedEvent",value:function(r,i,a,o){var s=this.parsedStyle[r];if(this.isConnected)if(Ci.relatedNode=this,Ci.prevValue=i,Ci.newValue=a,Ci.attrName=r,Ci.prevParsedValue=o,Ci.newParsedValue=s,this.isMutationObserved)this.dispatchEvent(Ci);else{var A,c=((A=this.ownerDocument.defaultView.getConfig().future)===null||A===void 0?void 0:A.experimentalCancelEventPropagation)===!0;Ci.target=this,this.ownerDocument.defaultView.dispatchEvent(Ci,!0,c)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var l,u;(l=(u=this).attributeChangedCallback)===null||l===void 0||l.call(u,r,i,a,o,s)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=Le(i,2),o=a[0],s=a[1],A=r.getMax(),c=Le(A,2),l=c[0],u=c[1];return new GA(o,s,l-o,u-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ce.sceneGraphService.setOrigin(this,qn(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return ce.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ce.sceneGraphService.setPosition(this,qn(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ce.sceneGraphService.setLocalPosition(this,qn(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ce.sceneGraphService.translate(this,qn(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ce.sceneGraphService.translateLocal(this,qn(r,i,a,!1)),this}},{key:"getPosition",value:function(){return ce.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return ce.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=qn(r,i,a,!1)),ce.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=qn(r,i,a,!1)),ce.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return ce.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return ce.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=v0(Oc,ce.sceneGraphService.getWorldTransform(this)),i=Le(r,3),a=i[2];return Ur(a)}},{key:"getLocalEulerAngles",value:function(){var r=v0(Oc,ce.sceneGraphService.getLocalRotation(this)),i=Le(r,3),a=i[2];return Ur(a)}},{key:"setEulerAngles",value:function(r){return ce.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return ce.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return Oe(i)&&Oe(a)?ce.sceneGraphService.rotateLocal(this,0,0,r):ce.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return Oe(i)&&Oe(a)?ce.sceneGraphService.rotate(this,0,0,r):ce.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return ce.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return ce.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return ce.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return ce.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return ce.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return ce.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return ce.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return ce.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return ce.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){ce.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,De(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,De(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],A=a[1];return s?xu(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):a.length===2?(this.setAttribute(s,A),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=rh(Oc,i),o=Le(a,2),s=o[0],A=o[1],c=PA(Oc,i),l=Le(c,2),u=l[0],f=l[1],d=ih(Ez,i),h=v0(Oc,d),p=Le(h,3),g=p[0],v=p[2];return p9(g||v,s,A,u,f)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=Jx(r),a=Le(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setEulerAngles(l).setPosition(o,s).setLocalScale(A,c)}},{key:"setLocalMatrix",value:function(r){var i=Jx(r),a=Le(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setLocalEulerAngles(l).setLocalPosition(o,s).setLocalScale(A,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(xz);Ot.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Ji=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),Pe(this,t,[Qe({type:Z.CIRCLE},n)])}return Ne(t,e),se(t)}(Ot);Ji.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Oz=["style"],sc=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=$i(r,Oz);return oe(this,t),n=Pe(this,t,[Qe({style:i},a)]),n.isCustomElement=!0,n}return Ne(t,e),se(t)}(Ot);sc.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Jp=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),Pe(this,t,[Qe({type:Z.ELLIPSE},n)])}return Ne(t,e),se(t)}(Ot);Jp.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Sz=function(e){function t(){return oe(this,t),Pe(this,t,[{type:Z.FRAGMENT}])}return Ne(t,e),se(t)}(Ot);Sz.PARSED_STYLE_LIST=new Set(["class","className"]);var xn=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),Pe(this,t,[Qe({type:Z.GROUP},n)])}return Ne(t,e),se(t)}(Ot);xn.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Fz=["style"],Ps=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=$i(r,Fz);return oe(this,t),n=Pe(this,t,[Qe({type:Z.HTML,style:i},a)]),n.cullable.enable=!1,n}return Ne(t,e),se(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Ai(st(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!pn.isEmpty(i)){var a=new pn;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])}(Ot);Ps.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var eg=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),Pe(this,t,[Qe({type:Z.IMAGE},n)])}return Ne(t,e),se(t)}(Ot);eg.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var _z=["style"],Ns=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=$i(r,_z);oe(this,t),n=Pe(this,t,[Qe({type:Z.LINE,style:Qe({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd;return s&&it(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),A&&it(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return Ne(t,e),se(t,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&it(o)&&(this.markerStartAngle=0,o.remove()),s&&it(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&it(o)&&(this.markerEndAngle=0,o.remove()),s&&it(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.x1,l=i.x2,u=i.y1,f=i.y2,d=r?a:o;if(!(!d||!it(d))){var h=0,p,g,v,y,m,b;r?(v=c,y=u,p=l-c,g=f-u,m=s||0,b=this.markerStartAngle):(v=l,y=f,p=c-l,g=u-f,m=A||0,b=this.markerEndAngle),h=Math.atan2(g,p),d.setLocalEulerAngles(h*180/Math.PI+b),d.setLocalPosition(v+Math.cos(h)*m,y+Math.sin(h)*m)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,A=a.x2,c=a.y2,l=PT(o,s,A,c,r),u=l.x,f=l.y,d=Vt($e(),nt(u,f,0),i?this.getWorldTransform():this.getLocalTransform());return new Tn(d[0],d[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return UT(i,a,o,s)}}])}(Ot);Ns.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Mz=["style"],bn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=$i(r,Mz);oe(this,t),n=Pe(this,t,[Qe({type:Z.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Qe({},jT)}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&it(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&it(c)&&n.placeMarkerMid(c),A&&it(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return Ne(t,e),se(t,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&it(o)&&(this.markerStartAngle=0,o.remove()),s&&it(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&it(o)&&(this.markerEndAngle=0,o.remove()),s&&it(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=r?a:o;if(!(!c||!it(c))){var l=0,u,f,d,h,p,g;if(r){var v=this.getStartTangent(),y=Le(v,2),m=y[0],b=y[1];d=b[0],h=b[1],u=m[0]-b[0],f=m[1]-b[1],p=s||0,g=this.markerStartAngle}else{var w=this.getEndTangent(),B=Le(w,2),x=B[0],C=B[1];d=C[0],h=C[1],u=x[0]-C[0],f=x[1]-C[1],p=A||0,g=this.markerEndAngle}l=Math.atan2(f,u),c.setLocalEulerAngles(l*180/Math.PI+g),c.setLocalPosition(d+Math.cos(l)*p,h+Math.sin(l)*p)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(l){l.remove()}),r&&it(r))for(var a=1;a<i.length-1;a++){var o=Le(i[a].currentPoint,2),s=o[0],A=o[1],c=a===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,A)}}},{key:"getTotalLength",value:function(){return Ey(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=g6(a,r),s=o.x,A=o.y,c=Vt($e(),nt(s,A,0),i?this.getWorldTransform():this.getLocalTransform());return new Tn(c[0],c[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*Ey(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,A=r[i-1].endTangent;a=[],A?(a.push([s[0]-A[0],s[1]-A[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])}(Ot);bn.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var kz=["style"],Ac=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=$i(r,kz);oe(this,t),n=Pe(this,t,[Qe({type:Z.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&it(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&it(c)&&n.placeMarkerMid(c),A&&it(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return Ne(t,e),se(t,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&it(o)&&(this.markerStartAngle=0,o.remove()),s&&it(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&it(o)&&(this.markerEndAngle=0,o.remove()),s&&it(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.points,l=c||{},u=l.points,f=r?a:o;if(!(!f||!it(f)||!u)){var d=0,h,p,g,v,y,m;if(g=u[0][0],v=u[0][1],r)h=u[1][0]-u[0][0],p=u[1][1]-u[0][1],y=s||0,m=this.markerStartAngle;else{var b=u.length;this.parsedStyle.isClosed?(h=u[b-1][0]-u[0][0],p=u[b-1][1]-u[0][1]):(g=u[b-1][0],v=u[b-1][1],h=u[b-2][0]-u[b-1][0],p=u[b-2][1]-u[b-1][1]),y=A||0,m=this.markerEndAngle}d=Math.atan2(p,h),f.setLocalEulerAngles(d*180/Math.PI+m),f.setLocalPosition(g+Math.cos(d)*y,v+Math.sin(d)*y)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(u){u.remove()}),this.markerMidList=[],r&&it(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var A=o[s][0],c=o[s][1],l=s===1?r:r.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(A,c)}}}])}(Ot);Ac.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var Tz=["style"],tg=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=$i(n,Tz);return oe(this,t),Pe(this,t,[Qe({type:Z.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return Ne(t,e),se(t,[{key:"getTotalLength",value:function(){return yG(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,A,c,l=this.getTotalLength();a.forEach(function(v,y){a[y+1]&&(A=[0,0],A[0]=s/l,c=UT(v[0],v[1],a[y+1][0],a[y+1][1]),s+=c,A[1]=s/l,o.push(A))}),this.parsedStyle.points.segments=o}var u=0,f=0;this.parsedStyle.points.segments.forEach(function(v,y){r>=v[0]&&r<=v[1]&&(u=(r-v[0])/(v[1]-v[0]),f=y)});var d=PT(a[f][0],a[f][1],a[f+1][0],a[f+1][1],u),h=d.x,p=d.y,g=Vt($e(),nt(h,p,0),i?this.getWorldTransform():this.getLocalTransform());return new Tn(g[0],g[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])}(Ac);tg.PARSED_STYLE_LIST=new Set([].concat(De(Ac.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var _o=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),Pe(this,t,[Qe({type:Z.RECT},n)])}return Ne(t,e),se(t)}(Ot);_o.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var Qz=["style"],fi=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=$i(n,Qz);return oe(this,t),Pe(this,t,[Qe({type:Z.TEXT,style:Qe({fill:"black"},r)},i)])}return Ne(t,e),se(t,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Ot);fi.PARSED_STYLE_LIST=new Set([].concat(De(Ot.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textDecorationThickness","textPathSide","textPathStartOffset","metrics","dx","dy"]));var Iz=function(){function e(){oe(this,e),this.registry={},this.define(Z.CIRCLE,Ji),this.define(Z.ELLIPSE,Jp),this.define(Z.RECT,_o),this.define(Z.IMAGE,eg),this.define(Z.LINE,Ns),this.define(Z.GROUP,xn),this.define(Z.PATH,bn),this.define(Z.POLYGON,Ac),this.define(Z.POLYLINE,tg),this.define(Z.TEXT,fi),this.define(Z.HTML,Ps)}return se(e,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])}(),hb={number:function(t){return new mt(t)},percent:function(t){return new mt(t,"%")},px:function(t){return new mt(t,"px")},em:function(t){return new mt(t,"em")},rem:function(t){return new mt(t,"rem")},deg:function(t){return new mt(t,"deg")},grad:function(t){return new mt(t,"grad")},rad:function(t){return new mt(t,"rad")},turn:function(t){return new mt(t,"turn")},s:function(t){return new mt(t,"s")},ms:function(t){return new mt(t,"ms")},registerProperty:function(t){var n=t.name,r=t.inherits,i=t.interpolable,a=t.initialValue,o=t.syntax;ce.styleValueRegistry.registerMetadata({n,inh:r,int:i,d:a,syntax:o})},registerLayout:function(t,n){ce.layoutRegistry.registerLayout(t,n)}},Lz=function(e){function t(){var n;oe(this,t),n=Pe(this,t),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new ce.AnimationTimeline(n)}catch{}var r={};return lb.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=mn(s)?s(Z.GROUP):s)}),n.documentElement=new xn({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return Ne(t,e),se(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?fi:xn);var o=new a(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(yt)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,i,a,o){var s=[],A=function(l){if(!(!l.isInteractive()||l.isCulled())){var u=l.parsedStyle.pointerEvents,f=u===void 0?"auto":u,d=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(f);if(!d||l.isVisible()){var h=l.getTransformedGeometryBounds(!0);h&&!pn.isEmpty(h)&&h.max[0]>=r&&h.min[0]<=a&&h.max[1]>=i&&h.min[1]<=o&&s.push(l)}l.childNodes&&l.childNodes.forEach(function(p){p instanceof Ot&&A(p)})}};return A(this.documentElement),s.sort(function(c,l){return l.sortable.renderOrder-c.sortable.renderOrder}),s}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return null;var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),p=h.picked;return p&&p[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var n=yo(_n().mark(function i(a,o){var s,A,c,l,u,f,d,h,p,g,v;return _n().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){y.next=1;break}return y.abrupt("return",null);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,p=d.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:p},picked:[]});case 2:return g=y.sent,v=g.picked,y.abrupt("return",v&&v[0]||this.documentElement);case 3:case"end":return y.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return[];var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),p=h.picked;return p[p.length-1]!==this.documentElement&&p.push(this.documentElement),p}},{key:"elementsFromPoint",value:function(){var n=yo(_n().mark(function i(a,o){var s,A,c,l,u,f,d,h,p,g,v;return _n().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){y.next=1;break}return y.abrupt("return",[]);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,p=d.y,y.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:p},picked:[]});case 2:return g=y.sent,v=g.picked,v[v.length-1]!==this.documentElement&&v.push(this.documentElement),y.abrupt("return",v);case 3:case"end":return y.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"appendChild",value:function(r,i){throw new Error(Vs)}},{key:"insertBefore",value:function(r,i){throw new Error(Vs)}},{key:"removeChild",value:function(r,i){throw new Error(Vs)}},{key:"replaceChild",value:function(r,i,a){throw new Error(Vs)}},{key:"append",value:function(){throw new Error(Vs)}},{key:"prepend",value:function(){throw new Error(Vs)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])}(Rt),gQ=function(){function e(t){oe(this,e),this.strategies=t}return se(e,[{key:"apply",value:function(n){var r=n.config,i=n.camera,a=n.renderingService,o=n.renderingContext,s=this.strategies;a.hooks.cull.tap(e.tag,function(A){if(A){var c,l=A.cullable;if(s.length===0?l.visible=o.unculledEntities.indexOf(A.entity)>-1:l.visible=s.every(function(f){return f.isVisible(i,A)}),!A.isCulled()&&A.isVisible())return A;var u=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return A.dispatchEvent(new gt(Xe.CULLED),u,u),null}return A}),a.hooks.afterRender.tap(e.tag,function(A){A.cullable.visibilityPlaneMask=-1})}}])}();gQ.tag="Culling";var vQ=function(){function e(){var t=this;oe(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new _y(null),this.rootWheelEvent=new My(null),this.onPointerMove=function(n){var r,i=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&n.pointerType==="touch")){var a=t.normalizeToPointerEvent(n,i),o=qa(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=t.bootstrapEvent(t.rootPointerEvent,A,i,n);t.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(n){var r,i=(r=t.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=t.normalizeToPointerEvent(n,i),o=qa(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=t.bootstrapEvent(t.rootPointerEvent,A,i,n);t.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return se(e,[{key:"apply",value:function(n){var r=this;this.context=n;var i=n.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),A=s.picked;return A[0]||null}),i.hooks.pointerWheel.tap(e.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var A=o.cancelable||!("cancelable"in o);A&&o.preventDefault()}var c=qa(s),l;try{for(c.s();!(l=c.n()).done;){var u=l.value,f=r.bootstrapEvent(r.rootPointerEvent,u,a,o);r.context.eventService.mapEvent(f)}}catch(d){c.e(d)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(e.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),A=r.context.eventService.isNativeEventFromCanvas(s,o),c=A?"":"outside",l=r.normalizeToPointerEvent(o,a),u=qa(l),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=r.bootstrapEvent(r.rootPointerEvent,d,a,o);h.type+=c,r.context.eventService.mapEvent(h)}}catch(p){u.e(p)}finally{u.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(e.tag,this.onPointerMove),i.hooks.pointerOver.tap(e.tag,this.onPointerMove),i.hooks.pointerOut.tap(e.tag,this.onPointerMove),i.hooks.click.tap(e.tag,this.onClick),i.hooks.pointerCancel.tap(e.tag,function(o){var s=r.normalizeToPointerEvent(o,a),A=qa(s),c;try{for(A.s();!(c=A.n()).done;){var l=c.value,u=r.bootstrapEvent(r.rootPointerEvent,l,a,o);r.context.eventService.mapEvent(u)}}catch(f){A.e(f)}finally{A.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,i,a){n.view=i,n.originalEvent=null,n.nativeEvent=a,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,A=o.y;n.viewport.x=s,n.viewport.y=A;var c=this.context.eventService.viewport2Canvas(n.viewport),l=c.x,u=c.y;return n.canvas.x=l,n.canvas.y=u,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=a.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=g7[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var i=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),A=s.x,c=s.y;return r.canvas.x=A,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=Fy.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var i=[];if(r.isTouchEvent(n))for(var a=0;a<n.changedTouches.length;a++){var o=n.changedTouches[a];dt(o.button)&&(o.button=0),dt(o.buttons)&&(o.buttons=1),dt(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),dt(o.width)&&(o.width=o.radiusX||1),dt(o.height)&&(o.height=o.radiusY||1),dt(o.tiltX)&&(o.tiltX=0),dt(o.tiltY)&&(o.tiltY=0),dt(o.pointerType)&&(o.pointerType="touch"),dt(o.pointerId)&&(o.pointerId=o.identifier||0),dt(o.pressure)&&(o.pressure=o.force||.5),dt(o.twist)&&(o.twist=0),dt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,i.push(o)}else if(r.isMouseEvent(n)){var s=n;dt(s.isPrimary)&&(s.isPrimary=!0),dt(s.width)&&(s.width=1),dt(s.height)&&(s.height=1),dt(s.tiltX)&&(s.tiltX=0),dt(s.tiltY)&&(s.tiltY=0),dt(s.pointerType)&&(s.pointerType="mouse"),dt(s.pointerId)&&(s.pointerId=p7),dt(s.pressure)&&(s.pressure=.5),dt(s.twist)&&(s.twist=0),dt(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(n);return i}}])}();vQ.tag="Event";var Uz=[Z.CIRCLE,Z.ELLIPSE,Z.IMAGE,Z.RECT,Z.LINE,Z.POLYLINE,Z.POLYGON,Z.TEXT,Z.PATH,Z.HTML],Pz=function(){function e(){oe(this,e)}return se(e,[{key:"isVisible",value:function(n,r){var i,a=r.cullable;if(!a.enable)return!0;var o=r.getRenderBounds();if(pn.isEmpty(o))return!1;var s=n.getFrustum(),A=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,A||zs.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==zs.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i,a){if(i===zs.OUTSIDE||i===zs.INSIDE)return i;for(var o=zs.INSIDE,s=Uz.indexOf(n.nodeName)>-1,A=0,c=a.length;A<c;++A){var l=1<<A;if(i&l&&!(s&&(A===4||A===5))){var u=a[A],f=u.normal,d=u.distance;if(Pi(f,r.getPositiveFarPoint(a[A]))+d<0)return zs.OUTSIDE;Pi(f,r.getNegativeFarPoint(a[A]))+d<0&&(o|=l)}}return o}}])}(),yQ=function(){function e(){oe(this,e),this.mutationRecords=[],this.isFirstTimeRendering=!0,this.isFirstTimeRenderingFinished=!1}return se(e,[{key:"apply",value:function(n){var r=this,i,a=n.renderingService,o=n.renderingContext,s=o.root.ownerDocument.defaultView,A=function(h){a.dirty()},c=function(h){var p,g=h.detail;(p=r.mutationRecords).push.apply(p,De(g)),a.dirty()},l=function(h){var p=h.target;ce.enableSizeAttenuation&&ce.styleValueRegistry.updateSizeAttenuation(p,s.getCamera().getZoom())},u=function(h){var p=h.target;ce.sceneGraphService.dirtyToRoot(p),a.dirty()};a.hooks.init.tap(e.tag,function(){s.addEventListener(Xe.MOUNTED,l),s.addEventListener(Xe.UNMOUNTED,u),s.addEventListener(Xe.ATTR_MODIFIED,A),s.addEventListener(Xe.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(e.tag,function(){s.removeEventListener(Xe.MOUNTED,l),s.removeEventListener(Xe.UNMOUNTED,u),s.removeEventListener(Xe.ATTR_MODIFIED,A),s.removeEventListener(Xe.BOUNDS_CHANGED,c),r.mutationRecords=[]});var f=(i=ce.globalThis.requestIdleCallback)!==null&&i!==void 0?i:fb.bind(ce.globalThis);a.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering&&(r.isFirstTimeRendering=!1,f(function(){r.isFirstTimeRenderingFinished=!0})),r.mutationRecords=[]})}}])}();yQ.tag="Prepare";var Nr=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),TC=500,Nz=.1,Rz=1e3,pf=new gt(Xe.MOUNTED),gf=new gt(Xe.UNMOUNTED),S0=new gt(Nr.BEFORE_RENDER),QC=new gt(Nr.RERENDER),F0=new gt(Nr.AFTER_RENDER),mQ=function(e){function t(n){var r;oe(this,t),r=Pe(this,t),r.Element=Ot,r.inited=!1,r.context={};var i=n.container,a=n.canvas,o=n.renderer,s=n.width,A=n.height,c=n.background,l=n.cursor,u=n.supportsMutipleCanvasesInOneContainer,f=n.cleanUpOnDestroy,d=f===void 0?!0:f,h=n.offscreenCanvas,p=n.devicePixelRatio,g=n.requestAnimationFrame,v=n.cancelAnimationFrame,y=n.createImage,m=n.supportsTouchEvents,b=n.supportsPointerEvents,w=n.isTouchEvent,B=n.isMouseEvent,x=n.dblClickSpeed,C=s,E=A,O=p||ub&&window.devicePixelRatio||1;return O=O>=1?Math.ceil(O):1,a&&(C=s||d7(a)||a.width/O,E=A||h7(a)||a.height/O),r.customElements=new Iz,r.devicePixelRatio=O,r.requestAnimationFrame=g??fb.bind(ce.globalThis),r.cancelAnimationFrame=v??uQ.bind(ce.globalThis),r.createImage=y??function(){return new window.Image},r.supportsTouchEvents=m??"ontouchstart"in ce.globalThis,r.supportsPointerEvents=b??!!ce.globalThis.PointerEvent,r.isTouchEvent=w??function(S){return r.supportsTouchEvents&&S instanceof ce.globalThis.TouchEvent},r.isMouseEvent=B??function(S){return!ce.globalThis.MouseEvent||S instanceof ce.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(S instanceof ce.globalThis.PointerEvent))},h&&(ce.offscreenCanvas=h),r.document=new Lz,r.document.defaultView=r,u||c7(i,r,d),r.initRenderingContext(Qe(Qe({},n),{},{width:C,height:E,background:c??"transparent",cursor:l??"default",cleanUpOnDestroy:d,devicePixelRatio:O,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:x??200})),r.initDefaultCamera(C,E,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return Ne(t,e),se(t,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var o=this,s=new ce.CameraContribution;s.clipSpaceNearZ=a,s.setType(vt.EXPLORING,by.DEFAULT).setPosition(r/2,i/2,TC).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,Nz,Rz),s.canvas=this,s.eventEmitter.on(HT.UPDATED,function(){o.context.renderingContext.renderReasons.add(CA.CAMERA_CHANGED),ce.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){ce.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;fn.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new gt(Nr.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();i&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),a||this.dispatchEvent(new gt(Nr.AFTER_DESTROY),o,o);var A=function(l){l.currentTarget=null,l.manager=null,l.target=null,l.relatedNode=null};A(pf),A(gf),A(S0),A(QC),A(F0),A(Ci),A(ky),A(Ty),A(pQ),ce.textService.clearCache()}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a,o=this.context.config;o.width=r,o.height=i,this.getContextService().resize(r,i);var s=this.context.camera,A=s.getProjectionMode();s.setPosition(r/2,i/2,TC).setFocalPoint(r/2,i/2,0),A===Tr.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i);var c=((a=o.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new gt(Nr.RESIZE,{width:r,height:i}),c,c)}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i,a=this;r&&(S0.detail=r,F0.detail=r);var o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(S0,o,o);var s=this.getRenderingService();s.render(this,r,function(){a.dispatchEvent(QC,o,o)}),this.dispatchEvent(F0,o,o)}},{key:"run",value:function(){var r=this,i=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new vQ,new yQ,new gQ([new Pz])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(Qe(Qe({},ce),this.context)),this.context.renderingService=new Y7(ce,this.context),this.context.eventService=new W7(ce,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;i.inited=!0;var A=((s=i.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;a?o?i.requestAnimationFrame(function(){i.dispatchEvent(new gt(Nr.READY),A,A)}):i.dispatchEvent(new gt(Nr.READY),A,A):i.dispatchEvent(new gt(Nr.RENDERER_CHANGED),A,A),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(c){var l,u;(l=(u=c).dirty)===null||l===void 0||l.call(u,!0,!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(o){o.context=i.context,o.init(ce)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),De((a==null?void 0:a.getPlugins())||[]).reverse().forEach(function(o){o.destroy(ce)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;if(r.childNodes.forEach(function(s){i.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(gf);else{var a,o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;gf.target=r,this.dispatchEvent(gf,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oh(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!a))if(r.isMutationObserved)r.dispatchEvent(pf);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;pf.target=r,this.dispatchEvent(pf,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(A){i.mountChildren(A,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])}(hQ),Hz=function(){function e(){oe(this,e),this.cacheStore=new Map}return se(e,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,i){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([i.entity])}),this.onRefAdded(i),!0)}},{key:"get",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.has(r.entity)||(i.counter.add(r.entity),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(n,r,i){var a=this.cacheStore.get(n);return a?(a.value=Qe(Qe({},a.value),r),a.counter.has(i.entity)||(a.counter.add(i.entity),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.delete(r.entity),i.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),_0=[],M0=[],Qy=function(){function e(){oe(this,e)}return se(e,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;e.rafId&&(n.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.api;_0.length<=0&&M0.length<=0||(M0.forEach(function(r){return r()}),M0=_0.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=n.requestAnimationFrame(function(){e.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,i,a){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:e.api,A=n.naturalWidth||n.width,c=n.naturalHeight||n.height,l=r-o,u=i-o,f=Math.ceil(A/l),d=Math.ceil(c/u),h={tileSize:[r,i],gridSize:[d,f],tiles:Array(d).fill(null).map(function(){return Array(f).fill(null)})},p=function(y){for(var m=function(B){_0.push(function(){var x=B*l,C=y*u,E=[Math.min(r,A-x),Math.min(i,c-C)],O=E[0],S=E[1],_=s.createCanvas();_.width=r,_.height=i;var F=_.getContext("2d");F.drawImage(n,x,C,O,S,0,0,O,S),h.tiles[y][B]={x,y:C,tileX:B,tileY:y,data:_},a()})},b=0;b<f;b++)m(b)},g=0;g<d;g++)p(g);return e.stop(),e.executeTask(),h}}])}();Qy.TASK_NUM_PER_FRAME=10;var gr=new Hz;gr.onRefAdded=function(t){var n=this;t.addEventListener(Xe.DESTROY,function(){n.releaseRef(t)},{once:!0})};var pb=function(){function e(t,n){oe(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n}return se(e,[{key:"getImageSync",value:function(n,r,i){var a=Ut(n)?n:n.src;if(gr.has(a)){var o=gr.get(a,r);if(o.img.complete)return i==null||i(o),o}return this.getOrCreateImage(n,r).then(function(s){i==null||i(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(n,r){var i=this,a=Ut(n)?n:n.src;if(!Ut(n)&&!gr.has(a)){var o={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:vf(n)};gr.put(a,o,r)}if(gr.has(a)){var s=gr.get(a,r);return s.img.complete?Promise.resolve(s):new Promise(function(A,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=vf(s.img),A(s)}),s.img.addEventListener("error",function(l){c(l)})})}return new Promise(function(A,c){var l=i.context.config.createImage();if(l){var u={img:l,size:[0,0],tileSize:vf(l)};gr.put(a,u,r),l.onload=function(){u.size=[l.naturalWidth||l.width,l.naturalHeight||l.height],u.tileSize=vf(u.img),A(u)},l.onerror=function(f){c(f)},l.crossOrigin="Anonymous",l.src=a}})}},{key:"createDownSampledImage",value:function(){var t=yo(_n().mark(function r(i,a){var o,s,A,c,l,u,f,d,h,p,g,v,y,m;return _n().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=1,this.getOrCreateImage(i,a);case 1:if(o=b.sent,!(typeof o.downSamplingRate<"u")){b.next=2;break}return b.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,A=typeof s=="boolean"?{}:s,c=A.maxDownSampledImageSize,l=c===void 0?2048:c,u=A.downSamplingRateThreshold,f=u===void 0?.5:u,d=this.runtime.globalThis.createImageBitmap,h=Le(o.size,2),p=h[0],g=h[1],v=o.img,y=Math.min((l+l)/(p+g),Math.max(.01,Math.min(f,.5))),m=Qe(Qe({},o),{},{downSamplingRate:y}),gr.update(o.img.src,m,a),!d){b.next=7;break}return b.prev=3,b.next=4,d(o.img,{resizeWidth:p*y,resizeHeight:g*y});case 4:v=b.sent,b.next=6;break;case 5:b.prev=5,b.catch(3),y=1;case 6:b.next=8;break;case 7:y=1;case 8:return m=Qe(Qe({},this.getImageSync(i,a)),{},{downSampled:v,downSamplingRate:y}),gr.update(o.img.src,m,a),b.abrupt("return",m);case 9:case"end":return b.stop()}},r,this,[[3,5]])}));function n(r,i){return t.apply(this,arguments)}return n}()},{key:"createImageTiles",value:function(){var t=yo(_n().mark(function r(i,a,o,s){var A,c,l,u,f;return _n().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=1,this.getOrCreateImage(i,s);case 1:return A=d.sent,c=s.ownerDocument.defaultView,l=c.requestAnimationFrame,u=c.cancelAnimationFrame,Qy.api={requestAnimationFrame:l,cancelAnimationFrame:u,createCanvas:function(){return db.createCanvas()}},f=Qe(Qe({},A),Qy.sliceImage(A.img,A.tileSize[0],A.tileSize[0],o)),gr.update(A.img.src,f,s),d.abrupt("return",f);case 2:case"end":return d.stop()}},r,this)}));function n(r,i,a,o){return t.apply(this,arguments)}return n}()},{key:"releaseImage",value:function(n,r){gr.release(Ut(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){gr.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,i,a,o,s,A){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var l=r.image,u=r.repetition,f=r.transform,d,h=!1;if(Ut(l)){var p=this.getImageSync(l,n,A);d=p==null?void 0:p.img}else a?(d=a,h=!0):d=l;var g=d&&i.createPattern(d,u);if(g){var v;f?v=fQ(rQ(f),new Ot({})):v=go(st()),h&&hM(v,v,[1/o,1/o,1]),g.setTransform({a:v[0],b:v[1],c:v[4],d:v[5],e:v[12]+s[0],f:v[13]+s[1]})}return c&&g&&(this.patternCache[c]=g),g}},{key:"getOrCreateGradient",value:function(n,r){var i=this.generateGradientKey(n),a=n.type,o=n.steps,s=n.min,A=n.width,c=n.height,l=n.angle,u=n.cx,f=n.cy,d=n.size;if(this.gradientCache[i])return this.gradientCache[i];var h=null;if(a===eo.LinearGradient){var p=Z9(s,A,c,l),g=p.x1,v=p.y1,y=p.x2,m=p.y2;h=r.createLinearGradient(g,v,y,m)}else if(a===eo.RadialGradient){var b=J9(s,A,c,u,f,d),w=b.x,B=b.y,x=b.r;h=r.createRadialGradient(w,B,0,w,B,x)}return h&&(o.forEach(function(C){var E=C.offset,O=C.color;if(E.unit===pe.kPercentage){var S;(S=h)===null||S===void 0||S.addColorStop(E.value/100,O.toString())}}),this.gradientCache[i]=h),this.gradientCache[i]}},{key:"generateGradientKey",value:function(n){var r=n.type,i=n.min,a=n.width,o=n.height,s=n.steps,A=n.angle,c=n.cx,l=n.cy,u=n.size;return"gradient-".concat(r,"-").concat((A==null?void 0:A.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((l==null?void 0:l.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(o,"-").concat(s.map(function(f){var d=f.offset,h=f.color;return"".concat(d).concat(h)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,i=n.repetition;if(Ut(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])}();pb.isSupportTile=!!db.createCanvas();function vf(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(n/i),o=Math.ceil(t/i);a*o<1e3&&(r=i)}),[r,r]}var bQ=function(){function e(){oe(this,e)}return se(e,[{key:"apply",value:function(n){var r=n.renderingService,i=n.renderingContext,a=n.imagePool,o=i.root.ownerDocument.defaultView,s=function(u,f,d){var h=u.parsedStyle,p=h.width,g=h.height;p&&!g?u.setAttribute("height",d/f*p):!p&&g&&u.setAttribute("width",f/d*g)},A=function(u){var f=u.target,d=f.nodeName,h=f.attributes;if(d===Z.IMAGE){var p=h.src,g=h.keepAspectRatio;a.getImageSync(p,f,function(v){var y=v.img,m=y.width,b=y.height;g&&s(f,m,b),f.dirty(),r.dirty()})}},c=function(u){var f=u.target,d=u.attrName,h=u.prevValue,p=u.newValue;f.nodeName!==Z.IMAGE||d!=="src"||(h!==p&&a.releaseImage(h,f),Ut(p)&&a.getOrCreateImage(p,f).then(function(g){var v=g.img,y=v.width,m=v.height;f.attributes.keepAspectRatio&&s(f,y,m),f.dirty(),r.dirty()}).catch(function(){}))};r.hooks.init.tap(e.tag,function(){o.addEventListener(Xe.MOUNTED,A),o.addEventListener(Xe.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener(Xe.MOUNTED,A),o.removeEventListener(Xe.ATTR_MODIFIED,c)})}}])}();bQ.tag="LoadImage";var Dz=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="image-loader",n}return Ne(t,e),se(t,[{key:"init",value:function(r){this.context.imagePool=new pb(this.context,r),this.addRenderingPlugin(new bQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fo),jz=Object.freeze({__proto__:null,ImagePool:pb,Plugin:Dz}),$z="g-canvas-camera",wQ=function(){function e(){oe(this,e),this.displayObjectHTMLElementMap=new WeakMap}return se(e,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var i=this,a=n.camera,o=n.renderingContext,s=n.renderingService;this.context=n;var A=o.root.ownerDocument.defaultView,c=A.context.eventService.nativeHTMLMap,l=function(v,y){y.style.transform=i.joinTransformMatrix(v.getWorldTransform(),v.getOrigin())},u=function(v){var y=v.target;if(y.nodeName===Z.HTML){i.$camera||(i.$camera=i.createCamera(a));var m=i.getOrCreateEl(y);i.$camera.appendChild(m),Object.keys(y.attributes).forEach(function(b){i.updateAttribute(b,y)}),l(y,m),c.set(m,y)}},f=function(v){var y=v.target;if(y.nodeName===Z.HTML&&i.$camera){var m=i.getOrCreateEl(y);m&&(m.remove(),c.delete(m))}},d=function(v){var y=v.target;if(y.nodeName===Z.HTML){var m=v.attrName;i.updateAttribute(m,y)}},h=function(v){for(var y=v.detail,m=0;m<y.length;m++){var b=y[m],w=b.target,B=w.nodeName===Z.FRAGMENT?w.childNodes:[w];B.forEach(function(x){if(x.nodeName===Z.HTML){var C=i.getOrCreateEl(x);l(x,C)}})}},p=function(){if(i.$camera){var v=i.context.config,y=v.width,m=v.height;i.$camera.parentElement.style.width="".concat(y||0,"px"),i.$camera.parentElement.style.height="".concat(m||0,"px")}};s.hooks.init.tap(e.tag,function(){A.addEventListener(Nr.RESIZE,p),A.addEventListener(Xe.MOUNTED,u),A.addEventListener(Xe.UNMOUNTED,f),A.addEventListener(Xe.ATTR_MODIFIED,d),A.addEventListener(Xe.BOUNDS_CHANGED,h)}),s.hooks.endFrame.tap(e.tag,function(){i.$camera&&o.renderReasons.has(CA.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(e.tag,function(){i.$camera&&i.$camera.remove(),A.removeEventListener(Nr.RESIZE,p),A.removeEventListener(Xe.MOUNTED,u),A.removeEventListener(Xe.UNMOUNTED,f),A.removeEventListener(Xe.ATTR_MODIFIED,d),A.removeEventListener(Xe.BOUNDS_CHANGED,h)})}},{key:"createCamera",value:function(n){var r=this.context.config,i=r.document,a=r.width,o=r.height,s=this.context.contextService.getDomElement(),A=s.parentNode;if(A){var c=$z,l=A.querySelector("#".concat(c));if(!l){var u=(i||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(a||0,"px"),u.style.height="".concat(o||0,"px");var f=(i||document).createElement("div");l=f,f.id=c,f.style.position="absolute",f.style.left="".concat(s.offsetLeft||0,"px"),f.style.top="".concat(s.offsetTop||0,"px"),f.style.transformOrigin="left top",f.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),f.style.pointerEvents="none",f.style.width="100%",f.style.height="100%",u.appendChild(f),A.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(n);return i||(i=(r||document).createElement("div"),n.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(n,i),n.id&&(i.id=n.id),n.name&&i.setAttribute("name",n.name),n.className&&(i.className=n.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),i}},{key:"updateAttribute",value:function(n,r){var i=this.getOrCreateEl(r);switch(n){case"innerHTML":var a=r.parsedStyle.innerHTML;Ut(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;i.style.width=Et(s)?"".concat(s,"px"):s.toString();break;case"height":var A=r.parsedStyle.height;i.style.height=Et(A)?"".concat(A,"px"):A.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;i.style["z-index"]="".concat(c);break;case"visibility":var l=r.parsedStyle.visibility;i.style.visibility=l;break;case"pointerEvents":var u=r.parsedStyle.pointerEvents,f=u===void 0?"auto":u;i.style.pointerEvents=f;break;case"opacity":var d=r.parsedStyle.opacity;i.style.opacity="".concat(d);break;case"fill":var h=r.parsedStyle.fill,p="";Ch(h)?h.isNone?p="transparent":p=r.getAttribute("fill"):Array.isArray(h)?p=r.getAttribute("fill"):Cs(h),i.style.background=p;break;case"stroke":var g=r.parsedStyle.stroke,v="";Ch(g)?g.isNone?v="transparent":v=r.getAttribute("stroke"):Array.isArray(g)?v=r.getAttribute("stroke"):Cs(g),i.style["border-color"]=v,i.style["border-style"]="solid";break;case"lineWidth":var y=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(y||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var m=r.style.filter;i.style.filter=m;break;default:!Oe(r.style[n])&&r.style[n]!==""&&(i.style[n]=r.style[n])}}}])}();wQ.tag="HTMLRendering";var Kz=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="html-renderer",n}return Ne(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new wQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fo),Gz=Object.freeze({__proto__:null,Plugin:Kz}),BQ=function(){function e(){oe(this,e)}return se(e,[{key:"apply",value:function(n,r){var i=this,a=n.renderingService,o=n.renderingContext,s=n.config;this.context=n;var A=o.root.ownerDocument.defaultView,c=function(C){a.hooks.pointerMove.call(C)},l=function(C){a.hooks.pointerUp.call(C)},u=function(C){a.hooks.pointerDown.call(C)},f=function(C){a.hooks.pointerOver.call(C)},d=function(C){a.hooks.pointerOut.call(C)},h=function(C){a.hooks.pointerCancel.call(C)},p=function(C){a.hooks.pointerWheel.call(C)},g=function(C){a.hooks.click.call(C)},v=function(C){r.globalThis.document.addEventListener("pointermove",c,!0),C.addEventListener("pointerdown",u,!0),C.addEventListener("pointerleave",d,!0),C.addEventListener("pointerover",f,!0),r.globalThis.addEventListener("pointerup",l,!0),r.globalThis.addEventListener("pointercancel",h,!0)},y=function(C){C.addEventListener("touchstart",u,!0),C.addEventListener("touchend",l,!0),C.addEventListener("touchmove",c,!0),C.addEventListener("touchcancel",h,!0)},m=function(C){r.globalThis.document.addEventListener("mousemove",c,!0),C.addEventListener("mousedown",u,!0),C.addEventListener("mouseout",d,!0),C.addEventListener("mouseover",f,!0),r.globalThis.addEventListener("mouseup",l,!0)},b=function(C){r.globalThis.document.removeEventListener("pointermove",c,!0),C.removeEventListener("pointerdown",u,!0),C.removeEventListener("pointerleave",d,!0),C.removeEventListener("pointerover",f,!0),r.globalThis.removeEventListener("pointerup",l,!0),r.globalThis.removeEventListener("pointercancel",h,!0)},w=function(C){C.removeEventListener("touchstart",u,!0),C.removeEventListener("touchend",l,!0),C.removeEventListener("touchmove",c,!0),C.removeEventListener("touchcancel",h,!0)},B=function(C){r.globalThis.document.removeEventListener("mousemove",c,!0),C.removeEventListener("mousedown",u,!0),C.removeEventListener("mouseout",d,!0),C.removeEventListener("mouseover",f,!0),r.globalThis.removeEventListener("mouseup",l,!0)};a.hooks.init.tap(e.tag,function(){var x=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(x.style.msContentZooming="none",x.style.msTouchAction="none"):A.supportsPointerEvents&&(x.style.touchAction="none"),A.supportsPointerEvents?v(x):m(x),A.supportsTouchEvents&&y(x),s.useNativeClickEvent&&x.addEventListener("click",g,!0),x.addEventListener("wheel",p,{passive:!0,capture:!0})}),a.hooks.destroy.tap(e.tag,function(){var x=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(x.style.msContentZooming="",x.style.msTouchAction=""):A.supportsPointerEvents&&(x.style.touchAction=""),A.supportsPointerEvents?b(x):B(x),A.supportsTouchEvents&&w(x),s.useNativeClickEvent&&x.removeEventListener("click",g,!0),x.removeEventListener("wheel",p,!0)})}}])}();BQ.tag="DOMInteraction";var zz=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="dom-interaction",n}return Ne(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new BQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Fo),Vz=Object.freeze({__proto__:null,Plugin:zz}),Wz=function(){function e(){oe(this,e)}return se(e,[{key:"apply",value:function(n){var r=n.renderingService,i=n.contextService,a=n.config,o=i.getDomElement(),s=function(p){r.hooks.pointerDown.call(p)},A=function(p){r.hooks.pointerUp.call(p)},c=function(p){r.hooks.pointerMove.call(p)},l=function(p){r.hooks.pointerOver.call(p)},u=function(p){r.hooks.pointerOut.call(p)},f=function(p){r.hooks.click.call(p)},d=function(p){r.hooks.pointerCancel.call(p)};r.hooks.init.tap(e.tag,function(){o.addEventListener("touchstart",s,!0),o.addEventListener("touchend",A,!0),o.addEventListener("touchmove",c,!0),o.addEventListener("touchcancel",d,!0),o.addEventListener("mouseout",u,!0),o.addEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.addEventListener("click",f,!0)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener("touchstart",s,!0),o.removeEventListener("touchend",A,!0),o.removeEventListener("touchmove",c,!0),o.removeEventListener("touchcancel",d,!0),o.removeEventListener("mouseout",u,!0),o.removeEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.removeEventListener("click",f,!0)})}}])}();Wz.tag="MobileInteraction";/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Iy=function(e,t){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Iy(e,t)};function pi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Iy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Qr(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,[])).next())})}function vr(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Es=function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),gb=function(e,t){return Es.fromClientRect(e,t.getBoundingClientRect())},ng=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},cn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},IC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yf=0;yf<IC.length;yf++)Yz[IC.charCodeAt(yf)]=yf;var LC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mf=0;mf<LC.length;mf++)Dc[LC.charCodeAt(mf)]=mf;var Xz=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=Dc[e.charCodeAt(r)],o=Dc[e.charCodeAt(r+1)],s=Dc[e.charCodeAt(r+2)],A=Dc[e.charCodeAt(r+3)],l[i++]=a<<2|o>>4,l[i++]=(o&15)<<4|s>>2,l[i++]=(s&3)<<6|A&63;return c},qz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Zz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},ls=5,vb=11,k0=2,Jz=vb-ls,xQ=65536>>ls,eV=1<<ls,T0=eV-1,tV=1024>>ls,nV=xQ+tV,rV=nV,iV=32,aV=rV+iV,oV=65536>>vb,sV=1<<Jz,AV=sV-1,UC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},cV=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},lV=function(e,t){var n=Xz(e),r=Array.isArray(n)?Zz(n):new Uint32Array(n),i=Array.isArray(n)?qz(n):new Uint16Array(n),a=24,o=UC(i,a/2,r[4]/2),s=r[5]===2?UC(i,(a+r[4])/2):cV(r,Math.ceil((a+r[4])/4));return new uV(r[0],r[1],r[2],r[3],o,s)},uV=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>ls],n=(n<<k0)+(t&T0),this.data[n];if(t<=65535)return n=this.index[xQ+(t-55296>>ls)],n=(n<<k0)+(t&T0),this.data[n];if(t<this.highStart)return n=aV-oV+(t>>vb),n=this.index[n],n+=t>>ls&AV,n=this.index[n],n=(n<<k0)+(t&T0),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),PC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bf=0;bf<PC.length;bf++)fV[PC.charCodeAt(bf)]=bf;var dV="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",NC=50,hV=1,CQ=2,EQ=3,pV=4,gV=5,RC=7,OQ=8,HC=9,to=10,Ly=11,DC=12,Uy=13,vV=14,jc=15,Py=16,wf=17,Sc=18,yV=19,jC=20,Ny=21,Fc=22,Q0=23,Ws=24,yr=25,$c=26,Kc=27,Ys=28,mV=29,Zo=30,bV=31,Bf=32,xf=33,Ry=34,Hy=35,Dy=36,ql=37,jy=38,Id=39,Ld=40,I0=41,SQ=42,wV=43,BV=[9001,65288],FQ="!",et="",Cf="",$y=lV(dV),sa=[Zo,Dy],Ky=[hV,CQ,EQ,gV],_Q=[to,OQ],$C=[Kc,$c],xV=Ky.concat(_Q),KC=[jy,Id,Ld,Ry,Hy],CV=[jc,Uy],EV=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(a,o){var s=$y.get(a);if(s>NC?(i.push(!0),s-=NC):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(Py);if(s===pV||s===Ly){if(o===0)return r.push(o),n.push(Zo);var A=n[o-1];return xV.indexOf(A)===-1?(r.push(r[o-1]),n.push(A)):(r.push(o),n.push(Zo))}if(r.push(o),s===bV)return n.push(t==="strict"?Ny:ql);if(s===SQ||s===mV)return n.push(Zo);if(s===wV)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(ql):n.push(Zo);n.push(s)}),[r,n,i]},L0=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==to)break}if(i===to)for(var a=n;a>0;){a--;var s=r[a];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var A=n;A<=r.length;){A++;var o=r[A];if(o===t)return!0;if(o!==to)break}if(s!==to)break}return!1},GC=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===to)n--;else return r}return 0},OV=function(e,t,n,r,i){if(n[r]===0)return et;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return et;var o=a-1,s=a+1,A=t[a],c=o>=0?t[o]:0,l=t[s];if(A===CQ&&l===EQ)return et;if(Ky.indexOf(A)!==-1)return FQ;if(Ky.indexOf(l)!==-1||_Q.indexOf(l)!==-1)return et;if(GC(a,t)===OQ)return Cf;if($y.get(e[a])===Ly||(A===Bf||A===xf)&&$y.get(e[s])===Ly||A===RC||l===RC||A===HC||[to,Uy,jc].indexOf(A)===-1&&l===HC||[wf,Sc,yV,Ws,Ys].indexOf(l)!==-1||GC(a,t)===Fc||L0(Q0,Fc,a,t)||L0([wf,Sc],Ny,a,t)||L0(DC,DC,a,t))return et;if(A===to)return Cf;if(A===Q0||l===Q0)return et;if(l===Py||A===Py)return Cf;if([Uy,jc,Ny].indexOf(l)!==-1||A===vV||c===Dy&&CV.indexOf(A)!==-1||A===Ys&&l===Dy||l===jC||sa.indexOf(l)!==-1&&A===yr||sa.indexOf(A)!==-1&&l===yr||A===Kc&&[ql,Bf,xf].indexOf(l)!==-1||[ql,Bf,xf].indexOf(A)!==-1&&l===$c||sa.indexOf(A)!==-1&&$C.indexOf(l)!==-1||$C.indexOf(A)!==-1&&sa.indexOf(l)!==-1||[Kc,$c].indexOf(A)!==-1&&(l===yr||[Fc,jc].indexOf(l)!==-1&&t[s+1]===yr)||[Fc,jc].indexOf(A)!==-1&&l===yr||A===yr&&[yr,Ys,Ws].indexOf(l)!==-1)return et;if([yr,Ys,Ws,wf,Sc].indexOf(l)!==-1)for(var u=a;u>=0;){var f=t[u];if(f===yr)return et;if([Ys,Ws].indexOf(f)!==-1)u--;else break}if([Kc,$c].indexOf(l)!==-1)for(var u=[wf,Sc].indexOf(A)!==-1?o:a;u>=0;){var f=t[u];if(f===yr)return et;if([Ys,Ws].indexOf(f)!==-1)u--;else break}if(jy===A&&[jy,Id,Ry,Hy].indexOf(l)!==-1||[Id,Ry].indexOf(A)!==-1&&[Id,Ld].indexOf(l)!==-1||[Ld,Hy].indexOf(A)!==-1&&l===Ld||KC.indexOf(A)!==-1&&[jC,$c].indexOf(l)!==-1||KC.indexOf(l)!==-1&&A===Kc||sa.indexOf(A)!==-1&&sa.indexOf(l)!==-1||A===Ws&&sa.indexOf(l)!==-1||sa.concat(yr).indexOf(A)!==-1&&l===Fc&&BV.indexOf(e[s])===-1||sa.concat(yr).indexOf(l)!==-1&&A===Sc)return et;if(A===I0&&l===I0){for(var d=n[a],h=1;d>0&&(d--,t[d]===I0);)h++;if(h%2!==0)return et}return A===Bf&&l===xf?et:Cf},SV=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=EV(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(s){return[yr,Zo,SQ].indexOf(s)!==-1?ql:s}));var o=t.wordBreak==="keep-all"?a.map(function(s,A){return s&&e[A]>=19968&&e[A]<=40959}):void 0;return[r,i,o]},FV=function(){function e(t,n,r,i){this.codePoints=t,this.required=n===FQ,this.start=r,this.end=i}return e.prototype.slice=function(){return cn.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),_V=function(e,t){var n=ng(e),r=SV(n,t),i=r[0],a=r[1],o=r[2],s=n.length,A=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var l=et;c<s&&(l=OV(n,a,i,++c,o))===et;);if(l!==et||c===s){var u=new FV(n,l,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},MV=1,kV=2,Pu=4,zC=8,Sh=10,VC=47,ml=92,TV=9,QV=32,Ef=34,_c=61,IV=35,LV=36,UV=37,Of=39,Sf=40,Mc=41,PV=95,fr=45,NV=33,RV=60,HV=62,DV=64,jV=91,$V=93,KV=61,GV=123,Ff=63,zV=125,WC=124,VV=126,WV=128,YC=65533,U0=42,ts=43,YV=44,XV=58,qV=59,Zl=46,ZV=0,JV=8,eW=11,tW=14,nW=31,rW=127,bi=-1,MQ=48,kQ=97,TQ=101,iW=102,aW=117,oW=122,QQ=65,IQ=69,LQ=70,sW=85,AW=90,Hn=function(e){return e>=MQ&&e<=57},cW=function(e){return e>=55296&&e<=57343},Xs=function(e){return Hn(e)||e>=QQ&&e<=LQ||e>=kQ&&e<=iW},lW=function(e){return e>=kQ&&e<=oW},uW=function(e){return e>=QQ&&e<=AW},fW=function(e){return lW(e)||uW(e)},dW=function(e){return e>=WV},_f=function(e){return e===Sh||e===TV||e===QV},Fh=function(e){return fW(e)||dW(e)||e===PV},XC=function(e){return Fh(e)||Hn(e)||e===fr},hW=function(e){return e>=ZV&&e<=JV||e===eW||e>=tW&&e<=nW||e===rW},Va=function(e,t){return e!==ml?!1:t!==Sh},Mf=function(e,t,n){return e===fr?Fh(t)||Va(t,n):Fh(e)?!0:!!(e===ml&&Va(e,t))},P0=function(e,t,n){return e===ts||e===fr?Hn(t)?!0:t===Zl&&Hn(n):Hn(e===Zl?t:e)},pW=function(e){var t=0,n=1;(e[t]===ts||e[t]===fr)&&(e[t]===fr&&(n=-1),t++);for(var r=[];Hn(e[t]);)r.push(e[t++]);var i=r.length?parseInt(cn.apply(void 0,r),10):0;e[t]===Zl&&t++;for(var a=[];Hn(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(cn.apply(void 0,a),10):0;(e[t]===IQ||e[t]===TQ)&&t++;var A=1;(e[t]===ts||e[t]===fr)&&(e[t]===fr&&(A=-1),t++);for(var c=[];Hn(e[t]);)c.push(e[t++]);var l=c.length?parseInt(cn.apply(void 0,c),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,A*l)},gW={type:2},vW={type:3},yW={type:4},mW={type:13},bW={type:8},wW={type:21},BW={type:9},xW={type:10},CW={type:11},EW={type:12},OW={type:14},kf={type:23},SW={type:1},FW={type:25},_W={type:24},MW={type:26},kW={type:27},TW={type:28},QW={type:29},IW={type:31},Gy={type:32},UQ=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(ng(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==Gy;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Ef:return this.consumeStringToken(Ef);case IV:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(XC(n)||Va(r,i)){var a=Mf(n,r,i)?kV:MV,o=this.consumeName();return{type:5,value:o,flags:a}}break;case LV:if(this.peekCodePoint(0)===_c)return this.consumeCodePoint(),mW;break;case Of:return this.consumeStringToken(Of);case Sf:return gW;case Mc:return vW;case U0:if(this.peekCodePoint(0)===_c)return this.consumeCodePoint(),OW;break;case ts:if(P0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case YV:return yW;case fr:var s=t,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(P0(s,A,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Mf(s,A,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===fr&&c===HV)return this.consumeCodePoint(),this.consumeCodePoint(),_W;break;case Zl:if(P0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case VC:if(this.peekCodePoint(0)===U0)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===U0&&(l=this.consumeCodePoint(),l===VC))return this.consumeToken();if(l===bi)return this.consumeToken()}break;case XV:return MW;case qV:return kW;case RV:if(this.peekCodePoint(0)===NV&&this.peekCodePoint(1)===fr&&this.peekCodePoint(2)===fr)return this.consumeCodePoint(),this.consumeCodePoint(),FW;break;case DV:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Mf(u,f,d)){var o=this.consumeName();return{type:7,value:o}}break;case jV:return TW;case ml:if(Va(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case $V:return QW;case KV:if(this.peekCodePoint(0)===_c)return this.consumeCodePoint(),bW;break;case GV:return CW;case zV:return EW;case aW:case sW:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h===ts&&(Xs(p)||p===Ff)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case WC:if(this.peekCodePoint(0)===_c)return this.consumeCodePoint(),BW;if(this.peekCodePoint(0)===WC)return this.consumeCodePoint(),wW;break;case VV:if(this.peekCodePoint(0)===_c)return this.consumeCodePoint(),xW;break;case bi:return Gy}return _f(t)?(this.consumeWhiteSpace(),IW):Hn(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Fh(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:cn(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Xs(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===Ff&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(cn.apply(void 0,t.map(function(A){return A===Ff?MQ:A})),16),a=parseInt(cn.apply(void 0,t.map(function(A){return A===Ff?LQ:A})),16);return{type:30,start:i,end:a}}var o=parseInt(cn.apply(void 0,t),16);if(this.peekCodePoint(0)===fr&&Xs(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var s=[];Xs(n)&&s.length<6;)s.push(n),n=this.consumeCodePoint();var a=parseInt(cn.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Sf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Sf?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===bi)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Of||n===Ef){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===bi||this.peekCodePoint(0)===Mc)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),kf)}for(;;){var i=this.consumeCodePoint();if(i===bi||i===Mc)return{type:22,value:cn.apply(void 0,t)};if(_f(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===bi||this.peekCodePoint(0)===Mc?(this.consumeCodePoint(),{type:22,value:cn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),kf);if(i===Ef||i===Of||i===Sf||hW(i))return this.consumeBadUrlRemnants(),kf;if(i===ml)if(Va(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),kf;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;_f(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Mc||t===bi)return;Va(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=cn.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===bi||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===Sh)return this._value.splice(0,r),SW;if(i===ml){var a=this._value[r+1];a!==bi&&a!==void 0&&(a===Sh?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Va(i,a)&&(n+=this.consumeStringSlice(r),n+=cn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Pu,r=this.peekCodePoint(0);for((r===ts||r===fr)&&t.push(this.consumeCodePoint());Hn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Zl&&Hn(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=zC;Hn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===IQ||r===TQ)&&((i===ts||i===fr)&&Hn(a)||Hn(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=zC;Hn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[pW(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Mf(i,a,o)){var s=this.consumeName();return{type:15,number:n,flags:r,unit:s}}return i===UV?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Xs(t)){for(var n=cn(t);Xs(this.peekCodePoint(0))&&n.length<6;)n+=cn(this.consumeCodePoint());_f(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||cW(r)||r>1114111?YC:r}return t===bi?YC:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(XC(n))t+=cn(n);else if(Va(n,this.peekCodePoint(0)))t+=cn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),PQ=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new UQ;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||LW(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Gy:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Nu=function(e){return e.type===15},rg=function(e){return e.type===17},nn=function(e){return e.type===20},zy=function(e,t){return nn(e)&&e.value===t},ig=function(e){return e.type!==31&&e.type!==4},ra=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},LW=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},mo=function(e){return e.type===17||e.type===15},yn=function(e){return e.type===16||mo(e)},NQ=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Qn={type:17,number:0,flags:Pu},yb={type:16,number:50,flags:Pu},no={type:16,number:100,flags:Pu},Gc=function(e,t,n){var r=e[0],i=e[1];return[Tt(r,t),Tt(typeof i<"u"?i:r,n)]},Tt=function(e,t){if(e.type===16)return e.number/100*t;if(Nu(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},RQ="deg",HQ="grad",DQ="rad",jQ="turn",ag={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case RQ:return Math.PI*t.number/180;case HQ:return Math.PI/200*t.number;case DQ:return t.number;case jQ:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},$Q=function(e){return e.type===15&&(e.unit===RQ||e.unit===HQ||e.unit===DQ||e.unit===jQ)},KQ=function(e){var t=e.filter(nn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qn,Qn];case"to top":case"bottom":return Dr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qn,no];case"to right":case"left":return Dr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[no,no];case"to bottom":case"top":return Dr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[no,Qn];case"to left":case"right":return Dr(270)}return 0},Dr=function(e){return Math.PI*e/180},fo={name:"color",parse:function(e,t){if(t.type===18){var n=UW[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ro(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return ro(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return ro(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return ro(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var s=Jl[t.value.toUpperCase()];if(typeof s<"u")return s}return Jl.TRANSPARENT}},EA=function(e){return(255&e)===0},Fn=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},ro=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},qC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},ZC=function(e,t){var n=t.filter(ig);if(n.length===3){var r=n.map(qC),i=r[0],a=r[1],o=r[2];return ro(i,a,o,1)}if(n.length===4){var s=n.map(qC),i=s[0],a=s[1],o=s[2],A=s[3];return ro(i,a,o,A)}return 0};function N0(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var JC=function(e,t){var n=t.filter(ig),r=n[0],i=n[1],a=n[2],o=n[3],s=(r.type===17?Dr(r.number):ag.parse(e,r))/(Math.PI*2),A=yn(i)?i.number/100:0,c=yn(a)?a.number/100:0,l=typeof o<"u"&&yn(o)?Tt(o,1):1;if(A===0)return ro(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,f=c*2-u,d=N0(f,u,s+1/3),h=N0(f,u,s),p=N0(f,u,s-1/3);return ro(d*255,h*255,p*255,l)},UW={hsl:JC,hsla:JC,rgb:ZC,rgba:ZC},e2=function(e,t){return fo.parse(e,PQ.create(t).parseComponentValue())},Jl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},PW={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NW={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},og=function(e,t){var n=fo.parse(e,t[0]),r=t[1];return r&&yn(r)?{color:n,stop:r}:{color:n,stop:null}},t2=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Qn),r.stop===null&&(r.stop=no);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(s!==null){var A=Tt(s,t);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var l=i[o];if(l===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,f=i[c-1],d=(l-f)/(u+1),h=1;h<=u;h++)i[c+h-1]=d*h;c=null}}return e.map(function(p,g){var v=p.color;return{color:v,stop:Math.max(Math.min(1,i[g]/t),0)}})},RW=function(e,t,n){var r=t/2,i=n/2,a=Tt(e[0],t)-r,o=i-Tt(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},HW=function(e,t,n){var r=typeof e=="number"?e:RW(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,A=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,a-c,a+c,o-A,o+A]},ri=function(e,t){return Math.sqrt(e*e+t*t)},n2=function(e,t,n,r,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,s){var A=s[0],c=s[1],l=ri(n-A,r-c);return(i?l<o.optimumDistance:l>o.optimumDistance)?{optimumCorner:s,optimumDistance:l}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},DW=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(ri(t,n),ri(t,n-i),ri(t-r,n),ri(t-r,n-i));else if(e.shape===1){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=n2(r,i,t,n,!0),c=A[0],l=A[1];a=ri(c-t,(l-n)/s),o=s*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(ri(t,n),ri(t,n-i),ri(t-r,n),ri(t-r,n-i));else if(e.shape===1){var s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),u=n2(r,i,t,n,!1),c=u[0],l=u[1];a=ri(c-t,(l-n)/s),o=s*a}break}return Array.isArray(e.size)&&(a=Tt(e.size[0],r),o=e.size.length===2?Tt(e.size[1],i):a),[a,o]},jW=function(e,t){var n=Dr(180),r=[];return ra(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=KQ(i);return}else if($Q(o)){n=ag.parse(e,o);return}}var s=og(e,i);r.push(s)}),{angle:n,stops:r,type:1}},Tf=function(e,t){var n=Dr(180),r=[];return ra(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=KQ(i);return}else if($Q(o)){n=(ag.parse(e,o)+Dr(270))%Dr(360);return}}var s=og(e,i);r.push(s)}),{angle:n,stops:r,type:1}},$W=function(e,t){var n=Dr(180),r=[],i=1,a=0,o=3,s=[];return ra(t).forEach(function(A,c){var l=A[0];if(c===0){if(nn(l)&&l.value==="linear"){i=1;return}else if(nn(l)&&l.value==="radial"){i=2;return}}if(l.type===18){if(l.name==="from"){var u=fo.parse(e,l.values[0]);r.push({stop:Qn,color:u})}else if(l.name==="to"){var u=fo.parse(e,l.values[0]);r.push({stop:no,color:u})}else if(l.name==="color-stop"){var f=l.values.filter(ig);if(f.length===2){var u=fo.parse(e,f[1]),d=f[0];rg(d)&&r.push({stop:{type:16,number:d.number*100,flags:d.flags},color:u})}}}}),i===1?{angle:(n+Dr(180))%Dr(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}},GQ="closest-side",zQ="farthest-side",VQ="closest-corner",WQ="farthest-corner",YQ="circle",XQ="ellipse",qQ="cover",ZQ="contain",KW=function(e,t){var n=0,r=3,i=[],a=[];return ra(t).forEach(function(o,s){var A=!0;if(s===0){var c=!1;A=o.reduce(function(u,f){if(c)if(nn(f))switch(f.value){case"center":return a.push(yb),u;case"top":case"left":return a.push(Qn),u;case"right":case"bottom":return a.push(no),u}else(yn(f)||mo(f))&&a.push(f);else if(nn(f))switch(f.value){case YQ:return n=0,!1;case XQ:return n=1,!1;case"at":return c=!0,!1;case GQ:return r=0,!1;case qQ:case zQ:return r=1,!1;case ZQ:case VQ:return r=2,!1;case WQ:return r=3,!1}else if(mo(f)||yn(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},A)}if(A){var l=og(e,o);i.push(l)}}),{size:r,shape:n,stops:i,position:a,type:2}},Qf=function(e,t){var n=0,r=3,i=[],a=[];return ra(t).forEach(function(o,s){var A=!0;if(s===0?A=o.reduce(function(l,u){if(nn(u))switch(u.value){case"center":return a.push(yb),!1;case"top":case"left":return a.push(Qn),!1;case"right":case"bottom":return a.push(no),!1}else if(yn(u)||mo(u))return a.push(u),!1;return l},A):s===1&&(A=o.reduce(function(l,u){if(nn(u))switch(u.value){case YQ:return n=0,!1;case XQ:return n=1,!1;case ZQ:case GQ:return r=0,!1;case zQ:return r=1,!1;case VQ:return r=2,!1;case qQ:case WQ:return r=3,!1}else if(mo(u)||yn(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return l},A)),A){var c=og(e,o);i.push(c)}}),{size:r,shape:n,stops:i,position:a,type:2}},GW=function(e){return e.type===1},zW=function(e){return e.type===2},mb={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=JQ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function VW(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!JQ[e.name])}var JQ={"linear-gradient":jW,"-moz-linear-gradient":Tf,"-ms-linear-gradient":Tf,"-o-linear-gradient":Tf,"-webkit-linear-gradient":Tf,"radial-gradient":KW,"-moz-radial-gradient":Qf,"-ms-radial-gradient":Qf,"-o-radial-gradient":Qf,"-webkit-radial-gradient":Qf,"-webkit-gradient":$W},WW={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return ig(r)&&VW(r)}).map(function(r){return mb.parse(e,r)})}},YW={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},XW={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return ra(t).map(function(n){return n.filter(yn)}).map(NQ)}},qW={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return ra(t).map(function(n){return n.filter(nn).map(function(r){return r.value}).join(" ")}).map(ZW)}},ZW=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},OA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(OA||(OA={}));var JW={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return ra(t).map(function(n){return n.filter(eY)})}},eY=function(e){return nn(e)||yn(e)},sg=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},tY=sg("top"),nY=sg("right"),rY=sg("bottom"),iY=sg("left"),Ag=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return NQ(n.filter(yn))}}},aY=Ag("top-left"),oY=Ag("top-right"),sY=Ag("bottom-right"),AY=Ag("bottom-left"),cg=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cY=cg("top"),lY=cg("right"),uY=cg("bottom"),fY=cg("left"),lg=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Nu(n)?n.number:0}}},dY=lg("top"),hY=lg("right"),pY=lg("bottom"),gY=lg("left"),vY={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yY={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},mY={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).reduce(function(n,r){return n|bY(r.value)},0)}},bY=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},wY={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},BY={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},_h;(function(e){e.NORMAL="normal",e.STRICT="strict"})(_h||(_h={}));var xY={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return _h.STRICT;case"normal":default:return _h.NORMAL}}},CY={name:"line-height",initialValue:"normal",prefix:!1,type:4},r2=function(e,t){return nn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:yn(e)?Tt(e,t):t},EY={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:mb.parse(e,t)}},OY={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},SY={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ug=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},FY=ug("top"),_Y=ug("right"),MY=ug("bottom"),kY=ug("left"),TY={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},QY={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},fg=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},IY=fg("top"),LY=fg("right"),UY=fg("bottom"),PY=fg("left"),NY={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},RY={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},HY={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&zy(t[0],"none")?[]:ra(t).map(function(n){for(var r={color:Jl.TRANSPARENT,offsetX:Qn,offsetY:Qn,blur:Qn},i=0,a=0;a<n.length;a++){var o=n[a];mo(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=fo.parse(e,o)}return r})}},DY={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},jY={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=GY[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},$Y=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},KY=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],t.length===16?[n,r,i,a,o,s]:null},GY={matrix:$Y,matrix3d:KY},i2={type:16,number:50,flags:Pu},zY=[i2,i2],VY={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(yn);return n.length!==2?zY:[n[0],n[1]]}},WY={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bl;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(bl||(bl={}));var YY={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return bl.BREAK_ALL;case"keep-all":return bl.KEEP_ALL;case"normal":default:return bl.NORMAL}}},XY={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(rg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},eI={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},qY={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return rg(t)?t.number:1}},ZY={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JY={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},eX={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},tX={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nX={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(rg(t))return t.number;if(nn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},rX={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(nn).map(function(n){return n.value})}},iX={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},wn=function(e,t){return(e&t)!==0},aX={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Nu).map(function(n){return eI.parse(e,n)})}},oX={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&zy(t[0],"none")?[]:ra(t).map(function(n){for(var r={color:255,offsetX:Qn,offsetY:Qn,blur:Qn,spread:Qn,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];zy(o,"inset")?r.inset=!0:mo(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=fo.parse(e,o)}return r})}},sX={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(nn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},AX={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},cX={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Nu(t)?t.number:0}},lX=function(){function e(t,n){var r,i;this.animationDuration=Be(t,aX,n.animationDuration),this.backgroundClip=Be(t,PW,n.backgroundClip),this.backgroundColor=Be(t,NW,n.backgroundColor),this.backgroundImage=Be(t,WW,n.backgroundImage),this.backgroundOrigin=Be(t,YW,n.backgroundOrigin),this.backgroundPosition=Be(t,XW,n.backgroundPosition),this.backgroundRepeat=Be(t,qW,n.backgroundRepeat),this.backgroundSize=Be(t,JW,n.backgroundSize),this.borderTopColor=Be(t,tY,n.borderTopColor),this.borderRightColor=Be(t,nY,n.borderRightColor),this.borderBottomColor=Be(t,rY,n.borderBottomColor),this.borderLeftColor=Be(t,iY,n.borderLeftColor),this.borderTopLeftRadius=Be(t,aY,n.borderTopLeftRadius),this.borderTopRightRadius=Be(t,oY,n.borderTopRightRadius),this.borderBottomRightRadius=Be(t,sY,n.borderBottomRightRadius),this.borderBottomLeftRadius=Be(t,AY,n.borderBottomLeftRadius),this.borderTopStyle=Be(t,cY,n.borderTopStyle),this.borderRightStyle=Be(t,lY,n.borderRightStyle),this.borderBottomStyle=Be(t,uY,n.borderBottomStyle),this.borderLeftStyle=Be(t,fY,n.borderLeftStyle),this.borderTopWidth=Be(t,dY,n.borderTopWidth),this.borderRightWidth=Be(t,hY,n.borderRightWidth),this.borderBottomWidth=Be(t,pY,n.borderBottomWidth),this.borderLeftWidth=Be(t,gY,n.borderLeftWidth),this.boxShadow=Be(t,oX,n.boxShadow),this.color=Be(t,vY,n.color),this.direction=Be(t,yY,n.direction),this.display=Be(t,mY,n.display),this.float=Be(t,wY,n.cssFloat),this.fontFamily=Be(t,eX,n.fontFamily),this.fontSize=Be(t,tX,n.fontSize),this.fontStyle=Be(t,iX,n.fontStyle),this.fontVariant=Be(t,rX,n.fontVariant),this.fontWeight=Be(t,nX,n.fontWeight),this.letterSpacing=Be(t,BY,n.letterSpacing),this.lineBreak=Be(t,xY,n.lineBreak),this.lineHeight=Be(t,CY,n.lineHeight),this.listStyleImage=Be(t,EY,n.listStyleImage),this.listStylePosition=Be(t,OY,n.listStylePosition),this.listStyleType=Be(t,SY,n.listStyleType),this.marginTop=Be(t,FY,n.marginTop),this.marginRight=Be(t,_Y,n.marginRight),this.marginBottom=Be(t,MY,n.marginBottom),this.marginLeft=Be(t,kY,n.marginLeft),this.opacity=Be(t,qY,n.opacity);var a=Be(t,TY,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Be(t,QY,n.overflowWrap),this.paddingTop=Be(t,IY,n.paddingTop),this.paddingRight=Be(t,LY,n.paddingRight),this.paddingBottom=Be(t,UY,n.paddingBottom),this.paddingLeft=Be(t,PY,n.paddingLeft),this.paintOrder=Be(t,sX,n.paintOrder),this.position=Be(t,RY,n.position),this.textAlign=Be(t,NY,n.textAlign),this.textDecorationColor=Be(t,ZY,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Be(t,JY,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Be(t,HY,n.textShadow),this.textTransform=Be(t,DY,n.textTransform),this.transform=Be(t,jY,n.transform),this.transformOrigin=Be(t,VY,n.transformOrigin),this.visibility=Be(t,WY,n.visibility),this.webkitTextStrokeColor=Be(t,AX,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Be(t,cX,n.webkitTextStrokeWidth),this.wordBreak=Be(t,YY,n.wordBreak),this.zIndex=Be(t,XY,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return EA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return wn(this.display,4)||wn(this.display,33554432)||wn(this.display,268435456)||wn(this.display,536870912)||wn(this.display,67108864)||wn(this.display,134217728)},e}(),Be=function(e,t,n){var r=new UQ,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var a=new PQ(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,nn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return ag.parse(e,a.parseComponentValue());case"color":return fo.parse(e,a.parseComponentValue());case"image":return mb.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return mo(s)?s:Qn;case"length-percentage":var A=a.parseComponentValue();return yn(A)?A:Qn;case"time":return eI.parse(e,a.parseComponentValue())}break}},uX="data-html2canvas-debug",fX=function(e){var t=e.getAttribute(uX);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},a2=function(e,t){var n=fX(e);return n===1||t===n},ia=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,a2(n,3))debugger;this.styles=new lX(t,window.getComputedStyle(n,null)),fq(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=gb(this.context,n),a2(n,4)&&(this.flags|=16)}return e}(),dX="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",o2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var If=0;If<o2.length;If++)zc[o2.charCodeAt(If)]=If;var hX=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=zc[e.charCodeAt(r)],o=zc[e.charCodeAt(r+1)],s=zc[e.charCodeAt(r+2)],A=zc[e.charCodeAt(r+3)],l[i++]=a<<2|o>>4,l[i++]=(o&15)<<4|s>>2,l[i++]=(s&3)<<6|A&63;return c},pX=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},gX=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},us=5,bb=11,R0=2,vX=bb-us,tI=65536>>us,yX=1<<us,H0=yX-1,mX=1024>>us,bX=tI+mX,wX=bX,BX=32,xX=wX+BX,CX=65536>>bb,EX=1<<vX,OX=EX-1,s2=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},SX=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},FX=function(e,t){var n=hX(e),r=Array.isArray(n)?gX(n):new Uint32Array(n),i=Array.isArray(n)?pX(n):new Uint16Array(n),a=24,o=s2(i,a/2,r[4]/2),s=r[5]===2?s2(i,(a+r[4])/2):SX(r,Math.ceil((a+r[4])/4));return new _X(r[0],r[1],r[2],r[3],o,s)},_X=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>us],n=(n<<R0)+(t&H0),this.data[n];if(t<=65535)return n=this.index[tI+(t-55296>>us)],n=(n<<R0)+(t&H0),this.data[n];if(t<this.highStart)return n=xX-CX+(t>>bb),n=this.index[n],n+=t>>us&OX,n=this.index[n],n=(n<<R0)+(t&H0),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),A2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lf=0;Lf<A2.length;Lf++)MX[A2.charCodeAt(Lf)]=Lf;var kX=1,D0=2,j0=3,c2=4,l2=5,TX=7,u2=8,$0=9,K0=10,f2=11,d2=12,h2=13,p2=14,G0=15,QX=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},IX=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},LX=FX(dX),Ir="",z0="",UX=function(e){return LX.get(e)},PX=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===D0&&o===j0)return Ir;if(a===D0||a===j0||a===c2||o===D0||o===j0||o===c2)return z0;if(a===u2&&[u2,$0,f2,d2].indexOf(o)!==-1||(a===f2||a===$0)&&(o===$0||o===K0)||(a===d2||a===K0)&&o===K0||o===h2||o===l2||o===TX||a===kX)return Ir;if(a===h2&&o===p2){for(;i===l2;)i=t[--r];if(i===p2)return Ir}if(a===G0&&o===G0){for(var s=0;i===G0;)s++,i=t[--r];if(s%2===0)return Ir}return z0},NX=function(e){var t=QX(e),n=t.length,r=0,i=0,a=t.map(UX);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Ir;r<n&&(o=PX(t,a,++r))===Ir;);if(o!==Ir||r===n){var s=IX.apply(null,t.slice(i,r));return i=r,{value:s,done:!1}}return{done:!0,value:null}}}},RX=function(e){for(var t=NX(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},HX=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},DX=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=ng(r.data).map(function(A){return cn(A)}),a=0,o={},s=i.every(function(A,c){n.setStart(r,a),n.setEnd(r,a+A.length);var l=n.getBoundingClientRect();a+=A.length;var u=l.x>o.x||l.y>o.y;return o=l,c===0?!0:u});return e.body.removeChild(t),s},jX=function(){return typeof new Image().crossOrigin<"u"},$X=function(){return typeof new XMLHttpRequest().responseType=="string"},KX=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},g2=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},GX=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=Vy(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),v2(o).then(function(s){r.drawImage(s,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=e.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=n+"px",g2(A)?v2(Vy(n,n,0,0,c)):Promise.reject(!1)}).then(function(s){return r.drawImage(s,0,0),g2(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Vy=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},v2=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},wr={get SUPPORT_RANGE_BOUNDS(){var e=HX(document);return Object.defineProperty(wr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=wr.SUPPORT_RANGE_BOUNDS&&DX(document);return Object.defineProperty(wr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=KX(document);return Object.defineProperty(wr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?GX(document):Promise.resolve(!1);return Object.defineProperty(wr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=jX();return Object.defineProperty(wr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=$X();return Object.defineProperty(wr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(wr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(wr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},wl=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),zX=function(e,t,n,r){var i=YX(t,n),a=[],o=0;return i.forEach(function(s){if(n.textDecorationLine.length||s.trim().length>0)if(wr.SUPPORT_RANGE_BOUNDS){var A=y2(r,o,s.length).getClientRects();if(A.length>1){var c=wb(s),l=0;c.forEach(function(f){a.push(new wl(f,Es.fromDOMRectList(e,y2(r,l+o,f.length).getClientRects()))),l+=f.length})}else a.push(new wl(s,Es.fromDOMRectList(e,A)))}else{var u=r.splitText(s.length);a.push(new wl(s,VX(e,r))),r=u}else wr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(s.length));o+=s.length}),a},VX=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=gb(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return Es.EMPTY},y2=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},wb=function(e){if(wr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return RX(e)},WX=function(e,t){if(wr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return qX(e,t)},YX=function(e,t){return t.letterSpacing!==0?wb(e):WX(e,t)},XX=[32,160,4961,65792,65793,4153,4241],qX=function(e,t){for(var n=_V(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),s=ng(o),A="";s.forEach(function(c){XX.indexOf(c)===-1?A+=cn(c):(A.length&&r.push(A),r.push(cn(c)),A="")}),A.length&&r.push(A)}};!(i=n.next()).done;)a();return r},ZX=function(){function e(t,n,r){this.text=JX(n.data,r.textTransform),this.textBounds=zX(t,this.text,r,n)}return e}(),JX=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(eq,tq);case 2:return e.toUpperCase();default:return e}},eq=/(^|\s|:|-|\(|\))([a-z])/g,tq=function(e,t,n){return e.length>0?t+n.toUpperCase():e},nI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t}(ia),rI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t}(ia),iI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=new XMLSerializer,o=gb(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(ia),aI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(ia),Wy=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t}(ia),nq=[{type:15,flags:0,unit:"px",number:3}],rq=[{type:16,flags:0,number:50}],iq=function(e){return e.width>e.height?new Es(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Es(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},aq=function(e){var t=e.type===oq?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Mh="checkbox",kh="radio",oq="password",m2=707406591,Bb=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=aq(r),(i.type===Mh||i.type===kh)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=iq(i.bounds)),i.type){case Mh:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=nq;break;case kh:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=rq;break}return i}return t}(ia),oI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(ia),sI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(ia),AI=function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Aq(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?e2(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Jl.TRANSPARENT,o=r.contentWindow.document.body?e2(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Jl.TRANSPARENT;i.backgroundColor=EA(a)?EA(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(ia),sq=["OL","UL","MENU"],Ud=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,uq(i)&&i.data.trim().length>0)n.textNodes.push(new ZX(e,i,n.styles));else if(lI(i))if(wq(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return Ud(e,s,n,r)});else{var o=cI(e,i);o.styles.isVisible()&&(cq(i,o,r)?o.flags|=4:lq(o.styles)&&(o.flags|=2),sq.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?Ud(e,i.shadowRoot,o,r):!fI(i)&&!uI(i)&&!dI(i)&&Ud(e,i,o,r))}},cI=function(e,t){return mq(t)?new nI(e,t):yq(t)?new rI(e,t):uI(t)?new iI(e,t):hq(t)?new aI(e,t):pq(t)?new Wy(e,t):gq(t)?new Bb(e,t):dI(t)?new oI(e,t):fI(t)?new sI(e,t):bq(t)?new AI(e,t):new ia(e,t)},Aq=function(e,t){var n=cI(e,t);return n.flags|=4,Ud(e,t,n,n),n},cq=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||vq(e)&&n.styles.isTransparent()},lq=function(e){return e.isPositioned()||e.isFloating()},uq=function(e){return e.nodeType===Node.TEXT_NODE},lI=function(e){return e.nodeType===Node.ELEMENT_NODE},fq=function(e){return lI(e)&&typeof e.style<"u"&&!dq(e)},dq=function(e){return typeof e.className=="object"},hq=function(e){return e.tagName==="LI"},pq=function(e){return e.tagName==="OL"},gq=function(e){return e.tagName==="INPUT"},uI=function(e){return e.tagName==="svg"},vq=function(e){return e.tagName==="BODY"},yq=function(e){return e.tagName==="CANVAS"},mq=function(e){return e.tagName==="IMG"},bq=function(e){return e.tagName==="IFRAME"},fI=function(e){return e.tagName==="TEXTAREA"},dI=function(e){return e.tagName==="SELECT"},wq=function(e){return e.tagName==="SLOT"},b2={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},w2={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qs=function(e,t,n,r,i,a){return e<t||e>n?xb(e,i,a.length>0):r.integers.reduce(function(o,s,A){for(;e>=s;)e-=s,o+=r.values[A];return o},"")+a},hI=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},an=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(hI(Math.abs(e),a,r,function(o){return cn(Math.floor(o%a)+t)})+i)},Ko=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return hI(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},oA=1,Da=2,ja=4,Vc=8,Aa=function(e,t,n,r,i,a){if(e<-9999||e>9999)return xb(e,4,i.length>0);var o=Math.abs(e),s=i;if(o===0)return t[0]+s;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&wn(a,oA)&&s!==""?s=t[c]+s:c>1||c===1&&A===0||c===1&&A===1&&wn(a,Da)||c===1&&A===1&&wn(a,ja)&&e>100||c===1&&A>1&&wn(a,Vc)?s=t[c]+(A>0?n[A-1]:"")+s:c===1&&A>0&&(s=n[A-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},B2="",x2="",C2="",V0="",xb=function(e,t,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=an(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ko(e,"",i);case 6:return qs(e,1,3999,b2,3,r).toLowerCase();case 7:return qs(e,1,3999,b2,3,r);case 8:return an(e,945,969,!1,r);case 9:return an(e,97,122,!1,r);case 10:return an(e,65,90,!1,r);case 11:return an(e,1632,1641,!0,r);case 12:case 49:return qs(e,1,9999,w2,3,r);case 35:return qs(e,1,9999,w2,3,r).toLowerCase();case 13:return an(e,2534,2543,!0,r);case 14:case 30:return an(e,6112,6121,!0,r);case 15:return Ko(e,"",i);case 16:return Ko(e,"",i);case 17:case 48:return Aa(e,"",B2,"",i,Da|ja|Vc);case 47:return Aa(e,"",x2,"",i,oA|Da|ja|Vc);case 42:return Aa(e,"",B2,"",i,Da|ja|Vc);case 41:return Aa(e,"",x2,"",i,oA|Da|ja|Vc);case 26:return Aa(e,"","",C2,i,0);case 25:return Aa(e,"","",C2,i,oA|Da|ja);case 31:return Aa(e,"","",V0,a,oA|Da|ja);case 33:return Aa(e,"","",V0,a,0);case 32:return Aa(e,"","",V0,a,oA|Da|ja);case 18:return an(e,2406,2415,!0,r);case 20:return qs(e,1,19999,xq,3,r);case 21:return an(e,2790,2799,!0,r);case 22:return an(e,2662,2671,!0,r);case 22:return qs(e,1,10999,Bq,3,r);case 23:return Ko(e,"");case 24:return Ko(e,"");case 27:return an(e,3302,3311,!0,r);case 28:return Ko(e,"",i);case 29:return Ko(e,"",i);case 34:return an(e,3792,3801,!0,r);case 37:return an(e,6160,6169,!0,r);case 38:return an(e,4160,4169,!0,r);case 39:return an(e,2918,2927,!0,r);case 40:return an(e,1776,1785,!0,r);case 43:return an(e,3046,3055,!0,r);case 44:return an(e,3174,3183,!0,r);case 45:return an(e,3664,3673,!0,r);case 46:return an(e,3872,3881,!0,r);case 3:default:return an(e,48,57,!0,r)}},E2;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(E2||(E2={}));var Cq=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),be=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Zs=function(e,t,n){return new be(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Uf=function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=Zs(this.start,this.startControl,t),i=Zs(this.startControl,this.endControl,t),a=Zs(this.endControl,this.end,t),o=Zs(r,i,t),s=Zs(i,a,t),A=Zs(o,s,t);return n?new e(this.start,r,o,A):new e(A,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Rr=function(e){return e.type===1},Eq=function(){function e(t){var n=t.styles,r=t.bounds,i=Gc(n.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],s=Gc(n.borderTopRightRadius,r.width,r.height),A=s[0],c=s[1],l=Gc(n.borderBottomRightRadius,r.width,r.height),u=l[0],f=l[1],d=Gc(n.borderBottomLeftRadius,r.width,r.height),h=d[0],p=d[1],g=[];g.push((a+A)/r.width),g.push((h+u)/r.width),g.push((o+p)/r.height),g.push((c+f)/r.height);var v=Math.max.apply(Math,g);v>1&&(a/=v,o/=v,A/=v,c/=v,u/=v,f/=v,h/=v,p/=v);var y=r.width-A,m=r.height-f,b=r.width-u,w=r.height-p,B=n.borderTopWidth,x=n.borderRightWidth,C=n.borderBottomWidth,E=n.borderLeftWidth,O=Tt(n.paddingTop,t.bounds.width),S=Tt(n.paddingRight,t.bounds.width),_=Tt(n.paddingBottom,t.bounds.width),F=Tt(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Nt(r.left+E/3,r.top+B/3,a-E/3,o-B/3,ft.TOP_LEFT):new be(r.left+E/3,r.top+B/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Nt(r.left+y,r.top+B/3,A-x/3,c-B/3,ft.TOP_RIGHT):new be(r.left+r.width-x/3,r.top+B/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?Nt(r.left+b,r.top+m,u-x/3,f-C/3,ft.BOTTOM_RIGHT):new be(r.left+r.width-x/3,r.top+r.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Nt(r.left+E/3,r.top+w,h-E/3,p-C/3,ft.BOTTOM_LEFT):new be(r.left+E/3,r.top+r.height-C/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Nt(r.left+E*2/3,r.top+B*2/3,a-E*2/3,o-B*2/3,ft.TOP_LEFT):new be(r.left+E*2/3,r.top+B*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Nt(r.left+y,r.top+B*2/3,A-x*2/3,c-B*2/3,ft.TOP_RIGHT):new be(r.left+r.width-x*2/3,r.top+B*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?Nt(r.left+b,r.top+m,u-x*2/3,f-C*2/3,ft.BOTTOM_RIGHT):new be(r.left+r.width-x*2/3,r.top+r.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Nt(r.left+E*2/3,r.top+w,h-E*2/3,p-C*2/3,ft.BOTTOM_LEFT):new be(r.left+E*2/3,r.top+r.height-C*2/3),this.topLeftBorderStroke=a>0||o>0?Nt(r.left+E/2,r.top+B/2,a-E/2,o-B/2,ft.TOP_LEFT):new be(r.left+E/2,r.top+B/2),this.topRightBorderStroke=a>0||o>0?Nt(r.left+y,r.top+B/2,A-x/2,c-B/2,ft.TOP_RIGHT):new be(r.left+r.width-x/2,r.top+B/2),this.bottomRightBorderStroke=u>0||f>0?Nt(r.left+b,r.top+m,u-x/2,f-C/2,ft.BOTTOM_RIGHT):new be(r.left+r.width-x/2,r.top+r.height-C/2),this.bottomLeftBorderStroke=h>0||p>0?Nt(r.left+E/2,r.top+w,h-E/2,p-C/2,ft.BOTTOM_LEFT):new be(r.left+E/2,r.top+r.height-C/2),this.topLeftBorderBox=a>0||o>0?Nt(r.left,r.top,a,o,ft.TOP_LEFT):new be(r.left,r.top),this.topRightBorderBox=A>0||c>0?Nt(r.left+y,r.top,A,c,ft.TOP_RIGHT):new be(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||f>0?Nt(r.left+b,r.top+m,u,f,ft.BOTTOM_RIGHT):new be(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||p>0?Nt(r.left,r.top+w,h,p,ft.BOTTOM_LEFT):new be(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Nt(r.left+E,r.top+B,Math.max(0,a-E),Math.max(0,o-B),ft.TOP_LEFT):new be(r.left+E,r.top+B),this.topRightPaddingBox=A>0||c>0?Nt(r.left+Math.min(y,r.width-x),r.top+B,y>r.width+x?0:Math.max(0,A-x),Math.max(0,c-B),ft.TOP_RIGHT):new be(r.left+r.width-x,r.top+B),this.bottomRightPaddingBox=u>0||f>0?Nt(r.left+Math.min(b,r.width-E),r.top+Math.min(m,r.height-C),Math.max(0,u-x),Math.max(0,f-C),ft.BOTTOM_RIGHT):new be(r.left+r.width-x,r.top+r.height-C),this.bottomLeftPaddingBox=h>0||p>0?Nt(r.left+E,r.top+Math.min(w,r.height-C),Math.max(0,h-E),Math.max(0,p-C),ft.BOTTOM_LEFT):new be(r.left+E,r.top+r.height-C),this.topLeftContentBox=a>0||o>0?Nt(r.left+E+F,r.top+B+O,Math.max(0,a-(E+F)),Math.max(0,o-(B+O)),ft.TOP_LEFT):new be(r.left+E+F,r.top+B+O),this.topRightContentBox=A>0||c>0?Nt(r.left+Math.min(y,r.width+E+F),r.top+B+O,y>r.width+E+F?0:A-E+F,c-(B+O),ft.TOP_RIGHT):new be(r.left+r.width-(x+S),r.top+B+O),this.bottomRightContentBox=u>0||f>0?Nt(r.left+Math.min(b,r.width-(E+F)),r.top+Math.min(m,r.height+B+O),Math.max(0,u-(x+S)),f-(C+_),ft.BOTTOM_RIGHT):new be(r.left+r.width-(x+S),r.top+r.height-(C+_)),this.bottomLeftContentBox=h>0||p>0?Nt(r.left+E+F,r.top+w,Math.max(0,h-(E+F)),p-(C+_),ft.BOTTOM_LEFT):new be(r.left+E+F,r.top+r.height-(C+_))}return e}(),ft;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ft||(ft={}));var Nt=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,s=r*a,A=e+n,c=t+r;switch(i){case ft.TOP_LEFT:return new Uf(new be(e,c),new be(e,c-s),new be(A-o,t),new be(A,t));case ft.TOP_RIGHT:return new Uf(new be(e,t),new be(e+o,t),new be(A,c-s),new be(A,c));case ft.BOTTOM_RIGHT:return new Uf(new be(A,t),new be(A,t+s),new be(e+o,c),new be(e,c));case ft.BOTTOM_LEFT:default:return new Uf(new be(A,c),new be(A-o,c),new be(e,t+s),new be(e,t))}},Th=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Oq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Qh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Sq=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),Pf=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),Fq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),_q=function(e){return e.type===0},pI=function(e){return e.type===1},Mq=function(e){return e.type===2},O2=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},kq=function(e,t,n,r,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+i);case 3:return a.add(t,n+i)}return a})},gI=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),vI=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new Eq(this.container),this.container.styles.opacity<1&&this.effects.push(new Fq(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new Sq(r,i,a))}if(this.container.styles.overflowX!==0){var o=Th(this.curves),s=Qh(this.curves);O2(o,s)?this.effects.push(new Pf(o,6)):(this.effects.push(new Pf(o,2)),this.effects.push(new Pf(s,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(A){return!pI(A)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Th(r.curves),s=Qh(r.curves);O2(o,s)||i.unshift(new Pf(s,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(A){return wn(A.target,t)})},e}(),Yy=function(e,t,n,r){e.container.elements.forEach(function(i){var a=wn(i.flags,4),o=wn(i.flags,2),s=new vI(i,e);wn(i.styles.display,2048)&&r.push(s);var A=wn(i.flags,8)?[]:r;if(a||o){var c=a||i.styles.isPositioned()?n:t,l=new gI(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var f=0;c.negativeZIndex.some(function(h,p){return u>h.element.container.styles.zIndex.order?(f=p,!1):f>0}),c.negativeZIndex.splice(f,0,l)}else if(u>0){var d=0;c.positiveZIndex.some(function(h,p){return u>=h.element.container.styles.zIndex.order?(d=p+1,!1):d>0}),c.positiveZIndex.splice(d,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);Yy(s,l,a?l:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Yy(s,t,n,A);wn(i.flags,8)&&yI(i,A)})},yI=function(e,t){for(var n=e instanceof Wy?e.start:1,r=e instanceof Wy?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof aI&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=xb(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Tq=function(e){var t=new vI(e,null),n=new gI(t),r=[];return Yy(t,n,n,r),yI(t.container,r),n},S2=function(e,t){switch(t){case 0:return jr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return jr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return jr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return jr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Qq=function(e,t){switch(t){case 0:return jr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return jr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return jr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return jr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Iq=function(e,t){switch(t){case 0:return jr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return jr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return jr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return jr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Lq=function(e,t){switch(t){case 0:return Nf(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Nf(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Nf(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Nf(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Nf=function(e,t){var n=[];return Rr(e)?n.push(e.subdivide(.5,!1)):n.push(e),Rr(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},jr=function(e,t,n,r){var i=[];return Rr(e)?i.push(e.subdivide(.5,!1)):i.push(e),Rr(n)?i.push(n.subdivide(.5,!0)):i.push(n),Rr(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Rr(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},mI=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Ih=function(e){var t=e.styles,n=e.bounds,r=Tt(t.paddingLeft,n.width),i=Tt(t.paddingRight,n.width),a=Tt(t.paddingTop,n.width),o=Tt(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Uq=function(e,t){return e===0?t.bounds:e===2?Ih(t):mI(t)},Pq=function(e,t){return e===0?t.bounds:e===2?Ih(t):mI(t)},W0=function(e,t,n){var r=Uq(sA(e.styles.backgroundOrigin,t),e),i=Pq(sA(e.styles.backgroundClip,t),e),a=Nq(sA(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],A=Gc(sA(e.styles.backgroundPosition,t),r.width-o,r.height-s),c=Rq(sA(e.styles.backgroundRepeat,t),A,a,r,i),l=Math.round(r.left+A[0]),u=Math.round(r.top+A[1]);return[c,l,u,o,s]},Js=function(e){return nn(e)&&e.value===OA.AUTO},Rf=function(e){return typeof e=="number"},Nq=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(yn(o)&&s&&yn(s))return[Tt(o,n.width),Tt(s,n.height)];var A=Rf(a);if(nn(o)&&(o.value===OA.CONTAIN||o.value===OA.COVER)){if(Rf(a)){var c=n.width/n.height;return c<a!=(o.value===OA.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var l=Rf(r),u=Rf(i),f=l||u;if(Js(o)&&(!s||Js(s))){if(l&&u)return[r,i];if(!A&&!f)return[n.width,n.height];if(f&&A){var d=l?r:i*a,h=u?i:r/a;return[d,h]}var p=l?r:n.width,g=u?i:n.height;return[p,g]}if(A){var v=0,y=0;return yn(o)?v=Tt(o,n.width):yn(s)&&(y=Tt(s,n.height)),Js(o)?v=y*a:(!s||Js(s))&&(y=v/a),[v,y]}var m=null,b=null;if(yn(o)?m=Tt(o,n.width):s&&yn(s)&&(b=Tt(s,n.height)),m!==null&&(!s||Js(s))&&(b=l&&u?m/r*i:n.height),b!==null&&Js(o)&&(m=l&&u?b/i*r:n.width),m!==null&&b!==null)return[m,b];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Rq=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],A=n[1];switch(e){case 2:return[new be(Math.round(r.left),Math.round(r.top+o)),new be(Math.round(r.left+r.width),Math.round(r.top+o)),new be(Math.round(r.left+r.width),Math.round(A+r.top+o)),new be(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new be(Math.round(r.left+a),Math.round(r.top)),new be(Math.round(r.left+a+s),Math.round(r.top)),new be(Math.round(r.left+a+s),Math.round(r.height+r.top)),new be(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new be(Math.round(r.left+a),Math.round(r.top+o)),new be(Math.round(r.left+a+s),Math.round(r.top+o)),new be(Math.round(r.left+a+s),Math.round(r.top+o+A)),new be(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new be(Math.round(i.left),Math.round(i.top)),new be(Math.round(i.left+i.width),Math.round(i.top)),new be(Math.round(i.left+i.width),Math.round(i.height+i.top)),new be(Math.round(i.left),Math.round(i.height+i.top))]}},Hq="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",F2="Hidden Text",Dq=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=Hq,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(F2)),r.appendChild(a),r.appendChild(i);var s=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(F2)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:A}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),bI=function(){function e(t,n){this.context=t,this.options=n}return e}(),jq=1e4;(function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Dq(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),Mq(n)&&(this.ctx.globalAlpha=n.opacity),_q(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),pI(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Qr(this,void 0,void 0,function(){var r;return vr(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Qr(this,void 0,void 0,function(){return vr(this,function(r){switch(r.label){case 0:if(wn(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=wb(n.text);o.reduce(function(s,A){return a.ctx.fillText(A,s,n.bounds.top+i),s+a.ctx.measureText(A).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=Vq(n.fontFamily).join(", "),a=Nu(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,r){return Qr(this,void 0,void 0,function(){var i,a,o,s,A,c,l,u,f=this;return vr(this,function(d){return i=this.createFontStyle(r),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,s),c=A.baseline,l=A.middle,u=r.paintOrder,n.textBounds.forEach(function(h){u.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=Fn(r.color),f.renderTextWithLetterSpacing(h,r.letterSpacing,c);var g=r.textShadow;g.length&&h.text.trim().length&&(g.slice(0).reverse().forEach(function(v){f.ctx.shadowColor=Fn(v.color),f.ctx.shadowOffsetX=v.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=v.offsetY.number*f.options.scale,f.ctx.shadowBlur=v.blur.number,f.renderTextWithLetterSpacing(h,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Fn(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(v){switch(v){case 1:f.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+c),h.bounds.width,1);break;case 2:f.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:f.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+l),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(f.ctx.strokeStyle=Fn(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=Ih(n),o=Qh(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Qr(this,void 0,void 0,function(){var r,i,a,o,s,A,y,y,c,l,u,f,b,d,h,w,p,g,v,y,m,b,w;return vr(this,function(B){switch(B.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,o=0,s=r.textNodes,B.label=1;case 1:return o<s.length?(A=s[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof nI))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=B.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof rI&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof iI))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=B.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof AI&&r.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:l=B.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),B.label=14;case 14:if(r instanceof Bb&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===Mh?r.checked&&(this.ctx.save(),this.path([new be(r.bounds.left+u*.39363,r.bounds.top+u*.79),new be(r.bounds.left+u*.16,r.bounds.top+u*.5549),new be(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new be(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new be(r.bounds.left+u*.72983,r.bounds.top+u*.23),new be(r.bounds.left+u*.84,r.bounds.top+u*.34085),new be(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Fn(m2),this.ctx.fill(),this.ctx.restore()):r.type===kh&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Fn(m2),this.ctx.fill(),this.ctx.restore())),$q(r)&&r.value.length){switch(f=this.createFontStyle(a),b=f[0],d=f[1],h=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=Fn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Gq(r.styles.textAlign),w=Ih(r),p=0,r.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width;break}g=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new be(w.left,w.top),new be(w.left+w.width,w.top),new be(w.left+w.width,w.top+w.height),new be(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wl(r.value,g),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!wn(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(v=r.styles.listStyleImage,v.type!==0)return[3,18];y=void 0,m=v.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return y=B.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=Fn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new Es(r.bounds.left,r.bounds.top+Tt(r.styles.paddingTop,r.bounds.width),r.bounds.width,r2(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wl(n.listValue,w),a.letterSpacing,r2(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Qr(this,void 0,void 0,function(){var r,i,v,a,o,v,s,A,v,c,l,v,u,f,v,d,h,v,p,g,v;return vr(this,function(y){switch(y.label){case 0:if(wn(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,i=n.negativeZIndex,y.label=2;case 2:return r<i.length?(v=i[r],[4,this.renderStack(v)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),a=0,o=n.nonInlineLevel,y.label=7;case 7:return a<o.length?(v=o[a],[4,this.renderNode(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:s=0,A=n.nonPositionedFloats,y.label=11;case 11:return s<A.length?(v=A[s],[4,this.renderStack(v)]):[3,14];case 12:y.sent(),y.label=13;case 13:return s++,[3,11];case 14:c=0,l=n.nonPositionedInlineLevel,y.label=15;case 15:return c<l.length?(v=l[c],[4,this.renderStack(v)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:u=0,f=n.inlineLevel,y.label=19;case 19:return u<f.length?(v=f[u],[4,this.renderNode(v)]):[3,22];case 20:y.sent(),y.label=21;case 21:return u++,[3,19];case 22:d=0,h=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return d<h.length?(v=h[d],[4,this.renderStack(v)]):[3,26];case 24:y.sent(),y.label=25;case 25:return d++,[3,23];case 26:p=0,g=n.positiveZIndex,y.label=27;case 27:return p<g.length?(v=g[p],[4,this.renderStack(v)]):[3,30];case 28:y.sent(),y.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var o=Rr(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Rr(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,r),s.height=Math.max(1,i);var A=s.getContext("2d");return A.drawImage(n,0,0,n.width,n.height,0,0,r,i),s},t.prototype.renderBackgroundImage=function(n){return Qr(this,void 0,void 0,function(){var r,i,a,o,s,A;return vr(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,i=function(l){var u,f,d,O,L,T,F,k,C,h,O,L,T,F,k,p,g,v,y,m,b,w,B,x,C,E,O,S,_,F,k,Q,L,T,M,I,U,R,N,j,K,$;return vr(this,function(V){switch(V.label){case 0:if(l.type!==0)return[3,5];u=void 0,f=l.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return u=V.sent(),[3,4];case 3:return V.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(d=W0(n,r,[u.width,u.height,u.width/u.height]),O=d[0],L=d[1],T=d[2],F=d[3],k=d[4],C=a.ctx.createPattern(a.resizeImage(u,F,k),"repeat"),a.renderRepeat(O,C,L,T)),[3,6];case 5:GW(l)?(h=W0(n,r,[null,null,null]),O=h[0],L=h[1],T=h[2],F=h[3],k=h[4],p=HW(l.angle,F,k),g=p[0],v=p[1],y=p[2],m=p[3],b=p[4],w=document.createElement("canvas"),w.width=F,w.height=k,B=w.getContext("2d"),x=B.createLinearGradient(v,m,y,b),t2(l.stops,g).forEach(function(W){return x.addColorStop(W.stop,Fn(W.color))}),B.fillStyle=x,B.fillRect(0,0,F,k),F>0&&k>0&&(C=a.ctx.createPattern(w,"repeat"),a.renderRepeat(O,C,L,T))):zW(l)&&(E=W0(n,r,[null,null,null]),O=E[0],S=E[1],_=E[2],F=E[3],k=E[4],Q=l.position.length===0?[yb]:l.position,L=Tt(Q[0],F),T=Tt(Q[Q.length-1],k),M=DW(l,L,T,F,k),I=M[0],U=M[1],I>0&&U>0&&(R=a.ctx.createRadialGradient(S+L,_+T,0,S+L,_+T,I),t2(l.stops,I*2).forEach(function(W){return R.addColorStop(W.stop,Fn(W.color))}),a.path(O),a.ctx.fillStyle=R,I!==U?(N=n.bounds.left+.5*n.bounds.width,j=n.bounds.top+.5*n.bounds.height,K=U/I,$=1/K,a.ctx.save(),a.ctx.translate(N,j),a.ctx.transform(1,0,0,K,0,0),a.ctx.translate(-N,-j),a.ctx.fillRect(S,$*(_-j)+j,F,k*$),a.ctx.restore()):a.ctx.fill())),V.label=6;case 6:return r--,[2]}})},a=this,o=0,s=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(A=s[o],[5,i(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return Qr(this,void 0,void 0,function(){return vr(this,function(a){return this.path(S2(i,r)),this.ctx.fillStyle=Fn(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,a){return Qr(this,void 0,void 0,function(){var o,s;return vr(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Qq(a,i),this.path(o),this.ctx.fillStyle=Fn(n),this.ctx.fill(),s=Iq(a,i),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Qr(this,void 0,void 0,function(){var r,i,a,o,s,A,c,l,u=this;return vr(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!EA(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Kq(sA(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),EA(r.backgroundColor)||(this.ctx.fillStyle=Fn(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(d){u.ctx.save();var h=Th(n.curves),p=d.inset?0:jq,g=kq(h,-p+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(u.path(h),u.ctx.clip(),u.mask(g)):(u.mask(h),u.ctx.clip(),u.path(g)),u.ctx.shadowOffsetX=d.offsetX.number+p,u.ctx.shadowOffsetY=d.offsetY.number,u.ctx.shadowColor=Fn(d.color),u.ctx.shadowBlur=d.blur.number,u.ctx.fillStyle=d.inset?Fn(d.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:s=0,A=0,c=a,f.label=3;case 3:return A<c.length?(l=c[A],l.style!==0&&!EA(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,n.curves)];case 10:f.sent(),f.label=11;case 11:s++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,a,o){return Qr(this,void 0,void 0,function(){var s,A,c,l,u,f,d,h,p,g,v,y,m,b,w,B,w,B;return vr(this,function(x){return this.ctx.save(),s=Lq(a,i),A=S2(a,i),o===2&&(this.path(A),this.ctx.clip()),Rr(A[0])?(c=A[0].start.x,l=A[0].start.y):(c=A[0].x,l=A[0].y),Rr(A[1])?(u=A[1].end.x,f=A[1].end.y):(u=A[1].x,f=A[1].y),i===0||i===2?d=Math.abs(c-u):d=Math.abs(l-f),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(A.slice(0,2)),h=r<3?r*3:r*2,p=r<3?r*2:r,o===3&&(h=r,p=r),g=!0,d<=h*2?g=!1:d<=h*2+p?(v=d/(2*h+p),h*=v,p*=v):(y=Math.floor((d+p)/(h+p)),m=(d-y*h)/(y-1),b=(d-(y+1)*h)/y,p=b<=0||Math.abs(p-m)<Math.abs(p-b)?m:b),g&&(o===3?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Fn(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Rr(A[0])&&(w=A[3],B=A[0],this.ctx.beginPath(),this.formatPath([new be(w.end.x,w.end.y),new be(B.start.x,B.start.y)]),this.ctx.stroke()),Rr(A[1])&&(w=A[1],B=A[2],this.ctx.beginPath(),this.formatPath([new be(w.end.x,w.end.y),new be(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Qr(this,void 0,void 0,function(){var r;return vr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Tq(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(bI);var $q=function(e){return e instanceof sI||e instanceof oI?!0:e instanceof Bb&&e.type!==kh&&e.type!==Mh},Kq=function(e,t){switch(e){case 0:return Th(t);case 2:return Oq(t);case 1:default:return Qh(t)}},Gq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},zq=["-apple-system","system-ui"],Vq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return zq.indexOf(t)===-1}):e};(function(e){pi(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return Qr(this,void 0,void 0,function(){var r,i;return vr(this,function(a){switch(a.label){case 0:return r=Vy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Wq(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(bI);var Wq=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})};typeof window<"u"&&Cq.setContext(window);/*!
 * @antv/g
 * @description A core module for rendering engine implements DOM API.
 * @version 6.3.1
 * @date 12/24/2025, 11:55:39 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Y0=function(e){function t(n,r,i,a){var o;return oe(this,t),o=Pe(this,t,[n]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return Ne(t,e),se(t)}(Zp),Yq=0,Xq=function(){function e(t,n){var r;oe(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(Yq++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return se(e,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n;if((n=this.effect.target)!==null&&n!==void 0&&n.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==r&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==r&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=null,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new Y0(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(yt)}},{key:"addEventListener",value:function(n,r,i){throw new Error(yt)}},{key:"removeEventListener",value:function(n,r,i){throw new Error(yt)}},{key:"dispatchEvent",value:function(n){throw new Error(yt)}},{key:"commitStyles",value:function(){throw new Error(yt)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new Y0(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new Y0(null,this,this.currentTime,n);this.onframe(a)}this._finishedFlag=!1}}}])}(),qq=4,Zq=.001,Jq=1e-7,eZ=10,Wc=11,Hf=1/(Wc-1),tZ=typeof Float32Array=="function",wI=function(t,n){return 1-3*n+3*t},BI=function(t,n){return 3*n-6*t},xI=function(t){return 3*t},Lh=function(t,n,r){return((wI(n,r)*t+BI(n,r))*t+xI(n))*t},CI=function(t,n,r){return 3*wI(n,r)*t*t+2*BI(n,r)*t+xI(n)},nZ=function(t,n,r,i,a){var o,s,A=0;do s=n+(r-n)/2,o=Lh(s,i,a)-t,o>0?r=s:n=s;while(Math.abs(o)>Jq&&++A<eZ);return s},rZ=function(t,n,r,i){for(var a=0;a<qq;++a){var o=CI(n,r,i);if(o===0)return n;var s=Lh(n,r,i)-t;n-=s/o}return n},Cb=function(t,n,r,i){if(!(t>=0&&t<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===i)return function(A){return A};for(var a=tZ?new Float32Array(Wc):new Array(Wc),o=0;o<Wc;++o)a[o]=Lh(o*Hf,t,r);var s=function(c){for(var l=0,u=1,f=Wc-1;u!==f&&a[u]<=c;++u)l+=Hf;--u;var d=(c-a[u])/(a[u+1]-a[u]),h=l+d*Hf,p=CI(h,t,r);return p>=Zq?rZ(c,h,t,r):p===0?h:nZ(c,l,l+Hf,t,r)};return function(A){return A===0||A===1?A:Lh(s(A),n,i)}},iZ=function(t){return t=t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},Df=function(t){return Math.pow(t,2)},jf=function(t){return Math.pow(t,3)},$f=function(t){return Math.pow(t,4)},Kf=function(t){return Math.pow(t,5)},Gf=function(t){return Math.pow(t,6)},zf=function(t){return 1-Math.cos(t*Math.PI/2)},Vf=function(t){return 1-Math.sqrt(1-t*t)},Wf=function(t){return t*t*(3*t-2)},Yf=function(t){for(var n,r=4;t<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-t,2)},Xf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Le(n,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,A=qt(Number(a),1,10),c=qt(Number(s),.1,2);return t===0||t===1?t:-A*Math.pow(2,10*(t-1))*Math.sin((t-1-c/(Math.PI*2)*Math.asin(1/A))*(Math.PI*2)/c)},kc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=Le(n,4),a=i[0],o=a===void 0?1:a,s=i[1],A=s===void 0?100:s,c=i[2],l=c===void 0?10:c,u=i[3],f=u===void 0?0:u;o=qt(o,.1,1e3),A=qt(A,.1,1e3),l=qt(l,.1,1e3),f=qt(f,.1,1e3);var d=Math.sqrt(A/o),h=l/(2*Math.sqrt(A*o)),p=h<1?d*Math.sqrt(1-h*h):0,g=1,v=h<1?(h*d+-f)/p:-f+d,y=r?r*t/1e3:t;return h<1?y=Math.exp(-y*h*d)*(g*Math.cos(p*y)+v*Math.sin(p*y)):y=(g+v*y)*Math.exp(-y*d),t===0||t===1?t:1-y},X0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,i=Le(r,2),a=i[0],o=a===void 0?10:a,s=i[1],A=s==="start"?Math.ceil:Math.floor;return A(qt(t,0,1)*o)/o},_2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Le(n,4),i=r[0],a=r[1],o=r[2],s=r[3];return Cb(i,a,o,s)(t)},qf=Cb(.42,0,1,1),_r=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-t(1-n,r,i)}},Mr=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?t(n*2,r,i)/2:1-t(n*-2+2,r,i)/2}},kr=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?(1-t(1-n*2,r,i))/2:(t(n*2-1,r,i)+1)/2}},M2={steps:X0,"step-start":function(t){return X0(t,[1,"start"])},"step-end":function(t){return X0(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":_2,ease:function(t){return _2(t,[.25,.1,.25,1])},in:qf,out:_r(qf),"in-out":Mr(qf),"out-in":kr(qf),"in-quad":Df,"out-quad":_r(Df),"in-out-quad":Mr(Df),"out-in-quad":kr(Df),"in-cubic":jf,"out-cubic":_r(jf),"in-out-cubic":Mr(jf),"out-in-cubic":kr(jf),"in-quart":$f,"out-quart":_r($f),"in-out-quart":Mr($f),"out-in-quart":kr($f),"in-quint":Kf,"out-quint":_r(Kf),"in-out-quint":Mr(Kf),"out-in-quint":kr(Kf),"in-expo":Gf,"out-expo":_r(Gf),"in-out-expo":Mr(Gf),"out-in-expo":kr(Gf),"in-sine":zf,"out-sine":_r(zf),"in-out-sine":Mr(zf),"out-in-sine":kr(zf),"in-circ":Vf,"out-circ":_r(Vf),"in-out-circ":Mr(Vf),"out-in-circ":kr(Vf),"in-back":Wf,"out-back":_r(Wf),"in-out-back":Mr(Wf),"out-in-back":kr(Wf),"in-bounce":Yf,"out-bounce":_r(Yf),"in-out-bounce":Mr(Yf),"out-in-bounce":kr(Yf),"in-elastic":Xf,"out-elastic":_r(Xf),"in-out-elastic":Mr(Xf),"out-in-elastic":kr(Xf),spring:kc,"spring-in":kc,"spring-out":_r(kc),"spring-in-out":Mr(kc),"spring-out-in":kr(kc)},aZ=function(t){return iZ(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},oZ=function(t){return M2[aZ(t)]||M2.linear},sZ=function(t){return t},AZ=1,cZ=.5,k2=0;function T2(e,t){return function(n){if(n>=1)return 1;var r=1/e;return n+=t*r,n-n%r}}var Zf="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",lZ=new RegExp("cubic-bezier\\(".concat(Zf,",").concat(Zf,",").concat(Zf,",").concat(Zf,"\\)")),uZ=/steps\(\s*(\d+)\s*\)/,fZ=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Eb(e){var t=lZ.exec(e);if(t)return Cb.apply(void 0,De(t.slice(1).map(Number)));var n=uZ.exec(e);if(n)return T2(Number(n[1]),k2);var r=fZ.exec(e);return r?T2(Number(r[1]),{start:AZ,middle:cZ,end:k2}[r[2]]):oZ(e)}function dZ(e){return Math.abs(hZ(e)/(e.playbackRate||1))}function hZ(e){var t;return e.duration===0||e.iterations===0?0:(e.duration==="auto"?0:Number(e.duration))*((t=e.iterations)!==null&&t!==void 0?t:1)}var EI=0,Ob=1,dg=2,OI=3;function pZ(e,t,n){if(t===null)return EI;var r=n.endTime;return t<Math.min(n.delay,r)?Ob:t>=Math.min(n.delay+e+n.endDelay,r)?dg:OI}function gZ(e,t,n,r,i){switch(r){case Ob:return t==="backwards"||t==="both"?0:null;case OI:return n-i;case dg:return t==="forwards"||t==="both"?e:null;case EI:return null}}function vZ(e,t,n,r,i){var a=i;return e===0?t!==Ob&&(a+=n):a+=r/e,a}function yZ(e,t,n,r,i,a){var o=e===1/0?t%1:e%1;return o===0&&n===dg&&r!==0&&(i!==0||a===0)&&(o=1),o}function mZ(e,t,n,r){return e===dg&&t===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function bZ(e,t,n){var r=e;if(e!=="normal"&&e!=="reverse"){var i=t;e==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function wZ(e,t,n){var r=pZ(e,t,n),i=gZ(e,n.fill,t,r,n.delay);if(i===null)return null;var a=n.duration==="auto"?0:n.duration,o=vZ(a,r,n.iterations,i,n.iterationStart),s=yZ(o,n.iterationStart,r,n.iterations,i,a),A=mZ(r,n.iterations,s,o),c=bZ(n.direction,A,s);return n.currentIteration=A,n.progress=c,n.easingFunction(c)}function BZ(e,t,n){var r=xZ(e,t),i=CZ(r,n);return function(a,o){if(o!==null)i.filter(function(A){return o>=A.applyFrom&&o<A.applyTo}).forEach(function(A){var c=o-A.startOffset,l=A.endOffset-A.startOffset,u=l===0?0:c/l;a.setAttribute(A.property,A.interpolation(u),!1,!1)});else for(var s in r)SI(s)&&a.setAttribute(s,null)}}function SI(e){return e!=="offset"&&e!=="easing"&&e!=="composite"&&e!=="computedOffset"}function xZ(e,t){for(var n={},r=0;r<e.length;r++)for(var i in e[r])if(SI(i)){var a={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:Eb(e[r].easing)||t.easingFunction,value:e[r][i]};n[i]=n[i]||[],n[i].push(a)}return n}function CZ(e,t){var n=[];for(var r in e)for(var i=e[r],a=0;a<i.length-1;a++){var o=a,s=a+1,A=i[o].computedOffset,c=i[s].computedOffset,l=A,u=c;a===0&&(l=-1/0,c===0&&(s=o)),a===i.length-2&&(u=1/0,A===1&&(o=s)),n.push({applyFrom:l,applyTo:u,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:EZ(r,i[o].value,i[s].value,t)})}return n.sort(function(f,d){return f.startOffset-d.startOffset}),n}var Q2=function(t,n,r){return function(i){var a=FI(t,n,i);return Et(a)?a:r(a)}};function EZ(e,t,n,r){var i=iQ[e];if(i&&i.syntax&&i.int){var a=ce.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(t,r):t,A=o?o(n,r):n,c=a.mixer(s,A,r);if(c){var l=Q2.apply(void 0,De(c));return function(u){return u===0?t:u===1?n:l(u)}}}}return Q2(!1,!0,function(u){return u?n:t})}function FI(e,t,n){if(typeof e=="number"&&typeof t=="number")return e*(1-n)+t*n;if(typeof e=="boolean"&&typeof t=="boolean"||typeof e=="string"&&typeof t=="string")return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,i=t.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(FI(e[s<r?s:r-1],t[s<i?s:i-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var OZ=function(){function e(){oe(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=sZ,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return se(e,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=Eb(n),this._easing=n}}])}();function SZ(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!t[a]){var o={};"offset"in e&&(o.offset=Number(e.offset)),"easing"in e&&(o.easing=e.easing),"composite"in e&&(o.composite=e.composite),t[a]=o}r[a]!==void 0&&r[a]!==null&&(t[a][n]=r[a])}}return t.sort(function(s,A){return(s.computedOffset||0)-(A.computedOffset||0)}),t}function I2(e,t){if(e===null)return[];Array.isArray(e)||(e=SZ(e));for(var n=e.map(function(A){var c={};t!=null&&t.composite&&(c.composite="auto");for(var l in A){var u=A[l];if(l==="offset"){if(u!==null){if(u=Number(u),!isFinite(u))throw new Error("Keyframe offsets must be numbers.");if(u<0||u>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=u}}else if(l==="composite"&&["replace","add","accumulate","auto"].indexOf(u)===-1)throw new Error("".concat(u," compositing is not supported"));c[l]=u}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(t==null?void 0:t.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<n.length;a++){var o=n[a].offset;if(Oe(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}n=n.filter(function(A){return Number(A.offset)>=0&&Number(A.offset)<=1});function s(){var A,c=n,l=c.length;if(n[l-1].computedOffset=Number((A=n[l-1].offset)!==null&&A!==void 0?A:1),l>1){var u;n[0].computedOffset=Number((u=n[0].offset)!==null&&u!==void 0?u:0)}for(var f=0,d=Number(n[0].computedOffset),h=1;h<l;h++){var p=n[h].computedOffset;if(!Oe(p)&&!Oe(d)){for(var g=1;g<h-f;g++)n[f+g].computedOffset=d+(Number(p)-d)*g/(h-f);f=h,d=Number(p)}}}return r||s(),n}var FZ="backwards|forwards|both|none".split("|"),_Z="reverse|alternate|alternate-reverse".split("|");function MZ(e,t){var n=new OZ;return typeof e=="number"&&!isNaN(e)?n.duration=e:e!==void 0&&Object.keys(e).forEach(function(r){if(e[r]!==void 0&&e[r]!==null&&e[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof e[r]!="number"||isNaN(e[r]))||r==="fill"&&FZ.indexOf(e[r])===-1||r==="direction"&&_Z.indexOf(e[r])===-1)return;n[r]=e[r]}}),n}function kZ(e,t){return e=TZ(e??{duration:"auto"}),MZ(e)}function TZ(e){return typeof e=="number"&&(isNaN(e)?e={duration:"auto"}:e={duration:e}),e}var QZ=function(){function e(t,n,r){var i=this;oe(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=kZ(r),this.timing.effect=this,this.timing.activeDuration=dZ(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=I2(n,this.timing),this.interpolations=BZ(this.normalizedKeyframes,this.timing,this.target);var a=ce.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,A){return A==="duration"?s.duration==="auto"?0:s.duration:A==="fill"?s.fill==="auto"?"none":s.fill:A==="localTime"?i.animation&&i.animation.currentTime||null:A==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:A==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[A]},set:function(){return!0}}):this.timing}return se(e,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=wZ(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=I2(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(i){r.timing[i]=n[i]})}}])}();function L2(e,t){return Number(e.id)-Number(t.id)}var IZ=function(){function e(t){var n=this;oe(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(L2),n.animations=n.tick(r,!0,n.animations)[0],i.forEach(function(a){a[1](r)}),n.applyPendingEffects()},this.document=t}return se(e,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,i){var a=new QZ(n,r,i),o=new Xq(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var i=n.targetAnimations();i.sort(L2);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),n(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var A=[],c=[],l=[],u=[];return i.forEach(function(f){f.tick(n,r),f._inEffect?(c.push(f.effect),f.markTarget()):(A.push(f.effect),f.unmarkTarget()),f._needsTick&&(a.ticking=!0);var d=f._inEffect||f._needsTick;f._inTimeline=d,d?l.push(f):u.push(f)}),(o=this.pendingEffects).push.apply(o,A),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]}}])}();ce.EasingFunction=Eb;ce.AnimationTimeline=IZ;var LZ=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.landmarks=[],n}return Ne(t,e),se(t,[{key:"rotate",value:function(r,i,a){if(this.relElevation=wA(i),this.relAzimuth=wA(r),this.relRoll=wA(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===vt.EXPLORING){var o=Ja(vn(),[1,0,0],At((this.rotateWorld?1:-1)*this.relElevation)),s=Ja(vn(),[0,1,0],At((this.rotateWorld?1:-1)*this.relAzimuth)),A=Ja(vn(),[0,0,1],At(this.relRoll)),c=Ao(vn(),s,o);c=Ao(vn(),c,A);var l=C1(st(),c);bA(this.matrix,this.matrix,[0,0,-this.distance]),$n(this.matrix,this.matrix,l),bA(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===vt.ORBITING||this.type===vt.EXPLORING?this._getPosition():this.type===vt.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=qn(r,i,0),o=da(this.position);return so(o,o,ah($e(),this.right,a[0])),so(o,o,ah($e(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=da(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===vt.ORBITING||this.type===vt.EXPLORING?this._getDistance():this.type===vt.TRACKING&&so(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=A.position,l=c===void 0?this.position:c,u=A.focalPoint,f=u===void 0?this.focalPoint:u,d=A.roll,h=A.zoom,p=new ce.CameraContribution;p.setType(this.type,void 0),p.setPosition(l[0],(i=l[1])!==null&&i!==void 0?i:this.position[1],(a=l[2])!==null&&a!==void 0?a:this.position[2]),p.setFocalPoint(f[0],(o=f[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=f[2])!==null&&s!==void 0?s:this.focalPoint[2]),p.setRoll(d??this.roll),p.setZoom(h??this.zoom);var g={name:r,matrix:x1(p.getWorldTransform()),right:da(p.right),up:da(p.up),forward:da(p.forward),position:da(p.getPosition()),focalPoint:da(p.getFocalPoint()),distanceVector:da(p.getDistanceVector()),distance:p.getDistance(),dollyingStep:p.getDollyingStep(),azimuth:p.getAzimuth(),elevation:p.getElevation(),roll:p.getRoll(),relAzimuth:p.relAzimuth,relElevation:p.relElevation,relRoll:p.relRoll,zoom:p.getZoom()};return this.landmarks.push(g),g}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Ut(r)?this.landmarks.find(function(S){return S.name===r}):r;if(o){var s=Et(a)?{duration:a}:a,A=s.easing,c=A===void 0?"linear":A,l=s.duration,u=l===void 0?100:l,f=s.easingFunction,d=f===void 0?void 0:f,h=s.onfinish,p=h===void 0?void 0:h,g=s.onframe,v=g===void 0?void 0:g,y=.01;this.cancelLandmarkAnimation();var m=o.position,b=o.focalPoint,w=o.zoom,B=o.roll,x=d||ce.EasingFunction(c),C,E=function(){i.setFocalPoint(b),i.setPosition(m),i.setRoll(B),i.setZoom(w),i.computeMatrix(),i.triggerUpdate(),p==null||p()};if(u===0)return E();var O=function(_){C===void 0&&(C=_);var F=_-C;if(F>=u){E();return}var k=x(F/u),Q=$e(),L=$e(),T=1,M=0;ey(Q,i.focalPoint,b,k),ey(L,i.position,m,k),M=i.roll*(1-k)+B*k,T=i.zoom*(1-k)+w*k,i.setFocalPoint(Q),i.setPosition(L),i.setRoll(M),i.setZoom(T);var I=gx(Q,b)+gx(L,m);if(I<=y&&w===void 0&&B===void 0)return E();i.computeMatrix(),i.triggerUpdate(),F<u&&(v==null||v(k),i.landmarkAnimationID=i.canvas.requestAnimationFrame(O))};this.canvas.requestAnimationFrame(O)}}}])}(DT);ce.CameraContribution=LZ;var UZ=["body","startHead","endHead","startHeadOffset","endHeadOffset"],PZ=["body","startHead","endHead","startHeadOffset","endHeadOffset"],NZ=["body","startHead","endHead","startHeadOffset","endHeadOffset"],_I=function(e){function t(n){var r;oe(this,t),r=Pe(this,t,[Qe(Qe({},n),{},{type:t.tag})]);var i=r.attributes,a=i.body,o=i.startHead,s=i.endHead;i.startHeadOffset,i.endHeadOffset;var A=$i(i,UZ);if(!a)throw new Error("Arrow's body is required");return r.body=a,r.appendChild(r.body),r.handleBodyAttributeChanged(r.body),o&&r.appendArrowHead(r.getArrowHeadType(o),!0),s&&r.appendArrowHead(r.getArrowHeadType(s),!1),r.applyArrowStyle(A,[r.body,r.startHead,r.endHead]),r}return Ne(t,e),se(t,[{key:"handleBodyAttributeChanged",value:function(r){var i=this;r.addEventListener(Xe.ATTR_MODIFIED,function(a){var o=a.attrName;o==="x1"||o==="y1"?i.startHead&&i.transformArrowHead(i.startHead,!0):(o==="x2"||o==="y2")&&i.endHead&&i.transformArrowHead(i.endHead,!1)})}},{key:"getBody",value:function(){return this.body}},{key:"getStartHead",value:function(){return this.startHead}},{key:"getEndHead",value:function(){return this.endHead}},{key:"attributeChangedCallback",value:function(r,i,a){if(r==="opacity"||r==="strokeOpacity"||r==="stroke"||r==="lineWidth"||r==="increasedLineWidthForHitTesting")this.applyArrowStyle(ve({},r,a),[this.body,this.startHead,this.endHead]);else if(r==="startHead"||r==="endHead"){var o=r==="startHead";if(this.destroyArrowHead(o),a){var s=this.attributes;s.body,s.startHead,s.endHead,s.startHeadOffset,s.endHeadOffset;var A=$i(s,PZ);this.appendArrowHead(this.getArrowHeadType(a),o),this.applyArrowStyle(A,[o?this.startHead:this.endHead])}}else if(r==="body"){var c=this.attributes;c.body,c.startHead,c.endHead,c.startHeadOffset,c.endHeadOffset;var l=$i(c,NZ);this.body.destroy(),this.body=a,this.appendChild(this.body),this.applyArrowStyle(l,[this.body])}else r==="startHeadOffset"?this.moveArrowHeadAlongTangent(a,!0):r==="endHeadOffset"&&this.moveArrowHeadAlongTangent(a,!1)}},{key:"getArrowHeadType",value:function(r){return typeof r=="boolean"?"default":"custom"}},{key:"appendArrowHead",value:function(r,i){var a;r==="default"?a=this.createDefaultArrowHead():a=i?this.attributes.startHead:this.attributes.endHead,this.transformArrowHead(a,i),a.setAttribute("zIndex",1),i?this.startHead=a:this.endHead=a,this.appendChild(a);var o=i?this.attributes.startHeadOffset:this.attributes.endHeadOffset;o&&this.moveArrowHeadAlongTangent(o,i)}},{key:"transformArrowHead",value:function(r,i){var a=$e(),o=0,s=0,A=0,c=0,l=0,u=this.body&&this.body.nodeName;if(u===Z.LINE){var f=this.body.attributes,d=f.x1,h=f.x2,p=f.y1,g=f.y2;s=i?h:d,A=i?d:h,c=i?g:p,l=i?p:g}else if(u===Z.POLYLINE){var v=this.body.attributes.points,y=v.length;s=i?v[1][0]:v[y-2][0],c=i?v[1][1]:v[y-2][1],A=i?v[0][0]:v[y-1][0],l=i?v[0][1]:v[y-1][1]}else if(u===Z.PATH){var m=this.getTangent(this.body,i),b=Le(m,2),w=b[0],B=b[1];s=w[0],c=w[1],A=B[0],l=B[1]}var x=s-A,C=c-l;o=Math.atan2(C,x),a=nt(A,l,0),i?(this.startHeadPosition=a,this.startHeadRad=o):(this.endHeadPosition=a,this.endHeadRad=o),r.setLocalPosition(a),r.setLocalEulerAngles(o*180/Math.PI+r.getLocalEulerAngles())}},{key:"moveArrowHeadAlongTangent",value:function(r,i){var a=i?this.startHead:this.endHead;a&&a.setLocalPosition(FM($e(),i?this.startHeadPosition:this.endHeadPosition,nt(Math.cos(i?this.startHeadRad:this.endHeadRad)*r,Math.sin(i?this.startHeadRad:this.endHeadRad)*r,0))),this.body}},{key:"destroyArrowHead",value:function(r){r&&this.startHead&&(this.startHead.destroy(),this.startHead=void 0),!r&&this.endHead&&(this.endHead.destroy(),this.endHead=void 0)}},{key:"getTangent",value:function(r,i){return i?r.getStartTangent():r.getEndTangent()}},{key:"createDefaultArrowHead",value:function(){var r=this.attributes,i=r.stroke,a=r.lineWidth,o=Math.sin,s=Math.cos,A=Math.PI,c=10*s(A/6);return new bn({style:{d:"M".concat(c/2,",").concat(10*o(A/6)," L-").concat(c/2,",0 L").concat(c/2,",-").concat(10*o(A/6)),stroke:i,lineWidth:a,transformOrigin:"center"}})}},{key:"applyArrowStyle",value:function(r,i){var a=r.opacity,o=r.stroke,s=r.strokeOpacity,A=r.lineWidth,c=r.increasedLineWidthForHitTesting;i.forEach(function(l){l&&(Oe(a)||(l.style.opacity=a),Oe(o)||(l.style.stroke=o),Oe(s)||(l.style.strokeOpacity=s),Oe(A)||(l.style.lineWidth=A),Oe(c)||(l.style.increasedLineWidthForHitTesting=c))})}}])}(sc);_I.tag="arrow";_I.PARSED_STYLE_LIST=new Set([].concat(De(sc.PARSED_STYLE_LIST),["body","startHead","endHead","startHeadOffset","endHeadOffset","stroke","lineWidth","opacity","strokeOpacity"]));var Sb=Math.PI,RZ=Sb*2,Tc=Math.sin,Jf=Math.cos,HZ=Math.acos,Un=Math.atan2,Bl=Math.sqrt,Xy=Math.max,wi=Math.min,AA=1e-4,DZ=[{name:"sr",inherits:!1,interpolable:!0,syntax:fe.LENGTH_PERCENTAGE},{name:"sr0",inherits:!1,interpolable:!0,syntax:fe.LENGTH_PERCENTAGE},{name:"startAngle",inherits:!1,interpolable:!0,syntax:fe.ANGLE},{name:"endAngle",inherits:!1,interpolable:!0,syntax:fe.ANGLE}];DZ.forEach(function(e){hb.registerProperty(e)});var ni=function(t,n,r,i){return{x:t+r*Math.cos(i),y:n+r*Math.sin(i)}};function jZ(e,t,n,r,i,a,o,s){var A=n-e,c=r-t,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<AA))return f=(l*(t-a)-u*(e-i))/f,[e+f*A,t+f*c]}function ed(e,t,n,r,i,a,o){var s=e-n,A=t-r,c=a/Bl(s*s+A*A),l=c*A,u=-c*s,f=e+l,d=t+u,h=n+l,p=r+u,g=(f+h)/2,v=(d+p)/2,y=h-f,m=p-d,b=y*y+m*m,w=i-a,B=f*p-h*d,x=(m<0?-1:1)*Bl(Xy(0,w*w*b-B*B)),C=(B*m-y*x)/b,E=(-B*y-m*x)/b,O=(B*m+y*x)/b,S=(-B*y+m*x)/b,_=C-g,F=E-v,k=O-g,Q=S-v;return _*_+F*F>k*k+Q*Q&&(C=O,E=S),{cx:C,cy:E,x0:-l,y0:-u,x1:C*(i/w-1),y1:E*(i/w-1)}}function ca(e,t){return t=t<0&&e>=0?t+RZ:t,t-e<=Sb?0:1}var $Z=function(e){function t(n){var r;return oe(this,t),r=Pe(this,t,[n]),r.updatePath(),r}return Ne(t,e),se(t,[{key:"setAttribute",value:function(r,i,a){yh(t,"setAttribute",this)([r,i,a]),["startAngle","endAngle","sr","sr0","radius"].indexOf(r)>-1&&this.updatePath()}},{key:"updatePath",value:function(){var r=this.parsedStyle,i=r.x,a=r.y,o=r.startAngle,s=r.endAngle,A=r.sr,c=r.sr0,l=r.radius,u=this.createPath(i,a,o?At(o):0,s?At(s):Math.PI*2,A||0,c||0,l||[0,0,0,0]);yh(t,"setAttribute",this)(["d",u])}},{key:"createPath",value:function(r,i,a,o,s,A,c){if(!(s<=0)){var l=ni(r,i,s,a),u=ni(r,i,s,o),f=ni(r,i,A,a),d=ni(r,i,A,o);if(mA(o-a,Math.PI*2)){var h=ni(r,i,s,a+Math.PI),p=ni(r,i,A,a+Math.PI),g=[["M",l.x,l.y],["A",s,s,0,1,1,h.x,h.y],["A",s,s,0,1,1,u.x,u.y],["M",f.x,f.y]];return A&&(g.push(["A",A,A,0,1,0,p.x,p.y]),g.push(["A",A,A,0,1,0,d.x,d.y])),g.push(["M",l.x,l.y]),g.push(["Z"]),g}var v=o-a,y=s*Jf(a),m=s*Tc(a),b=A*Jf(o),w=A*Tc(o),B=s*Jf(o),x=s*Tc(o),C=A*Jf(a),E=A*Tc(a),O=Le(c,4),S=O[0],_=O[1],F=O[2],k=O[3],Q=(s-A)/2,L=wi(Q,S),T=wi(Q,_),M=wi(Q,F),I=wi(Q,k),U=Xy(L,T),R=Xy(M,I),N=U,j=R;if((U>AA||R>AA)&&v<Sb){var K=jZ(y,m,C,E,B,x,b,w);if(K){var $=y-K[0],V=m-K[1],W=B-K[0],z=x-K[1],ne=1/Tc(HZ(($*W+V*z)/(Bl($*$+V*V)*Bl(W*W+z*z)))/2),ie=Bl(K[0]*K[0]+K[1]*K[1]);N=wi(U,(s-ie)/(ne+1)),j=wi(R,(A-ie)/(ne-1))}}var le=ca(a,o),P=[];if(N>AA){var D=wi(S,N),G=wi(_,N),Y=ed(C,E,y,m,s,D),X=ed(B,x,b,w,s,G);if(P.push(["M",r+Y.cx+Y.x0,i+Y.cy+Y.y0]),N<U&&D===G){var q=Un(Y.y0,Y.x0),J=Un(X.y0,X.x0);P.push(["A",N,N,0,ca(q,J),1,r+X.cx+X.x0,i+X.cy+X.y0])}else{if(D>0){var te=Un(Y.y0,Y.x0),ae=Un(Y.y1,Y.x1),re=ni(r,i,s,ae);P.push(["A",D,D,0,ca(te,ae),1,re.x,re.y])}var he=Un(Y.cy+Y.y1,Y.cx+Y.x1),ue=Un(X.cy+X.y1,X.cx+X.x1),ge=ni(r,i,s,ue);if(P.push(["A",s,s,0,ca(he,ue),1,ge.x,ge.y]),G>0){var ye=Un(X.y1,X.x1),me=Un(X.y0,X.x0);P.push(["A",G,G,0,ca(ye,me),1,r+X.cx+X.x0,i+X.cy+X.y0])}}}else P.push(["M",l.x,l.y]),P.push(["A",s,s,0,le,1,u.x,u.y]);if(A<AA)P.push(["L",d.x,d.y]);else if(j>AA){var Ce=wi(k,j),Se=wi(F,j),Fe=ed(b,w,0,0,A-s,Se),Ee=ed(0,0,C,E,A-s,Ce);if(P.push(["L",r+Fe.cx+Fe.x0,i+Fe.cy+Fe.y0]),j<R&&Ce===Se){var ut=Un(Fe.y0,Fe.x0),Je=Un(Ee.y0,Ee.x0),en=ni(r,i,A,Je);P.push(["A",N,N,0,ca(ut,Je),1,en.x,en.y])}else{if(Se>0){var Fr=Un(Fe.y0,Fe.x0),Dt=Un(Fe.y1,Fe.x1),On=ni(r,i,A-s,Dt);P.push(["A",Se,Se,0,ca(Fr,Dt),1,On.x,On.y])}var js=Un(Fe.cy+Fe.y1,Fe.cx+Fe.x1),Lo=Un(Ee.cy+Ee.y1,Ee.cx+Ee.x1),Xu=ni(r,i,A,Lo);if(P.push(["A",A,A,0,ca(Lo,js),0,Xu.x,Xu.y]),P.push(["L",Xu.x,Xu.y]),Ce>0){var o3=Un(Ee.y1,Ee.x1),s3=Un(Ee.y0,Ee.x0);P.push(["A",Ce,Ce,0,ca(o3,s3),1,r+Ee.cx+Ee.x0,i+Ee.cy+Ee.y0])}}}else P.push(["L",d.x,d.y]),P.push(["A",A,A,0,le,0,f.x,f.y]);return P.push(["Z"]),P}}}])}(bn);$Z.PARSED_STYLE_LIST=new Set([].concat(De(bn.PARSED_STYLE_LIST),["x","y","sr","sr0","radius","startAngle","endAngle"]));function _e(e){return new Uh([e],null,e,e.ownerDocument)}let Uh=class Mn{constructor(t=null,n=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(t),this._data=n,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new Mn(n,null,this._elements[0],this._document)}selectFacetAll(t){const n=typeof t=="string"?this._parent.querySelectorAll(t):t;return new Mn(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(t){const n=typeof t=="string"?this._parent.querySelectorAll(t)[0]||null:t;return new Mn([n],null,n,this._document)}append(t){const n=typeof t=="function"?t:()=>this.createElement(t),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],A=n(o,i);A.__data__=o,s!==null&&(A.__fromElements__=s),this._parent.appendChild(A),r.push(A)}return new Mn(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=n(o,i);a.appendChild(s),r.push(s)}return new Mn(r,null,r[0],this._document)}}maybeAppend(t,n,r){const i=this._elements[0],a=i.getElementById(t);if(a)return new Mn([a],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=t,r&&(o.className=r),i.appendChild(o),new Mn([o],null,this._parent,this._document)}data(t,n=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],A=new Set,c=new Map(this._elements.map((d,h)=>[n(d.__data__,h),d])),l=new Map(this._facetElements.map((d,h)=>[n(d.__data__,h),d])),u=bt(this._elements,d=>r(d.__data__));for(let d=0;d<t.length;d++){const h=t[d],p=n(h,d),g=r(h,d);if(c.has(p)){const v=c.get(p);v.__data__=h,v.__facet__=!1,a.push(v),o.delete(v),c.delete(p)}else if(l.has(p)){const v=l.get(p);v.__data__=h,v.__facet__=!0,a.push(v),l.delete(p)}else if(u.has(p)){const v=u.get(p);s.push([h,v]);for(const y of v)o.delete(y);u.delete(p)}else if(c.has(g)){const v=c.get(g);v.__toData__?v.__toData__.push(h):v.__toData__=[h],A.add(v),o.delete(v)}else i.push(h)}const f=[new Mn([],i,this._parent,this._document),new Mn(a,null,this._parent,this._document),new Mn(o,null,this._parent,this._document),new Mn([],s,this._parent,this._document),new Mn(A,null,this._parent,this._document)];return new Mn(this._elements,null,this._parent,this._document,f)}merge(t){const n=[...this._elements,...t._elements],r=[...this._transitions,...t._transitions];return new Mn(n,null,this._parent,this._document,void 0,r)}createElement(t){if(this._document)return this._document.createElement(t,{});const n=Mn.registry[t];return n?new n:HA(`Unknown node type: ${t}`)}join(t=o=>o,n=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=t(this._enter),s=n(this._update),A=r(this._exit),c=i(this._merge),l=a(this._split);return s.merge(o).merge(A).merge(c).merge(l)}remove(){for(let t=0;t<this._elements.length;t++){const n=this._transitions[t];if(this._elements[t].__removed__=!0,n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(i=>i.finished)).then(()=>{const i=this._elements[t];i.__removed__&&i.remove()})}else{const r=this._elements[t];r.__removed__&&r.remove()}}return new Mn([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],i=r.__data__;t(i,n,r)}return this}attr(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o[t]=r(i,a,o))})}style(t,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o.style[t]=r(i,a,o))})}transition(t){const n=typeof t!="function"?()=>t:t,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=n(i,a,o)})}on(t,n){return this.each(function(r,i,a){a.addEventListener(t,n)}),this}call(t,...n){return t(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};Uh.registry={g:xn,rect:_o,circle:Ji,path:bn,text:fi,ellipse:Jp,image:eg,line:Ns,polygon:Ac,polyline:tg,html:Ps};function td(e,t,n){return Math.max(t,Math.min(e,n))}function Ph(e,t=10){return typeof e!="number"||Math.abs(e)<1e-15?e:parseFloat(e.toFixed(t))}function we(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function KZ(e,t){return t.forEach((n,r)=>r===0?e.moveTo(n[0],n[1]):e.lineTo(n[0],n[1])),e.closePath(),e}function GZ(e,t,n){const{arrowSize:r}=n,i=typeof r=="string"?+parseFloat(r)/100*Ht(e,t):r,a=Math.PI/6,o=Math.atan2(t[1]-e[1],t[0]-e[0]),s=Math.PI/2-o-a,A=[t[0]-i*Math.sin(s),t[1]-i*Math.cos(s)],c=o-a,l=[t[0]-i*Math.cos(c),t[1]-i*Math.sin(c)];return[A,l]}function eu(e,t,n,r,i){const a=Wr(Wt(r,t))+Math.PI,o=Wr(Wt(r,n))+Math.PI;return e.arc(r[0],r[1],i,a,o,o-a<0),e}function MI(e,t,n,r="y",i="between",a=!1){const o=(g,v)=>g==="y"||g===!0?v?180:90:v?90:0,s=r==="y"||r===!0?n:t,A=o(r,a),c=Is(s),[l,u]=Ca(c,g=>s[g]),f=new ka({domain:[l,u],range:[0,100]}),d=g=>Et(s[g])&&!Number.isNaN(s[g])?f.map(s[g]):0,h={between:g=>`${e[g]} ${d(g)}%`,start:g=>g===0?`${e[g]} ${d(g)}%`:`${e[g-1]} ${d(g)}%, ${e[g]} ${d(g)}%`,end:g=>g===e.length-1?`${e[g]} ${d(g)}%`:`${e[g]} ${d(g)}%, ${e[g+1]} ${d(g)}%`},p=c.sort((g,v)=>d(g)-d(v)).map(h[i]||h.between).join(",");return`linear-gradient(${A}deg, ${p})`}function hg(e){const[t,n,r,i]=e;return[i,t,n,r]}function Rs(e,t,n){const[r,i,,a]=Ct(e)?hg(t):t,[o,s]=n,A=e.getCenter(),c=jA(Wt(r,A)),l=jA(Wt(i,A)),u=l===c&&o!==s?l+Math.PI*2:l,f=1e-4;return{startAngle:c+f,endAngle:(u-c>=0?u:Math.PI*2+u)-f,innerRadius:Ht(a,A),outerRadius:Ht(r,A)}}function Fb(e){const{colorAttribute:t,opacityAttribute:n=t}=e;return`${n}Opacity`}function kI(e,t){if(!lt(e))return"";const n=e.getCenter(),{transform:r}=t;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function _b(e){if(e.length===1)return e[0];const[[t,n,r=0],[i,a,o=0]]=e;return[(t+i)/2,(n+a)/2,(r+o)/2]}var Pd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function TI(e,t,n,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:A=a,insetRight:c=a,insetBottom:l=a,radiusBottomLeft:u=o,radiusBottomRight:f=o,radiusTopLeft:d=o,radiusTopRight:h=o,minWidth:p=-1/0,maxWidth:g=1/0,minHeight:v=-1/0}=i,y=Pd(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!lt(r)&&!FT(r)){const C=!!Ct(r),[E,,O]=C?hg(t):t,[S,_]=E,[F,k]=Wt(O,E),Q=F>0?S:S+F,L=k>0?_:_+k,T=Math.abs(F),M=Math.abs(k),I=Q+s,U=L+A,R=T-(s+c),N=M-(A+l),j=C?td(R,v,1/0):td(R,p,g),K=C?td(N,p,g):td(N,v,1/0),$=C?I:I-(j-R)/2,V=C?U-(K-N)/2:U-(K-N);return _e(e.createElement("rect",{})).style("x",$).style("y",V).style("width",j).style("height",K).style("radius",[d,h,f,u]).call(we,y).node()}const{y:m,y1:b}=n,w=r.getCenter(),B=Rs(r,t,[m,b]),x=Z1().cornerRadius(o).padAngle(a*Math.PI/180);return _e(e.createElement("path",{})).style("d",x(B)).style("transform",`translate(${w[0]}, ${w[1]})`).style("radius",o).style("inset",a).call(we,y).node()}const Ru=(e,t)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:a=!0}=e,o=Pd(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:A}=t;return(c,l,u)=>{const{color:f,radius:d=0}=u,h=Pd(u,["color","radius"]),p=h.lineWidth||1,{stroke:g,radius:v=d,radiusTopLeft:y=v,radiusTopRight:m=v,radiusBottomRight:b=v,radiusBottomLeft:w=v,innerRadius:B=0,innerRadiusTopLeft:x=B,innerRadiusTopRight:C=B,innerRadiusBottomRight:E=B,innerRadiusBottomLeft:O=B,lineWidth:S=n==="stroke"||g?p:0,inset:_=0,insetLeft:F=_,insetRight:k=_,insetBottom:Q=_,insetTop:L=_,minWidth:T,maxWidth:M,minHeight:I}=o,U=Pd(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:R=f,opacity:N}=l,j=[i?y:x,i?m:C,a?b:E,a?w:O],K=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];Ct(s)&&K.push(K.shift());const $=Object.assign(Object.assign({radius:v},Object.fromEntries(K.map((V,W)=>[V,j[W]]))),{inset:_,insetLeft:F,insetRight:k,insetBottom:Q,insetTop:L,minWidth:T,maxWidth:M,minHeight:I});return _e(TI(A,c,l,s,$)).call(we,h).style("fill","transparent").style(n,R).style(Fb(e),N).style("lineWidth",S).style("stroke",g===void 0?R:g).call(we,U).node()}};Ru.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Hs=(e,t)=>Ru(Object.assign({colorAttribute:"fill"},e),t);Hs.props=Object.assign(Object.assign({},Ru.props),{defaultMarker:"square"});const pg=(e,t)=>Ru(Object.assign({colorAttribute:"stroke"},e),t);pg.props=Object.assign(Object.assign({},Ru.props),{defaultMarker:"hollowSquare"});var U2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zZ(e,t,n,r,i){const[a,o,s,A]=e;if(Ct(r)){if(i){const d=[n?n[1][0]:a[0],a[1]],h=[n?n[2][0]:A[0],A[1]];return[d,o,s,h]}const u=[t?t[0][0]:o[0],o[1]],f=[t?t[3][0]:s[0],s[1]];return[a,u,f,A]}if(i){const u=[a[0],n?n[1][1]:a[1]],f=[A[0],n?n[2][1]:A[1]];return[u,o,s,f]}const c=[o[0],t?t[0][1]:o[1]],l=[s[0],t?t[3][1]:s[1]];return[a,c,l,A]}const VZ=(e,t,n)=>{const r=Math.cos(e)*t,i=Math.sin(e)*t;return{x:r*n,y:i}},nd=(e,t)=>t/Math.tan(e/2);function WZ(e,t){const[n,r,i,a]=e,[o,s,A,c]=t,l=r[0]-n[0]>i[0]-a[0],u=Math.atan2(Math.abs(r[1]-i[1]),Math.abs(r[0]-i[0])),f=l?[nd(u,o),nd(u,s),A,c]:[o,s,nd(u,A),nd(u,c)],d=l?1:-1,h=f.map(p=>VZ(u,p,d));return[`M${n[0]+f[0]} ${n[1]}`,`L${r[0]-f[1]} ${r[1]}`,`Q${r[0]} ${r[1]} ${r[0]-h[1].x} ${r[1]+h[1].y}`,`L${i[0]+h[2].x} ${i[1]-h[2].y}`,`Q${i[0]} ${i[1]} ${i[0]-f[2]} ${i[1]}`,`L${a[0]+f[3]} ${a[1]}`,`Q${a[0]} ${a[1]} ${a[0]-h[3].x} ${a[1]-h[3].y}`,`L${n[0]+h[0].x} ${n[1]+h[0].y}`,`Q${n[0]} ${n[1]} ${n[0]+f[0]} ${n[1]}`,"Z"].join(" ")}const Mb=(e,t)=>{const{adjustPoints:n=zZ,radius:r,radiusTopLeft:i=r,radiusTopRight:a=r,radiusBottomRight:o=r,radiusBottomLeft:s=r,innerRadius:A=0,innerRadiusTopLeft:c=A,innerRadiusTopRight:l=A,innerRadiusBottomRight:u=A,innerRadiusBottomLeft:f=A,first:d=!0,last:h=!0}=e,p=U2(e,["adjustPoints","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","first","last"]),{coordinate:g,document:v}=t;return(y,m,b,w)=>{const{index:B}=m,{color:x}=b,C=U2(b,["color"]),E=w[B+1],O=w[B-1],S=n(y,E,O,g,p.reverse),_=!!Ct(g),[F,k,Q,L]=_?hg(S):S,{color:T=x,opacity:M}=m,I=[d?i??c:c,d?a??l:l,h?o??u:u,h?s??f:f],U=I.find(R=>R>0)?WZ([F,k,Q,L],I):Ls().curve(nb)([F,k,Q,L]);return _e(v.createElement("path",{})).call(we,C).style("d",U).style("fill",T).style("fillOpacity",M).call(we,p).node()}};Mb.props={defaultMarker:"square"};function YZ(e,t,n,r,i){const[a,o,s,A]=e;if(Ct(r)){if(i){const d=[n?n[1][0]:(a[0]+A[0])/2,a[1]],h=[n?n[2][0]:(a[0]+A[0])/2,A[1]];return[d,o,s,h]}const u=[t?t[0][0]:(o[0]+s[0])/2,o[1]],f=[t?t[3][0]:(o[0]+s[0])/2,s[1]];return[a,u,f,A]}if(i){const u=[a[0],n?n[1][1]:(a[1]+A[1])/2],f=[A[0],n?n[2][1]:(a[1]+A[1])/2];return[u,o,s,f]}const c=[o[0],t?t[0][1]:(o[1]+s[1])/2],l=[s[0],t?t[3][1]:(o[1]+s[1])/2];return[a,c,l,A]}const QI=(e,t)=>Mb(Object.assign({adjustPoints:YZ},e),t);QI.props={defaultMarker:"square"};function VA(e){const t=typeof e=="function"?e:e.render;return class extends sc{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}var P2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const XZ=VA(e=>{const{d1:t,d2:n,style1:r,style2:i}=e.attributes,a=e.ownerDocument;_e(e).maybeAppend("line",()=>a.createElement("path",{})).style("d",t).call(we,r),_e(e).maybeAppend("line1",()=>a.createElement("path",{})).style("d",n).call(we,i)});function qZ(e,t){const n=[],r=[];let i=!1,a=null;for(const o of e)!t(o[0])||!t(o[1])?i=!0:(n.push(o),i&&(i=!1,r.push([a,o])),a=o);return[n,r]}const Zr=(e,t)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:a=l=>!Number.isNaN(l)&&l!==void 0&&l!==null,connect:o=!1}=e,s=P2(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:A,document:c}=t;return(l,u,f)=>{const{color:d,lineWidth:h}=f,p=P2(f,["color","lineWidth"]),{color:g=d,size:v=h,seriesColor:y,seriesX:m,seriesY:b}=u,w=kI(A,u),B=Ct(A),x=r&&y?MI(y,m,b,r,i,B):g,C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},p),x&&{stroke:x}),v&&{lineWidth:v}),w&&{transform:w}),s);let E;if(lt(A)){const Q=A.getCenter();E=L=>CK().angle((T,M)=>jA(Wt(L[M],Q))).radius((T,M)=>Ht(L[M],Q)).defined(([T,M])=>a(T)&&a(M)).curve(n)(L)}else E=Ls().x(Q=>Q[0]).y(Q=>Q[1]).defined(([Q,L])=>a(Q)&&a(L)).curve(n);const[O,S]=qZ(l,a),_=de(C,"connect"),F=!!S.length;if(!F||o&&!Object.keys(_).length)return _e(c.createElement("path",{})).style("d",E(O)||[]).call(we,C).node();if(F&&!o)return _e(c.createElement("path",{})).style("d",E(l)).call(we,C).node();const k=Q=>Q.map(E).join(",");return _e(new XZ).style("style1",Object.assign(Object.assign({},C),_)).style("style2",C).style("d1",k(S)).style("d2",E(l)).node()}};Zr.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const II=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const i=lt(n)?nb:Iu;return Zr(Object.assign({curve:i},e),t)(...r)}};II.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"line"});var ZZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const LI=(e,t)=>{const n=ZZ(e,[]),{coordinate:r}=t;return(...i)=>{const a=lt(r)?mT:Ct(r)?CT:xT;return Zr(Object.assign({curve:a},n),t)(...i)}};LI.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"smooth"});const UI=(e,t)=>Zr(Object.assign({curve:ST},e),t);UI.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"hv"});const PI=(e,t)=>Zr(Object.assign({curve:OT},e),t);PI.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"vh"});const NI=(e,t)=>Zr(Object.assign({curve:ET},e),t);NI.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"hvh"});var JZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function eJ(e,t,n,r,i){const a=Wt(n,t),o=Wr(a),s=o+Math.PI/2,A=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],l=[i/2*Math.cos(o),i/2*Math.sin(o)],u=[r/2*Math.cos(o),r/2*Math.sin(o)],f=af(t,A),d=af(n,c),h=af(d,l),p=af(n,l),g=Wt(p,c),v=Wt(n,c),y=Wt(t,A),m=Wt(y,u),b=Wt(t,u),w=Wt(f,u);e.moveTo(...f),e.lineTo(...d),e.arcTo(...h,...p,i/2),e.arcTo(...g,...v,i/2),e.lineTo(...y),e.arcTo(...m,...b,r/2),e.arcTo(...w,...f,r/2),e.closePath()}const RI=(e,t)=>{const{document:n}=t;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:A}=a,c=JZ(a,["color"]),l=Xr();for(let u=0;u<r.length-1;u++){const f=r[u],d=r[u+1],h=o[u],p=o[u+1];[...f,...d].every(Bt)&&eJ(l,f,d,h,p)}return _e(n.createElement("path",{})).call(we,c).style("fill",s||A).style("d",l.toString()).call(we,e).node()}};RI.props=Object.assign(Object.assign({},Zr.props),{defaultMarker:"line"});var tJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kb=(e,t,n)=>[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]];kb.style=["fill"];const HI=kb.bind(void 0);HI.style=["stroke","lineWidth"];const gg=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]];gg.style=["fill"];const DI=gg.bind(void 0);DI.style=["fill"];const jI=gg.bind(void 0);jI.style=["stroke","lineWidth"];const Tb=(e,t,n)=>{const r=n*.618;return[["M",e-r,t],["L",e,t-n],["L",e+r,t],["L",e,t+n],["Z"]]};Tb.style=["fill"];const $I=Tb.bind(void 0);$I.style=["stroke","lineWidth"];const Qb=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]};Qb.style=["fill"];const KI=Qb.bind(void 0);KI.style=["stroke","lineWidth"];const Ib=(e,t,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]};Ib.style=["fill"];const GI=Ib.bind(void 0);GI.style=["stroke","lineWidth"];const Lb=(e,t,n)=>{const r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]};Lb.style=["fill"];const zI=Lb.bind(void 0);zI.style=["stroke","lineWidth"];const Ub=(e,t,n)=>{const r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]};Ub.style=["fill"];const VI=Ub.bind(void 0);VI.style=["stroke","lineWidth"];const WI=(e,t,n)=>[["M",e,t+n],["L",e,t-n]];WI.style=["stroke","lineWidth"];const YI=(e,t,n)=>[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]];YI.style=["stroke","lineWidth"];const XI=(e,t,n)=>[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]];XI.style=["stroke","lineWidth"];const qI=(e,t,n)=>[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]];qI.style=["stroke","lineWidth"];const ZI=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];ZI.style=["stroke","lineWidth"];const Pb=(e,t,n)=>[["M",e-n,t],["L",e+n,t]];Pb.style=["stroke","lineWidth"];const JI=Pb.bind(void 0);JI.style=["stroke","lineWidth"];const eL=(e,t,n)=>[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]];eL.style=["stroke","lineWidth"];const tL=(e,t,n)=>[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]];tL.style=["stroke","lineWidth"];const nL=(e,t,n)=>[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]];nL.style=["stroke","lineWidth"];const rL=(e,t,n)=>[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]];rL.style=["stroke","lineWidth"];const iL=(e,t,n)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];iL.style=["stroke","lineWidth"];const Nh=new Map([["bowtie",Ub],["cross",YI],["dash",JI],["diamond",Tb],["dot",Pb],["hexagon",Lb],["hollowBowtie",VI],["hollowDiamond",$I],["hollowHexagon",zI],["hollowPoint",HI],["hollowSquare",jI],["hollowTriangle",KI],["hollowTriangleDown",GI],["hv",tL],["hvh",rL],["hyphen",ZI],["line",WI],["plus",qI],["point",kb],["rect",DI],["smooth",eL],["square",gg],["tick",XI],["triangleDown",Ib],["triangle",Qb],["vh",nL],["vhv",iL]]);function nJ(e,t){var{d:n,fill:r,lineWidth:i,path:a,stroke:o,color:s}=t,A=tJ(t,["d","fill","lineWidth","path","stroke","color"]);const c=Nh.get(e)||Nh.get("point");return(...l)=>new bn({style:Object.assign(Object.assign({},A),{d:c(...l),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}function Nb(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}function rJ(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var iJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function aL(e,t,n,r){if(t.length===1)return;const{size:i}=n;if(e==="fixed")return i;if(e==="normal"||_T(r)){const[[a,o],[s,A]]=t,c=Math.abs((s-a)/2),l=Math.abs((A-o)/2);return Math.max(0,(c+l)/2)}return i}const qe=(e,t)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=e,a=iJ(e,["colorAttribute","symbol","mode"]),o=Nh.get(Nb(r))||Nh.get("point"),{coordinate:s,document:A}=t;return(c,l,u)=>{const{lineWidth:f,color:d}=u,h=a.stroke?f||1:f,{color:p=d,transform:g,opacity:v}=l,[y,m]=_b(c),w=aL(i,c,l,s)||a.r||u.r;return _e(A.createElement("path",{})).call(we,u).style("fill","transparent").style("d",o(y,m,w)).style("lineWidth",h).style("transform",g).style("transformOrigin",`${y-w} ${m-w}`).style("stroke",p).style(Fb(e),v).style(n,p).call(we,a).node()}};qe.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Rb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);Rb.props=Object.assign({defaultMarker:"hollowBowtie"},qe.props);const Hb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);Hb.props=Object.assign({defaultMarker:"hollowDiamond"},qe.props);const Db=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);Db.props=Object.assign({defaultMarker:"hollowHexagon"},qe.props);const jb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);jb.props=Object.assign({defaultMarker:"hollowPoint"},qe.props);const $b=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);$b.props=Object.assign({defaultMarker:"hollowSquare"},qe.props);const Kb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);Kb.props=Object.assign({defaultMarker:"hollowTriangle"},qe.props);const Gb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);Gb.props=Object.assign({defaultMarker:"hollowTriangleDown"},qe.props);var aJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const oL=(e,t)=>{const{colorAttribute:n,mode:r="auto"}=e,i=aJ(e,["colorAttribute","mode"]),{coordinate:a,document:o}=t;return(s,A,c)=>{const{lineWidth:l,color:u}=c,f=i.stroke?l||1:l,{color:d=u,transform:h,opacity:p}=A,[g,v]=_b(s),m=aL(r,s,A,a)||i.r||c.r;return _e(o.createElement("circle",{})).call(we,c).style("fill","transparent").style("cx",g).style("cy",v).style("r",m).style("lineWidth",f).style("transform",h).style("transformOrigin",`${g} ${v}`).style("stroke",d).style(Fb(e),p).style(n,d).call(we,i).node()}},vg=(e,t)=>oL(Object.assign({colorAttribute:"fill"},e),t);vg.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const zb=(e,t)=>oL(Object.assign({colorAttribute:"stroke"},e),t);zb.props=Object.assign({defaultMarker:"hollowPoint"},vg.props);const Vb=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);Vb.props=Object.assign({defaultMarker:"bowtie"},qe.props);const Wb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);Wb.props=Object.assign({defaultMarker:"cross"},qe.props);const Yb=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);Yb.props=Object.assign({defaultMarker:"diamond"},qe.props);const Xb=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);Xb.props=Object.assign({defaultMarker:"hexagon"},qe.props);const qb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);qb.props=Object.assign({defaultMarker:"hyphen"},qe.props);const Zb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);Zb.props=Object.assign({defaultMarker:"line"},qe.props);const Jb=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);Jb.props=Object.assign({defaultMarker:"plus"},qe.props);const ew=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);ew.props=Object.assign({defaultMarker:"point"},qe.props);const tw=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);tw.props=Object.assign({defaultMarker:"square"},qe.props);const nw=(e,t)=>qe(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);nw.props=Object.assign({defaultMarker:"tick"},qe.props);const rw=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);rw.props=Object.assign({defaultMarker:"triangle"},qe.props);const iw=(e,t)=>qe(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);iw.props=Object.assign({defaultMarker:"triangleDown"},qe.props);var N2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const aw=(e,t)=>{const{arrow:n=!0,arrowSize:r="40%"}=e,i=N2(e,["arrow","arrowSize"]),{document:a}=t;return(o,s,A)=>{const{defaultColor:c}=A,l=N2(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,p=Xr();if(p.moveTo(...d),p.lineTo(...h),n){const[g,v]=GZ(d,h,{arrowSize:r});p.moveTo(...g),p.lineTo(...h),p.lineTo(...v)}return _e(a.createElement("path",{})).call(we,l).style("d",p.toString()).style("stroke",u).style("transform",f).call(we,i).node()}};aw.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function sL(e,t){t(e),e.children&&e.children.forEach(function(n){n&&sL(n,t)})}function Hu(e){yg(e,!0)}function Mo(e){yg(e,!1)}function yg(e,t){var n=t?"visible":"hidden";sL(e,function(r){r.attr("visibility",n)})}var oJ=function(e){Qt(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,xe([],H(n),!1))||this;return i.isMutationObserved=!0,i.addEventListener(Xe.INSERTED,function(){Mo(i)}),i}return t}(xn);function AL(e){var t=e.appendChild(new oJ({class:"offscreen"}));return Mo(t),t}function sJ(e){for(var t=e;t;){if(t.className==="offscreen")return!0;t=t.parent}return!1}var ow=function(e){Qt(t,e);function t(n){n===void 0&&(n={});var r=n.style,i=ln(n,["style"]);return e.call(this,Ae({style:Ae({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=AL(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t}(fi);function WA(e){return e*Math.PI/180}function cL(e){return Number((e*180/Math.PI).toPrecision(5))}var Lt=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=n,this.width=r,this.height=i}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(t,n){return t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom},e}();function hr(e,t){return mn(e)?e.apply(void 0,xe([],H(t),!1)):e}var Jr=function(e,t){var n=function(i){return"".concat(t,"-").concat(i)},r=Object.fromEntries(Object.entries(e).map(function(i){var a=H(i,2),o=a[0],s=a[1],A=n(s);return[o,{name:A,class:".".concat(A),id:"#".concat(A),toString:function(){return A}}]}));return Object.assign(r,{prefix:n}),r},AJ=5,lL=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=AJ),Object.entries(t).forEach(function(i){var a=H(i,2),o=a[0],s=a[1],A=e;Object.prototype.hasOwnProperty.call(t,o)&&(s?Ma(s)?(Ma(e[o])||(A[o]={}),n<r?lL(e[o],s,n+1,r):A[o]=t[o]):Cn(s)?(A[o]=[],A[o]=A[o].concat(s)):A[o]=s:A[o]=s)})},di=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)lL(e,t[r]);return e},cJ=function(e){return e!==void 0&&e!=null&&!Number.isNaN(e)},rd,uL=z5(function(e,t){var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,a=t.fontStyle,o=t.fontVariant;return rd||(rd=ce.offscreenCanvasCreator.getOrCreateContext(void 0)),rd.font=[a,o,i,"".concat(n,"px"),r].join(" "),rd.measureText(e).width},function(e,t){return[e,Object.values(t||fL(e)).join()].join("")},4096),fL=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",i=e.style.fontVariant,a=e.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:i}};function dL(e){return e.nodeName==="text"?e:e.nodeName==="g"&&e.children.length===1&&e.children[0].nodeName==="text"?e.children[0]:null}function hL(e,t){var n=dL(e);n&&n.attr(t)}function qy(e,t,n){n===void 0&&(n="..."),hL(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function lJ(e,t,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),hL(e,{wordWrap:!0,wordWrapWidth:t,maxLines:n,textBaseline:r})}function pL(e){var t=e.canvas,n=e.touches,r=e.offsetX,i=e.offsetY;if(t){var a=t.x,o=t.y;return[a,o]}if(n){var s=n[0],A=s.clientX,c=s.clientY;return[A,c]}return r&&i?[r,i]:[0,0]}function R2(e){var t=e.nativeEvent,n=e.touches,r=e.clientX,i=e.clientY;if(t)return[t.clientX,t.clientY];if(n){var a=n[0],o=a.clientX,s=a.clientY;return[o,s]}return typeof r=="number"&&typeof i=="number"?[r,i]:[0,0]}function Os(e){return typeof e=="function"?e():Ut(e)||Et(e)?new ow({style:{text:String(e)}}):e}function uJ(e,t){return typeof e=="function"?e():Ut(e)||Et(e)?new Ps({style:Ae(Ae({pointerEvents:"auto"},t),{innerHTML:e})}):e}function fJ(e,t){return e.reduce(function(n,r){return(n[r[t]]=n[r[t]]||[]).push(r),n},{})}function rr(e,t,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),e?n(t):(r&&i(t),null)}function kn(e,t,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&e===t||i&&e===n?!0:e>t&&e<n}var dJ=function(e,t){return function(n){return e*(1-n)+t*n}};function hJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(i){var a=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)a[s]=sw(e[s],t[s]);for(;s<n;++s)o[s]=t[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function pJ(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},r={};return Object.entries(t).forEach(function(i){var a=H(i,2),o=a[0],s=a[1];o in e?n[o]=sw(e[o],s):r[o]=s}),function(i){return Object.entries(n).forEach(function(a){var o=H(a,2),s=o[0],A=o[1];return r[s]=A(i)}),r}}function sw(e,t){return typeof e=="number"&&typeof t=="number"?dJ(e,t):Array.isArray(e)&&Array.isArray(t)?hJ(e,t):typeof e=="object"&&typeof t=="object"?pJ(e,t):function(n){return e}}function gJ(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var i=r.duration,a=i===void 0?0:i,o=sw(t,n),s=Math.ceil(+a/16),A=new Array(s).fill(0).map(function(c,l,u){return{__keyframe_data__:o(l/(u.length-1))}});return e.animate(A,Ae({fill:"both"},r))}function H2(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<e.length;a++){var o=e[a],s=o.x,A=o.y,c=o.width,l=o.height,u=H([s+c,A+l],2),f=u[0],d=u[1];s<t&&(t=s),A<n&&(n=A),f>r&&(r=f),d>i&&(i=d)}return new Lt(t,n,r-t,i-n)}var vJ=function(e,t,n){var r=e.width,i=e.height,a=n.flexDirection,o=a===void 0?"row":a;n.flexWrap;var s=n.justifyContent,A=s===void 0?"flex-start":s;n.alignContent;var c=n.alignItems,l=c===void 0?"flex-start":c,u=o==="row",f=o==="row"||o==="column",d=u?f?[1,0]:[-1,0]:f?[0,1]:[0,-1],h=H([0,0],2),p=h[0],g=h[1],v=t.map(function(C){var E,O=C.width,S=C.height,_=H([p,g],2),F=_[0],k=_[1];return E=H([p+O*d[0],g+S*d[1]],2),p=E[0],g=E[1],new Lt(F,k,O,S)}),y=H2(v),m={"flex-start":0,"flex-end":u?r-y.width:i-y.height,center:u?(r-y.width)/2:(i-y.height)/2},b=v.map(function(C){var E=C.x,O=C.y,S=Lt.fromRect(C);return S.x=u?E+m[A]:E,S.y=u?O:O+m[A],S});H2(b);var w=function(C){var E=H(u?["height",i]:["width",r],2),O=E[0],S=E[1];switch(l){case"flex-start":return 0;case"flex-end":return S-C[O];case"center":return S/2-C[O]/2;default:return 0}},B=b.map(function(C){var E=C.x,O=C.y,S=Lt.fromRect(C);return S.x=u?E:E+w(S),S.y=u?O+w(S):O,S}),x=B.map(function(C){var E,O,S=Lt.fromRect(C);return S.x+=(E=e.x)!==null&&E!==void 0?E:0,S.y+=(O=e.y)!==null&&O!==void 0?O:0,S});return x},yJ=function(e,t,n){return[]};const mJ=function(e,t,n){if(t.length===0)return[];var r={flex:vJ,grid:yJ},i=n.display in r?r[n.display]:null;return(i==null?void 0:i.call(null,e,t,n))||[]};function ya(e,t){return[e[0]*t,e[1]*t]}function Yc(e,t){return[e[0]+t[0],e[1]+t[1]]}function q0(e,t){return[e[0]-t[0],e[1]-t[1]]}function Go(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function zo(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function tu(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function gL(e){if(e[0]===0&&e[1]===0)return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function bJ(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}function Zy(e,t){return+e.toPrecision(t)}function Jy(e,t){var n={},r=Array.isArray(t)?t:[t];for(var i in e)r.includes(i)||(n[i]=e[i]);return n}function wJ(e,t,n,r){var i,a=[],o=!!r,s,A,c=[1/0,1/0],l=[-1/0,-1/0],u,f,d;if(o){i=H(r,2),c=i[0],l=i[1];for(var h=0,p=e.length;h<p;h+=1){var g=e[h];c=Go(c,g),l=zo(l,g)}}for(var h=0,v=e.length;h<v;h+=1){var g=e[h];if(h===0)d=g;else if(h===v-1)f=g,a.push(d),a.push(f);else{var y=[h?h-1:v-1,h-1][1];s=e[y],A=e[h+1];var m=[0,0];m=q0(A,s),m=ya(m,t);var b=tu(g,s),w=tu(g,A),B=b+w;B!==0&&(b/=B,w/=B);var x=ya(m,-b),C=ya(m,w);f=Yc(g,x),u=Yc(g,C),u=Go(u,zo(A,g)),u=zo(u,Go(A,g)),x=q0(u,g),x=ya(x,-b/w),f=Yc(g,x),f=Go(f,zo(s,g)),f=zo(f,Go(s,g)),C=q0(g,f),C=ya(C,w/b),u=Yc(g,C),o&&(f=zo(f,c),f=Go(f,l),u=zo(u,c),u=Go(u,l)),a.push(d),a.push(f),d=u}}return a}function BJ(e,t,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!1,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=wJ(i,.4,r,n),A=i.length,c=[],l,u,f,a=0;a<A-1;a+=1)l=s[a*2],u=s[a*2+1],f=i[a+1],c.push(["C",l[0],l[1],u[0],u[1],f[0],f[1]]);return c}var xJ=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function CJ(e){return xJ.includes(e)}function D2(e){var t={};for(var n in e)CJ(n)&&(t[n]=e[n]);return t}function EJ(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],i=0;i<e.length;i+=n)r.push(e[i]);return r}function Aw(e,t,n){var r=e.getBBox(),i=r.width,a=r.height,o=t/Math.max(i,a);return e.style.transform="scale(".concat(o,")"),o}function OJ(e,t){var n=new Map;return e.forEach(function(r){var i=t(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}),n}function SJ(e){throw new Error(e)}var FJ=function(){function e(i,a,o,s,A,c,l){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),A===void 0&&(A=[null,null,null,null,null]),c===void 0&&(c=[]),l===void 0&&(l=[]),t.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=A[0],this._update=A[1],this._exit=A[2],this._merge=A[3],this._split=A[4],this._transitions=c,this._facetElements=l}e.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(a,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(this._elements,null,this._parent,this._document,void 0,void 0,a)},e.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new n([a],null,a,this._document)},e.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var A=0;A<this._data.length;A++){var c=this._data[A],l=H(Array.isArray(c)?c:[c,null],2),u=l[0],f=l[1],d=o(u,A);d.__data__=u,f!==null&&(d.__fromElements__=f),this._parent.appendChild(d),s.push(d)}return new n(s,null,this._parent,this._document)}for(var A=0;A<this._elements.length;A++){var h=this._elements[A],u=h.__data__,d=o(u,A);h.appendChild(d),s.push(d)}return new n(s,null,s[0],this._document)},e.prototype.maybeAppend=function(i,a){var o=A0(this,t,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},e.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=A0(this,t,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},e.prototype.maybeAppendByName=function(i,a){var o=A0(this,t,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},e.prototype.data=function(i,a,o){var s,A;a===void 0&&(a=function(O){return O}),o===void 0&&(o=function(){return null});for(var c=[],l=[],u=new Set(this._elements),f=[],d=new Set,h=new Map(this._elements.map(function(O,S){return[a(O.__data__,S),O]})),p=new Map(this._facetElements.map(function(O,S){return[a(O.__data__,S),O]})),g=OJ(this._elements,function(O){return o(O.__data__)}),v=0;v<i.length;v++){var y=i[v],m=a(y,v),b=o(y,v);if(h.has(m)){var w=h.get(m);w.__data__=y,w.__facet__=!1,l.push(w),u.delete(w),h.delete(m)}else if(p.has(m)){var w=p.get(m);w.__data__=y,w.__facet__=!0,l.push(w),p.delete(m)}else if(g.has(m)){var B=g.get(m);f.push([y,B]);try{for(var x=(s=void 0,Cu(B)),C=x.next();!C.done;C=x.next()){var w=C.value;u.delete(w)}}catch(O){s={error:O}}finally{try{C&&!C.done&&(A=x.return)&&A.call(x)}finally{if(s)throw s.error}}g.delete(m)}else if(h.has(b)){var w=h.get(b);w.__toData__?w.__toData__.push(y):w.__toData__=[y],d.add(w),u.delete(w)}else c.push(y)}var E=[new n([],c,this._parent,this._document),new n(l,null,this._parent,this._document),new n(u,null,this._parent,this._document),new n([],f,this._parent,this._document),new n(d,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,E)},e.prototype.merge=function(i){var a=xe(xe([],H(this._elements),!1),H(i._elements),!1),o=xe(xe([],H(this._transitions),!1),H(i._transitions),!1);return new n(a,null,this._parent,this._document,void 0,o)},e.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=n.registry[i];return a?new a:SJ("Unknown node type: ".concat(i))},e.prototype.join=function(i,a,o,s,A){i===void 0&&(i=function(h){return h}),a===void 0&&(a=function(h){return h}),o===void 0&&(o=function(h){return h.remove()}),s===void 0&&(s=function(h){return h}),A===void 0&&(A=function(h){return h.remove()});var c=i(this._enter),l=a(this._update),u=o(this._exit),f=s(this._merge),d=A(this._split);return l.merge(c).merge(u).merge(f).merge(d)},e.prototype.remove=function(){for(var i=function(s){var A=a._elements[s],c=a._transitions[s];c?c.then(function(){return A.remove()}):A.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},e.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,A){a!==void 0&&(this[i]=o.call(this,s,A))})},e.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(A,c){a!==void 0&&(this.style[i]=s.call(this,A,c))})},e.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var A=this;Object.entries(i).forEach(function(c){var l=H(c,2),u=l[0],f=l[1],d=typeof f!="function"||!a?function(){return f}:f;f!==void 0&&A.attr(u,d.call(A,o,s))})})},e.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},e.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},e.prototype.transition=function(i){this._transitions;var a=new Array(this._elements.length);return this.each(function(o,s){a[s]=i.call(this,o,s)}),this._transitions=U5(a),this},e.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},e.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,xe([this._parent,this],H(a),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},e.prototype.parent=function(){return this._parent};var t,n,r;return n=e,t=new WeakSet,r=function(a,o){var s=this._elements[0],A=s.querySelector(a);if(A)return new n([A],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},e.registry={g:xn,rect:_o,circle:Ji,path:bn,text:ow,ellipse:Jp,image:eg,line:Ns,polygon:Ac,polyline:tg,html:Ps},e}();function Ie(e){return new FJ([e],null,e,e.ownerDocument)}function _J(e,t,n){return e.querySelector(t)?Ie(e).select(t):Ie(e).append(n)}function In(e){if(Et(e))return[e,e,e,e];if(Cn(e)){var t=e.length;if(t===1)return[e[0],e[0],e[0],e[0]];if(t===2)return[e[0],e[1],e[0],e[1]];if(t===3)return[e[0],e[1],e[2],e[1]];if(t===4)return e}return[0,0,0,0]}function j2(e){var t=e.getLocalBounds(),n=t.min,r=t.max,i=H([n,r],2),a=H(i[0],2),o=a[0],s=a[1],A=H(i[1],2),c=A[0],l=A[1];return{x:o,y:s,width:c-o,height:l-s,left:o,bottom:l,top:s,right:c}}function MJ(e,t){var n=H(e,2),r=n[0],i=n[1],a=H(t,2),o=a[0],s=a[1];return r!==o&&i===s}function kJ(e,t){var n,r,i=t.attributes;try{for(var a=Cu(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=H(o.value,2),A=s[0],c=s[1];A!=="id"&&A!=="className"&&e.attr(A,c)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function cw(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function TJ(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}function QJ(e,t){return"".concat(t).concat(cw(e))}function $2(e,t,n){var r;n===void 0&&(n=!0);var i=t||((r=e.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=e.replace(new RegExp("^(".concat(i,")")),"");return n?TJ(a):a}function IJ(e,t){Object.entries(t).forEach(function(n){var r=H(n,2),i=r[0],a=r[1];xe([e],H(e.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(A,c){return"".concat(A).concat(c.join(":"),";")},"")}})})}var id=function(e,t){if(!(e!=null&&e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function je(e,t,n){n===void 0&&(n=!1);var r={};return Object.entries(e).forEach(function(i){var a=H(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(id(o,"show")&&id($2(o,"show"),t)!==n)o===QJ(t,"show")?r[o]=s:r[o.replace(new RegExp(cw(t)),"")]=s;else if(!id(o,"show")&&id(o,t)!==n){var A=$2(o,t);A==="filter"&&typeof s=="function"||(r[A]=s)}}}),r}function ki(e,t){return Object.entries(e).reduce(function(n,r){var i=H(r,2),a=i[0],o=i[1];return a.startsWith("show")?n["show".concat(t).concat(a.slice(4))]=o:n["".concat(t).concat(cw(a))]=o,n},{})}function Qa(e,t){t===void 0&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(e).forEach(function(a){var o=H(a,2),s=o[0],A=o[1];t.includes(s)||(n.indexOf(s)!==-1?i[s]=A:r[s]=A)}),[r,i]}function LJ(e,t,n){var r=e.getBBox(),i=r.width,a=r.height,o=H([t,n].map(function(c,l){var u;return c.includes("%")?parseFloat(((u=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||u===void 0?void 0:u[0])||"0")/100*(l===0?i:a):c}),2),s=o[0],A=o[1];return[s,A]}function vL(e,t){if(t)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=t.replace(n,function(i,a,o){return"translate(".concat(LJ(e,a,o),")")});e.attr("transform",r)}catch{}}function UJ(e){var t;return((t=e[0])===null||t===void 0?void 0:t.map(function(n,r){return e.map(function(i){return i[r]})}))||[]}var K2=function(e,t){if(t==null){e.innerHTML="";return}e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,xe([],H(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(n){return e.appendChild(n)}):e.appendChild(t))};function mg(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(t){return t[0]}):e.length>2?[e[0]]:e.split("")}var PJ=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.body.firstElementChild;if(console.log(r==null?void 0:r.getClientRects(),11),!r)return 0;var i=r.getAttribute("style")||"",a=Object.fromEntries(i.split(";").map(function(g){return g.trim()}).filter(function(g){return g.includes(":")}).map(function(g){var v=H(g.split(":").map(function(b){return b.trim()}),2),y=v[0],m=v[1];return[y.toLowerCase(),m]})),o=function(g){if(!g)return 0;var v=g.match(/([\d.]+)px/);return v?parseFloat(v[1]):0};if(a.height)return o(a.height);var s=o(a["font-size"])||16,A=a["line-height"],c;!A||A==="normal"?c=1.2*s:A.endsWith("px")?c=o(A):/^[\d.]+$/.test(A)?c=parseFloat(A)*s:c=s;var l=o(a["padding-top"]),u=o(a["padding-bottom"]);if(a.padding){var f=a.padding.split(/\s+/).map(o);f.length===1||f.length===2?(l=f[0],u=f[0]):(f.length===3||f.length===4)&&(l=f[0],u=f[2])}var d=o(a["border-top-width"]),h=o(a["border-bottom-width"]);if(a.border){var p=a.border.match(/([\d.]+)px/);p&&(d=parseFloat(p[1]),h=parseFloat(p[1]))}if(a["border-width"]){var f=a["border-width"].split(/\s+/).map(o);f.length===1||f.length===2?(d=f[0],h=f[0]):(f.length===3||f.length===4)&&(d=f[0],h=f[2])}return c+l+u+d+h};function NJ(){yg(this,this.attributes.visibility!=="hidden")}var En=function(e){Qt(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this,di({},{style:r},n))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=AL(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},t.prototype.attributeChangedCallback=function(n){n==="visibility"&&NJ.call(this)},t.prototype.update=function(n,r){var i;return this.attr(di({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(n,r){},t.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=ln(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},t}(sc),yL=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},RJ=yL,HJ=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},DJ=function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},jJ=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},$J=function(e,t,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]},KJ=function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]},GJ=function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]},mL=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},zJ=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]},VJ=function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]},WJ=function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]},YJ=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},bL=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},XJ=bL,qJ=function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]},ZJ=function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]},JJ=function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]},eee=function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]};function tee(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}var nee=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]},ree=function(e,t,n){var r=n,i=n*.2,a=n*.7;return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"],["M",e-a,t],["L",e-i,t],["M",e+i,t],["L",e+a,t],["M",e,t-a],["L",e,t-i],["M",e,t+i],["L",e,t+a]]};function iee(e){var t="default";if(xu(e)&&e instanceof Image)t="image";else if(mn(e))t="symbol";else if(Ut(e)){var n=new RegExp("data:(image|text)");e.match(n)?t="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?t="url":t="symbol"}return t}function aee(e){var t=iee(e);return["base64","url","image"].includes(t)?"image":e&&t==="symbol"?"path":null}var rt=function(e){Qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=this.getSubShapeStyle(n),c=A.symbol,l=A.size,u=l===void 0?16:l,f=ln(A,["symbol","size"]),d=aee(c);rr(!!d,Ie(r),function(h){h.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(p){if(d==="image"){var g=u*2;p.styles({img:c,width:g,height:g,x:a-u,y:s-u})}else{var g=u/2,v=mn(c)?c:t.getSymbol(c);p.styles(Ae({d:v==null?void 0:v(a,s,g)},f))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(n,r){t.MARKER_SYMBOL_MAP.set(n,r)},t.getSymbol=function(n){return t.MARKER_SYMBOL_MAP.get(n)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(En);rt.registerSymbol("cross",zJ);rt.registerSymbol("hyphen",YJ);rt.registerSymbol("line",mL);rt.registerSymbol("plus",WJ);rt.registerSymbol("tick",VJ);rt.registerSymbol("circle",yL);rt.registerSymbol("point",RJ);rt.registerSymbol("bowtie",GJ);rt.registerSymbol("hexagon",KJ);rt.registerSymbol("square",HJ);rt.registerSymbol("diamond",DJ);rt.registerSymbol("triangle",jJ);rt.registerSymbol("triangle-down",$J);rt.registerSymbol("line",mL);rt.registerSymbol("dot",bL);rt.registerSymbol("dash",XJ);rt.registerSymbol("smooth",qJ);rt.registerSymbol("hv",ZJ);rt.registerSymbol("vh",JJ);rt.registerSymbol("hvh",eee);rt.registerSymbol("vhv",tee);rt.registerSymbol("focus",ree);function Rh(e,...t){return t.reduce((n,r)=>i=>n(r(i)),e)}function em(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function oee(e,t){const n=t<e?t:e,r=e>t?e:t;return i=>Math.min(Math.max(n,i),r)}function see(e,t,n,r,i){let a=n,o=r||e.length;const s=A=>A;for(;a<o;){const A=Math.floor((a+o)/2);s(e[A])>t?o=A:a=A+1}return a}const G2=Math.sqrt(50),z2=Math.sqrt(10),V2=Math.sqrt(2);function Nd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=G2?10:a>=z2?5:a>=V2?2:1)*10**i:-(10**-i)/(a>=G2?10:a>=z2?5:a>=V2?2:1)}const Aee=(e,t,n=5)=>{const r=[e,t];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=Nd(o,s,n),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=Nd(o,s,n)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=Nd(o,s,n)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function W2(e){return!dt(e)&&!sM(e)&&!Number.isNaN(e)}function Z0(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function cee(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=Z0(o,a,t+1/3),A=Z0(o,a,t),c=Z0(o,a,t-1/3);return[s*255,A*255,c*255,i]}function Y2(e){const t=N1.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?cee(r):null}const Hh=(e,t)=>n=>e*(1-n)+t*n,lee=(e,t)=>{const n=Y2(e),r=Y2(t);return n===null||r===null?n?()=>e:()=>t:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=n[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},uee=(e,t)=>typeof e=="number"&&typeof t=="number"?Hh(e,t):typeof e=="string"&&typeof t=="string"?lee(e,t):()=>e,fee=(e,t)=>{const n=Hh(e,t);return r=>Math.round(n(r))};function X2({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dee({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function hee({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function pee(e){return typeof e=="object"?e.valueOf():e}let q2=class extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=pee,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(X2({map:this.map,initKey:this.initKey},t))}has(t){return super.has(X2({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(dee({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(hee({map:this.map,initKey:this.initKey},t))}},wL=class{constructor(t){this.options=ee({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=ee({},this.options,t),this.rescale(t)}rescale(t){}};const lw=Symbol("defaultUnknown");function Z2(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function J2(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:a}=e;let o=i.get(t);if(o===void 0){if(a!==lw)return a;o=n.push(t)-1,i.set(t,o)}return r[o%r.length]}function eE(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}let gee=class BL extends wL{getDefaultOptions(){return{domain:[],range:[],unknown:lw}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&Z2(this.domainIndexMap,this.getDomain(),this.domainKey),J2({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&Z2(this.rangeIndexMap,this.getRange(),this.rangeKey),J2({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=eE(n),this.rangeKey=eE(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new BL(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}};function vee(e){const t=Math.min(...e);return e.map(n=>n/t)}function yee(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function mee(e){return Math.round(e*1e12)/1e12}function bee(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=e,A=t.length,c=yee(a,A),[l,u]=n,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,g=h-A*p,v=vee(c),y=v.reduce((_,F)=>_+F),m=g/y,b=new q2(t.map((_,F)=>{const k=v[F]*m;return[_,o?Math.floor(k):k]})),w=new q2(t.map((_,F)=>{const Q=v[F]*m+p;return[_,o?Math.floor(Q):Q]})),B=Array.from(w.values()).reduce((_,F)=>_+F),C=(f-(B-B/A*i))*s,E=l+C;let O=o?Math.round(E):E;const S=new Array(A);for(let _=0;_<A;_+=1){S[_]=mee(O);const F=t[_];O+=w.get(F)}return{valueBandWidth:b,valueStep:w,adjustedRange:S}}function wee(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return bee(e);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=e;let l,u,f=a[0];const h=a[1]-f,p=o*2,g=r-s;l=h/Math.max(1,p+g),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const v=new Array(r).fill(0).map((y,m)=>f+m*l);return{valueStep:l,valueBandWidth:u,adjustedRange:v}}let Bee=class xL extends gee{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:lw,flex:[]}}constructor(t){super(t)}clone(){return new xL(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=wee({align:t,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}};const xee=(e,t,n)=>{let r,i,a=e,o=t;if(a===o&&n>0)return[a];let s=Nd(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)/s}return i},Cee=(e,t,n)=>{const[r,i]=e,[a,o]=t;let s,A;return r<i?(s=em(r,i),A=n(a,o)):(s=em(i,r),A=n(o,a)),Rh(A,s)},Eee=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,A=o?[...t].reverse():t;for(let c=0;c<r;c+=1)i[c]=em(s[c],s[c+1]),a[c]=n(A[c],A[c+1]);return c=>{const l=see(e,c,1,r)-1,u=i[l],f=a[l];return Rh(f,u)(c)}},tE=(e,t,n,r)=>(Math.min(e.length,t.length)>2?Eee:Cee)(e,t,r?fee:n);let Oee=class extends wL{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Hh,tickCount:5}}map(t){return W2(t)?this.output(t):this.options.unknown}invert(t){return W2(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...i)}getTicks(){const{tickMethod:t}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return t(n,r,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}chooseNice(){return Aee}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,r.length);return n?oee(i[0],i[a-1]):Xi}composeOutput(t,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=tE(r.map(t),i,o,a);this.output=Rh(s,n,t)}composeInput(t,n,r){const{domain:i,range:a}=this.options,o=tE(a,i.map(t),Hh);this.input=Rh(n,r,o)}},xl=class CL extends Oee{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:uee,tickMethod:xee,tickCount:5}}chooseTransforms(){return[Xi,Xi]}clone(){return new CL(this.options)}};var See=function(e){Qt(t,e);function t(n){var r=this,i=n.style,a=ln(n,["style"]);return r=e.call(this,ee({},{type:"column"},Ae({style:i},a)))||this,r.columnsGroup=new xn({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.columns,i=n.x,a=n.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),Ie(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},t.prototype.update=function(n){this.attr(di({},this.attributes,n)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Ot),Fee=function(e){Qt(t,e);function t(n){var r=this,i=n.style,a=ln(n,["style"]);return r=e.call(this,ee({},{type:"lines"},Ae({style:i},a)))||this,r.linesGroup=r.appendChild(new xn),r.areasGroup=r.appendChild(new xn),r.render(),r}return t.prototype.render=function(){var n=this.attributes,r=n.lines,i=n.areas,a=n.x,o=n.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(n){this.attr(di({},this.attributes,n)),this.render()},t.prototype.renderLines=function(n){Ie(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},t.prototype.renderAreas=function(n){Ie(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},t}(Ot);function _ee(e,t){var n,r=t.x,i=t.y,a=H(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(n=H([o,s],2),s=n[0],o=n[1]),e.map(function(A){var c=A.map(function(l,u){return[r.map(u),qt(i.map(l),s,o)]});return c})}function nu(e,t){t===void 0&&(t=!1);var n=t?e.length-1:0,r=e.map(function(i,a){return xe([a===n?"M":"L"],H(i),!1)});return t?r.reverse():r}function Dh(e,t){if(t===void 0&&(t=!1),e.length<=2)return nu(e);for(var n=[],r=e.length,i=0;i<r;i+=1){var a=t?e[r-i-1]:e[i];Nl(a,n.slice(-2))||n.push.apply(n,xe([],H(a),!1))}var o=BJ(n);return t?o.unshift(xe(["M"],H(e[r-1]),!1)):o.unshift(xe(["M"],H(e[0]),!1)),o}function uw(e,t,n){var r=Pl(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function Mee(e,t,n,r){return e.map(function(i){return uw(t?Dh(i):nu(i),n,r)})}function kee(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],o=nu(a),s=void 0;if(i===0)s=uw(o,t,n);else{var A=e[i-1],c=nu(A,!0);c[0][0]="L",s=xe(xe(xe([],H(o),!1),H(c),!1),[["Z"]],!1)}r.push(s)}return r}function Tee(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var a=e[i],o=Dh(a),s=void 0;if(i===0)s=uw(o,t,n);else{var A=e[i-1],c=Dh(A,!0),l=a[0];c[0][0]="L",s=xe(xe(xe([],H(o),!1),H(c),!1),[xe(["M"],H(l),!1),["Z"]],!1)}r.push(s)}return r}function nE(e){return e.length===0?[0,0]:[th(D5(e,function(t){return th(t)||0})),eh(H5(e,function(t){return eh(t)||0}))]}function rE(e){for(var t=Pl(e),n=t[0].length,r=H([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],a=r[1],o=0;o<t.length;o+=1)for(var s=t[o],A=0;A<n;A+=1)s[A]>=0?(s[A]+=i[A],i[A]=s[A]):(s[A]+=a[A],a[A]=s[A]);return t}var Qee=function(e){Qt(t,e);function t(n){return e.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(t.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||(n==null?void 0:n.length)===0)return[[]];var r=Pl(n);return Et(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?rE(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var n=this.scales.y,r=H(n.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?n.map(a):n.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,i=n.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=je(this.attributes,"area"),A=je(this.attributes,"line"),c=this.containerShape.width,l=this.data;if(l[0].length===0)return{lines:[],areas:[]};var u=this.scales,f=u.x,d=u.y,h=_ee(l,{x:f,y:d}),p=[];if(s){var g=this.baseline;a?p=o?Tee(h,c,g):kee(h,c,g):p=Mee(h,o,c,g)}return{lines:h.map(function(v,y){return Ae({stroke:n.getColor(y),d:o?Dh(v):nu(v)},A)}),areas:p.map(function(v,y){return Ae({d:v,fill:n.getColor(y)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var n=this,r=je(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var A=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=rE(c));var l=this.createScales(c),u=l.x,f=l.y,d=H(nE(c),2),h=d[0],p=d[1],g=new xl({domain:[0,p-(h>0?0:h)],range:[0,A*s]}),v=u.getBandWidth(),y=this.rawData;return{columns:c.map(function(m,b){return m.map(function(w,B){var x=v/c.length,C=function(){return{x:u.map(B)+x*b,y:w>=0?f.map(w):f.map(0),width:x,height:g.map(Math.abs(w))}},E=function(){return{x:u.map(B),y:f.map(w),width:v,height:g.map(y[b][B])}};return Ae(Ae({fill:n.getColor(b)},r),a?E():C())})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){_J(r,".container","rect").attr("className","container").node();var i=n.type,a=n.x,o=n.y,s="spark".concat(i),A=Ae({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);Ie(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(l){return l==="line"?new Fee({className:s,style:A}):new See({className:s,style:A})}).attr("className","spark ".concat(s))},function(c){return c.update(A)},function(c){return c.remove()})},t.prototype.getColor=function(n){var r=this.attributes.color;return Cn(r)?r[n%r.length]:mn(r)?r.call(null,n):r},t.prototype.createScales=function(n){var r,i,a=this.attributes,o=a.type,s=a.scale,A=a.range,c=A===void 0?[]:A,l=a.spacing,u=this.containerShape,f=u.width,d=u.height,h=H(nE(n),2),p=h[0],g=h[1],v=new xl({domain:[(r=c[0])!==null&&r!==void 0?r:p,(i=c[1])!==null&&i!==void 0?i:g],range:[d,d*(1-s)]});return o==="line"?{type:o,x:new xl({domain:[0,n[0].length-1],range:[0,f]}),y:v}:{type:o,x:new Bee({domain:n[0].map(function(y,m){return m}),range:[0,f],paddingInner:l,paddingOuter:l/2,align:.5}),y:v}},t.tag="sparkline",t}(En);function Iee(e){return typeof e=="boolean"?!1:"enter"in e&&"update"in e&&"exit"in e}function iE(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(r){var i=H(r,1),a=i[0];return!t.includes(a)}));return Object.fromEntries(t.map(function(r){return Iee(e)?e[r]===!1?[r,!1]:[r,Ae(Ae({},e[r]),n)]:[r,n]}))}function cc(e,t){e?e.finished.then(t):t()}function Lee(e,t){e.length===0?t():Promise.all(e.map(function(n){return n==null?void 0:n.finished})).then(t)}function EL(e,t){"update"in e?e.update(t):e.attr(t)}function OL(e,t,n){if(t.length===0)return null;if(!n){var r=t.slice(-1)[0];return EL(e,{style:r}),null}return e.animate(t,n)}function Uee(e,t){return!(e.nodeName!=="text"||t.nodeName!=="text"||e.attributes.text!==t.attributes.text)}function Pee(e,t,n,r){if(r===void 0&&(r="destroy"),Uee(e,t))return e.remove(),[null];var i=function(){r==="destroy"?e.destroy():r==="hide"&&Mo(e),t.isVisible()&&Hu(t)};if(!n)return i(),[null];var a=n.duration,o=a===void 0?0:a,s=n.delay,A=s===void 0?0:s,c=Math.ceil(+o/2),l=+o/4,u=H(e.getGeometryBounds().center,2),f=u[0],d=u[1],h=H(t.getGeometryBounds().center,2),p=h[0],g=h[1],v=H([(f+p)/2-f,(d+g)/2-d],2),y=v[0],m=v[1],b=e.style.opacity,w=b===void 0?1:b,B=t.style.opacity,x=B===void 0?1:B,C=e.style.transform||"",E=t.style.transform||"",O=e.animate([{opacity:w,transform:"translate(0, 0) ".concat(C)},{opacity:0,transform:"translate(".concat(y,", ").concat(m,") ").concat(C)}],Ae(Ae({fill:"both"},n),{duration:A+c+l})),S=t.animate([{opacity:0,transform:"translate(".concat(-y,", ").concat(-m,") ").concat(E),offset:.01},{opacity:x,transform:"translate(0, 0) ".concat(E)}],Ae(Ae({fill:"both"},n),{duration:c+l,delay:A+c-l}));return cc(S,i),[O,S]}function ui(e,t,n){var r={},i={};return Object.entries(t).forEach(function(a){var o=H(a,2),s=o[0],A=o[1];if(!Oe(A)){var c=e.style[s]||e.parsedStyle[s]||0;c!==A&&(r[s]=c,i[s]=A)}}),n?OL(e,[r,i],Ae({fill:"both"},n)):(EL(e,i),null)}function bg(e,t){return e.style.opacity||(e.style.opacity=1),ui(e,{opacity:0},t)}var SL={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},FL={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},_L={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Bi=Jr({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Pr=Jr({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Nee=function(e){Qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){var i=n.x,a=n.y,o=n.size,s=o===void 0?10:o,A=n.radius,c=A===void 0?s/4:A,l=n.orientation,u=n.classNamePrefix,f=ln(n,["x","y","size","radius","orientation","classNamePrefix"]),d=s,h=d*2.4,p=u?"".concat(Pr.iconRect.name," ").concat(u,"handle-icon-rect"):Pr.iconRect.name,g=function(B){return u?"".concat(Pr.iconLine,"-").concat(B," ").concat(u,"handle-icon-line"):"".concat(Pr.iconLine,"-").concat(B)},v=Ie(r).maybeAppendByClassName(Pr.iconRect,"rect").attr("className",p).styles(Ae(Ae({},f),{width:d,height:h,radius:c,x:i-d/2,y:a-h/2,transformOrigin:"center"})),y=i+1/3*d-d/2,m=i+2/3*d-d/2,b=a+1/4*h-h/2,w=a+3/4*h-h/2;v.maybeAppendByClassName("".concat(Pr.iconLine,"-1"),"line").attr("className",g(1)).styles(Ae({x1:y,x2:y,y1:b,y2:w},f)),v.maybeAppendByClassName("".concat(Pr.iconLine,"-2"),"line").attr("className",g(2)).styles(Ae({x1:m,x2:m,y1:b,y2:w},f)),l==="vertical"&&(v.node().style.transform="rotate(90)")},t}(En),ML=function(e){Qt(t,e);function t(n){return e.call(this,n,_L)||this}return t.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,A=je(this.attributes,"label"),c=A.x,l=c===void 0?0:c,u=A.y,f=u===void 0?0:u,d=A.transform,h=A.transformOrigin,p=ln(A,["x","y","transform","transformOrigin"]),g=H(Qa(p,[]),2),v=g[0],y=g[1],m=Ie(n).maybeAppendByClassName(Pr.labelGroup,"g").styles(y),b=Ae(Ae({},FL),v),w=b.text,B=ln(b,["text"]);rr(!!s,m,function(x){r.label=x.maybeAppendByClassName(Pr.label,"text").styles(Ae(Ae({},B),{x:a+l,y:o+f,transform:d,transformOrigin:h,text:"".concat(w)})),r.label.on("mousedown",function(C){C.stopPropagation()}),r.label.on("touchstart",function(C){C.stopPropagation()})})},t.prototype.renderIcon=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,A=r.classNamePrefix,c=Ae(Ae({x:i,y:a,orientation:o,classNamePrefix:A},SL),je(this.attributes,"icon")),l=this.attributes.iconShape,u=l===void 0?function(){return new Nee({style:c})}:l,f=Ie(n).maybeAppendByClassName(Pr.iconGroup,"g");f.selectAll(Pr.icon.class).data([u]).join(function(d){return d.append(typeof u=="string"?u:function(){return u(s)}).attr("className",Pr.icon.name)},function(d){return d.update(c)},function(d){return d.remove()})},t.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},t}(En),kL=function(e){Qt(t,e);function t(n){var r=e.call(this,n,Ae(Ae(Ae({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},ki(_L,"handle")),ki(SL,"handleIcon")),ki(FL,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(R2(a));var o=r.availableSpace,s=o.x,A=o.y,c=r.getBBox(),l=c.x,u=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,A])-r.getOrientVal([+l,+u])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,A=a.type;i.stopPropagation();var c=r.getOrientVal(R2(i)),l=c-r.prevPos;if(l){var u=r.getRatio(l);switch(r.target){case"start":o&&r.setValuesOffset(u);break;case"end":o&&r.setValuesOffset(0,u);break;case"selection":o&&r.setValuesOffset(u,u);break;case"track":if(!s)return;r.selectionWidth+=u,A==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,A=s==="range"?i:i[1],c=s==="range"?r.getValues():r.getValues()[1],l=new gt("valuechange",{detail:{oldValue:A,value:c}});r.dispatchEvent(l),o==null||o(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=je(this.attributes,"sparkline");return Ae(Ae({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,i=n.trackSize,a=H(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,i=H(In(r),4),a=i[0],o=i[1],s=i[2],A=i[3],c=this.shape,l=c.width,u=c.height;return{x:A,y:a,width:l-(A+o),height:u-(a+s)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},t.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(Bi.selection.class).each(function(i,a){ui(this,r[a],n)})},t.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&ui(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&ui(this.endHandle,this.getHandleStyle("end"),n))},t.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(n);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},t.prototype.renderTrack=function(n){var r=this.attributes,i=r.x,a=r.y,o=je(this.attributes,"track");this.trackShape=Ie(n).maybeAppendByClassName(Bi.track,"rect").styles(Ae(Ae({x:i,y:a},this.shape),o))},t.prototype.renderBrushArea=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=Ie(n).maybeAppendByClassName(Bi.brushArea,"rect").styles(Ae({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,A=Ie(n).maybeAppendByClassName(Bi.sparklineGroup,"g");rr(s==="horizontal",A,function(c){var l=Ae(Ae({},r.sparklineStyle),{x:a,y:o});c.maybeAppendByClassName(Bi.sparkline,function(){return new Qee({style:l})}).update(l)})},t.prototype.renderHandles=function(){var n=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],A=a?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(Bi.handle.class).data(A.map(function(l){return{type:l}}),function(l){return l.type}).join(function(l){return l.append(function(u){var f=u.type;return new ML({style:n.getHandleStyle(f)})}).each(function(u){var f=u.type;this.attr("class","".concat(Bi.handle.name," ").concat(f,"-handle"));var d="".concat(f,"Handle");c[d]=this,this.addEventListener("pointerdown",c.onDragStart(f))})},function(l){return l.each(function(u){var f=u.type;this.update(c.getHandleStyle(f))})},function(l){return l.each(function(u){var f=u.type,d="".concat(f,"Handle");c[d]=void 0}).remove()})},t.prototype.renderSelection=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=Ie(n).maybeAppendByClassName(Bi.foreground,"g");var A=je(this.attributes,"selection"),c=function(u){return u.style("visibility",function(f){return f.show?"visible":"hidden"}).style("cursor",function(f){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(Ae(Ae({},A),{transform:"translate(".concat(i,", ").concat(a,")")}))},l=this;this.foregroundGroup.selectAll(Bi.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(u,f){return{style:Ae({},u),index:f,show:s==="select"?f===1:f!==1}}),function(u){return u.index}).join(function(u){return u.append("rect").attr("className",Bi.selection.name).call(c).each(function(f,d){var h=this;d===1?(l.selectionShape=Ie(this),this.on("pointerdown",function(p){h.attr("cursor","grabbing"),l.onDragStart("selection")(p)}),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){h.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){h.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){h.attr("cursor","pointer")})):this.on("pointerdown",l.onDragStart("track"))})},function(u){return u.call(c)},function(u){return u.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},t.prototype.clampValues=function(n,r){var i;r===void 0&&(r=4);var a=H(this.range,2),o=a[0],s=a[1],A=H(this.getValues().map(function(g){return Zy(g,r)}),2),c=A[0],l=A[1],u=Array.isArray(n)?n:[c,n??l],f=H((u||[c,l]).map(function(g){return Zy(g,r)}),2),d=f[0],h=f[1];if(this.attributes.type==="value")return[0,qt(h,o,s)];d>h&&(i=H([h,d],2),d=i[0],h=i[1]);var p=h-d;return p>s-o?[o,s]:d<o?c===o&&l===h?[o,h]:[o,p+o]:h>s?l===s&&c===d?[d,s]:[s-p,s]:[d,h]},t.prototype.calcSelectionArea=function(n){var r=H(this.clampValues(n),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,A=o.y,c=o.width,l=o.height;return this.getOrientVal([[{y:A,height:l,x:s,width:i*c},{y:A,height:l,x:i*c+s,width:(a-i)*c},{y:A,height:l,x:a*c,width:(1-a)*c}],[{x:s,width:c,y:A,height:i*l},{x:s,width:c,y:i*l+A,height:(a-i)*l},{x:s,width:c,y:a*l,height:(1-a)*l}]])},t.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,A=i.height,c=H(this.clampValues(),2),l=c[0],u=c[1],f=n==="start"?-r:r,d=(n==="start"?l:u)*this.getOrientVal([s,A])+f;return{x:a+this.getOrientVal([d,s/2]),y:o+this.getOrientVal([A/2,d])}},t.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(n){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,A=i.autoFitLabel,c=je(this.attributes,"handle"),l=je(c,"label"),u=c.spacing,f=this.getHandleSize(),d=this.clampValues(),h=n==="start"?d[0]:d[1],p=s(h),g=new ow({style:Ae(Ae(Ae({},l),this.inferTextStyle(n)),{text:p})}),v=g.getBBox(),y=v.width,m=v.height;if(g.destroy(),!A){if(a==="value")return{text:p,x:0,y:-m-u};var b=u+f+(o==="horizontal"?y/2:0);return r={text:p},r[o==="horizontal"?"x":"y"]=n==="start"?-b:b,r}var w=0,B=0,x=this.availableSpace,C=x.width,E=x.height,O=this.calcSelectionArea()[1],S=O.x,_=O.y,F=O.width,k=O.height,Q=u+f;if(o==="horizontal"){var L=Q+y/2;if(n==="start"){var T=S-Q-y;w=T>0?-L:L}else{var M=C-S-F-Q>y;w=M?L:-L}}else{var I=Q,U=m+Q;n==="start"?B=_-f>m?-U:I:B=E-(_+k)-f>m?U:-I}return{x:w,y:B,text:p}},t.prototype.getHandleLabelStyle=function(n){var r=je(this.attributes,"handleLabel");return Ae(Ae(Ae({},r),this.calcHandleText(n)),this.inferTextStyle(n))},t.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=je(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Ae({cursor:i,shape:n,size:a},r)},t.prototype.getHandleStyle=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,A=r.orientation,c=this.calcHandlePosition(n),l=c.x,u=c.y,f=this.calcHandleText(n),d=o;return!o&&s&&(this.target?d=!0:d=!1),Ae(Ae(Ae({},ki(this.getHandleIconStyle(),"icon")),ki(Ae(Ae({},this.getHandleLabelStyle(n)),f),"label")),{transform:"translate(".concat(l+i,", ").concat(u+a,")"),orientation:A,showLabel:d,type:n,zIndex:3})},t.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,i=n.width,a=n.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},t.prototype.getOrientVal=function(n){var r=H(n,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},t.prototype.setValuesOffset=function(n,r){r===void 0&&(r=0);var i=this.attributes.type,a=H(this.getValues(),2),o=a[0],s=a[1],A=i==="range"?n:0,c=[o+A,s+r].sort();this.innerSetValues(c,!0)},t.prototype.getRatio=function(n){var r=this.availableSpace,i=r.width,a=r.height;return n/this.getOrientVal([i,a])},t.prototype.dispatchCustomEvent=function(n,r,i){var a=this;n.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new gt(i,{detail:o}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var i=n.deltaX,a=n.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s)}},t.tag="slider",t}(En),Ree=function(e){Qt(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new gt("scroll",o)),r.dispatchEvent(new gt("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=H(r.getLocalPosition(),2),s=o[0],A=o[1],c=H(r.padding,4),l=c[0],u=c[3],f=r.getOrientVal([s+u,A+l]),d=r.getOrientVal(pL(i)),h=(d-f)/r.trackLength;r.setValue(h,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new gt("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new gt("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new gt("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new gt("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(t.prototype,"padding",{get:function(){var n=this.attributes.padding;return In(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var n=this.attributes.value,r=H(this.range,2),i=r[0],a=r[1];return qt(n,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,i=n.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,i=H(this.padding,4),a=i[0],o=i[1],s=i[2],A=i[3],c=H(this.getOrientVal([[r,n],[n,r]]),2),l=c[0],u=c[1];return{x:A,y:a,width:+l-(A+o),height:+u-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=H(this.range,2),A=s[0],c=s[1],l=n*(c-A-o);return[l,l+o]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,A=r.padding,c=r.slidable,l=je(this.attributes,"track"),u=je(this.attributes,"thumb"),f=Ae(Ae({x:i,y:a,brushable:!1,orientation:o,padding:A,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},ki(l,"track")),ki(u,"selection"));this.slider=Ie(n).maybeAppendByClassName("scrollbar",function(){return new kL({style:f})}).update(f).node()},t.prototype.render=function(n,r){this.renderSlider(r)},t.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.attributes.value,a=H(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(qt(n,o,s)),r),this.onValueChange(i)},t.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},t.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t}(En),ot={gridGroup:"grid-group",mainGroup:"main-group",lineGroup:"line-group",tickGroup:"tick-group",labelGroup:"label-group",titleGroup:"title-group",grid:"grid",line:"line",lineFirst:"line-first",lineSecond:"line-second",tick:"tick",tickItem:"tick-item",label:"label",labelItem:"label-item",title:"title"},fw={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new bn({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};ee({},fw,{style:{type:"arc"}});ee({},fw,{style:{}});var Te=Jr({mainGroup:ot.mainGroup,gridGroup:ot.gridGroup,grid:ot.grid,lineGroup:ot.lineGroup,line:ot.line,tickGroup:ot.tickGroup,tick:ot.tick,tickItem:ot.tickItem,labelGroup:ot.labelGroup,label:ot.label,labelItem:ot.labelItem,titleGroup:ot.titleGroup,title:ot.title,lineFirst:ot.lineFirst,lineSecond:ot.lineSecond},"axis"),YA=Jr({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function TL(e){return e.reduce(function(t,n,r){return t.push(xe([r===0?"M":"L"],H(n),!1)),t},[])}function Hee(e,t,n){var r=t.connect,i=r===void 0?"line":r,a=t.center;if(i==="line")return TL(e);if(!a)return[];var o=tu(e[0],a),s=n?0:1;return e.reduce(function(A,c,l){return l===0?A.push(xe(["M"],H(c),!1)):A.push(xe(["A",o,o,0,0,s],H(c),!1)),A},[])}function tm(e,t,n){return t.type==="surround"?Hee(e,t,n):TL(e)}function Dee(e,t,n){var r=n.type,i=n.connect,a=n.center,o=n.closed,s=o?[["Z"]]:[],A=H([tm(e,n),tm(t.slice().reverse(),n,!0)],2),c=A[0],l=A[1],u=H([e[0],t.slice(-1)[0]],2),f=u[0],d=u[1],h=function(y,m){return[c,y,l,m,s].flat()};if(i==="line"||r==="surround")return h([xe(["L"],H(d),!1)],[xe(["L"],H(f),!1)]);if(!a)throw new Error("Arc grid need to specified center");var p=H([tu(d,a),tu(f,a)],2),g=p[0],v=p[1];return h([xe(["A",g,g,0,0,1],H(d),!1),xe(["L"],H(d),!1)],[xe(["A",v,v,0,0,0],H(f),!1),xe(["L"],H(f),!1)])}function jee(e,t,n,r){var i=n.animate,a=n.isBillboard,o=t.map(function(s,A){return{id:s.id||"grid-line-".concat(A),d:tm(s.points,n)}});return e.selectAll(YA.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(A,c){var l=hr(D2(Ae({d:A.d},r)),[A,c,o]);this.attr(Ae({class:YA.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},l))})},function(s){return s.transition(function(A,c){var l=hr(D2(Ae({d:A.d},r)),[A,c,o]);return ui(this,l,i.update)})},function(s){return s.transition(function(){var A=this,c=bg(this,i.exit);return cc(c,function(){return A.remove()}),c})}).transitions()}function $ee(e,t,n){var r=n.animate,i=n.connect,a=n.areaFill;if(t.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(h){return o[h%o.length]},A=[],c=0;c<t.length-1;c++){var l=H([t[c].points,t[c+1].points],2),u=l[0],f=l[1],d=Dee(u,f,n);A.push({d,fill:s(c)})}return e.selectAll(YA.region.class).data(A,function(h,p){return p}).join(function(h){return h.append("path").each(function(p,g){var v=hr(p,[p,g,A]);this.attr(v)}).attr("className",YA.region.name)},function(h){return h.transition(function(p,g){var v=hr(p,[p,g,A]);return ui(this,v,r.update)})},function(h){return h.transition(function(){var p=this,g=bg(this,r.exit);return cc(g,function(){return p.remove()}),g})}).transitions()}function Kee(e){var t=e.data,n=t===void 0?[]:t,r=e.closed;return r?n.map(function(i){var a=i.points,o=H(a,1),s=o[0];return Ae(Ae({},i),{points:xe(xe([],H(a),!1),[s],!1)})}):n}var Gee=function(e){Qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var i=ln(n,["type","center","areaFill","closed"]),a=Kee(n),o=Ie(r).maybeAppendByClassName(YA.lineGroup,"g"),s=Ie(r).maybeAppendByClassName(YA.regionGroup,"g"),A=jee(o,a,n,i),c=$ee(s,a,n);return xe(xe([],H(A),!1),H(c),!1)},t}(En);function QL(e,t){return Object.fromEntries(Object.entries(e).map(function(n){var r=H(n,2),i=r[0],a=r[1];return[i,hr(a,t)]}))}function dw(e,t){return t&&mn(t)?e.filter(t):e}function IL(e,t){var n=t.startAngle,r=t.endAngle;return(r-n)*e+n}function wg(e,t){if(t.type==="linear"){var n=H(t.startPos,2),r=n[0],i=n[1],a=H(t.endPos,2),o=a[0],s=a[1],A=H([o-r,s-i],2),c=A[0],l=A[1];return gL([c,l])}var u=WA(IL(e,t));return[-Math.sin(u),Math.cos(u)]}function hw(e,t,n){var r=wg(e,n);return bJ(r,t!=="positive")}function lc(e,t){return hw(e,t.labelDirection,t)}function Rd(e,t,n){return n?"".concat(e," ").concat(n,"axis-").concat(t):e}function Er(e,t,n,r){return r&&e.attr("className",Rd(t.name,n,r)),e}function zee(e,t){var n=H(t.startPos,2),r=n[0],i=n[1],a=H(t.endPos,2),o=a[0],s=a[1],A=H([o-r,s-i],2),c=A[0],l=A[1];return[r+c*e,i+l*e]}function Vee(e,t){var n=t.radius,r=H(t.center,2),i=r[0],a=r[1],o=WA(IL(e,t));return[i+n*Math.cos(o),a+n*Math.sin(o)]}function Bg(e,t){return t.type==="linear"?zee(e,t):Vee(e,t)}function pw(e){return wg(0,e)[1]===0}function LL(e){return wg(0,e)[0]===0}function UL(e,t){return t-e===360}function aE(e,t,n,r,i){var a=t-e,o=H([i,i],2),s=o[0],A=o[1],c=H([WA(e),WA(t)],2),l=c[0],u=c[1],f=function(E){return[n+i*Math.cos(E),r+i*Math.sin(E)]},d=H(f(l),2),h=d[0],p=d[1],g=H(f(u),2),v=g[0],y=g[1];if(UL(e,t)){var m=(u+l)/2,b=H(f(m),2),w=b[0],B=b[1];return[["M",h,p],["A",s,A,0,1,0,w,B],["A",s,A,0,1,0,v,y]]}var x=a>180?1:0,C=e>t?0:1;return"M".concat(h,",").concat(p,",A").concat(s,",").concat(A,",0,").concat(x,",").concat(C,",").concat(v,",").concat(y)}function Wee(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,i=t.center,a=t.radius;return xe(xe([n,r],H(i),!1),[a],!1)}function Yee(e,t,n,r){var i=t.startAngle,a=t.endAngle,o=t.center,s=t.radius,A=t.classNamePrefix;return e.selectAll(Te.line.class).data([{d:aE.apply(void 0,xe(xe([i,a],H(o),!1),[s],!1))}],function(c,l){return l}).join(function(c){var l=c.append("path").attr("className",Te.line.name).styles(t).styles({d:function(u){return u.d}});return Er(l,Te.line,ot.line,A),l},function(c){return c.transition(function(){var l=this,u=gJ(this,Wee(this),xe(xe([i,a],H(o),!1),[s],!1),r.update);if(u){var f=function(){var d=We(l.attributes,"__keyframe_data__");l.style.d=aE.apply(void 0,xe([],H(d),!1))};u.onframe=f,u.onfinish=f}return u}).styles(t)},function(c){return c.remove()}).styles(n).transitions()}function Xee(e,t){t.truncRange,t.truncShape,t.lineExtension}function qee(e,t,n){n===void 0&&(n=[0,0]);var r=H([e,t,n],3),i=H(r[0],2),a=i[0],o=i[1],s=H(r[1],2),A=s[0],c=s[1],l=H(r[2],2),u=l[0],f=l[1],d=H([A-a,c-o],2),h=d[0],p=d[1],g=Math.sqrt(Math.pow(h,2)+Math.pow(p,2)),v=H([-u/g,f/g],2),y=v[0],m=v[1];return[y*h,y*p,m*h,m*p]}function oE(e){var t=H(e,2),n=H(t[0],2),r=n[0],i=n[1],a=H(t[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function Zee(e,t,n,r){var i=t.showTrunc,a=t.startPos,o=t.endPos,s=t.truncRange,A=t.lineExtension,c=t.classNamePrefix,l=H([a,o],2),u=H(l[0],2),f=u[0],d=u[1],h=H(l[1],2),p=h[0],g=h[1],v=H(A?qee(a,o,A):new Array(4).fill(0),4),y=v[0],m=v[1],b=v[2],w=v[3],B=function(I){return e.selectAll(Te.line.class).data(I,function(U,R){return R}).join(function(U){var R=U.append("line").styles(n).transition(function(N){return ui(this,oE(N.line),!1)});return R.attr("className",function(N){if(!c)return"".concat(Te.line.name," ").concat(N.className);var j=Rd(Te.line.name,ot.line,c);if(N.className===Te.lineFirst.name){var K=Rd(Te.lineFirst.name,ot.lineFirst,c);return"".concat(j," ").concat(K)}if(N.className===Te.lineSecond.name){var K=Rd(Te.lineSecond.name,ot.lineSecond,c);return"".concat(j," ").concat(K)}return j}),R},function(U){return U.styles(n).transition(function(R){var N=R.line;return ui(this,oE(N),r.update)})},function(U){return U.remove()}).transitions()};if(!i||!s)return B([{line:[[f+y,d+m],[p+b,g+w]],className:Te.line.name}]);var x=H(s,2),C=x[0],E=x[1],O=p-f,S=g-d,_=H([f+O*C,d+S*C],2),F=_[0],k=_[1],Q=H([f+O*E,d+S*E],2),L=Q[0],T=Q[1],M=B([{line:[[f+y,d+m],[F,k]],className:Te.lineFirst.name},{line:[[L,T],[p+b,g+w]],className:Te.lineSecond.name}]);return Xee(e,t),M}function Jee(e,t,n,r){var i=n.showArrow,a=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,A=n.lineArrowSize,c;if(t==="arc"?c=e.select(Te.line.class):a?c=e.select(Te.lineSecond.class):c=e.select(Te.line.class),!i||!o||n.type==="arc"&&UL(n.startAngle,n.endAngle)){var l=c.node();l&&(l.style.markerEnd=void 0);return}var u=Os(o);u.attr(r),Aw(u,A),c.style("markerEnd",u).style("markerEndOffset",-s)}function ete(e,t,n){var r=t.type,i,a=je(t,"line");return r==="linear"?i=Zee(e,t,Jy(a,"arrow"),n):i=Yee(e,t,Jy(a,"arrow"),n),Jee(e,r,t,a),i}function tte(e,t){return hw(e,t.gridDirection,t)}function PL(e){var t=e.type,n=e.gridCenter;return t==="linear"?n:n||e.center}function nte(e,t){var n=t.gridLength;return e.map(function(r,i){var a=r.value,o=H(Bg(a,t),2),s=o[0],A=o[1],c=H(ya(tte(a,t),n),2),l=c[0],u=c[1];return{id:i,points:[[s,A],[s+l,A+u]]}})}function rte(e,t){var n=t.gridControlAngles,r=PL(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var i=H(r,2),a=i[0],o=i[1];return e.map(function(s,A){var c=s.value,l=H(Bg(c,t),2),u=l[0],f=l[1],d=H([u-a,f-o],2),h=d[0],p=d[1],g=[];return n.forEach(function(v){var y=WA(v),m=H([Math.cos(y),Math.sin(y)],2),b=m[0],w=m[1],B=h*b-p*w+a,x=h*w+p*b+o;g.push([B,x])}),{points:g,id:A}})}function ite(e,t,n,r){var i=n.classNamePrefix,a=je(n,"grid"),o=a.type,s=a.areaFill,A=PL(n),c=dw(t,n.gridFilter),l=o==="segment"?nte(c,n):rte(c,n),u=Ae(Ae({},a),{center:A,areaFill:mn(s)?c.map(function(f,d){return hr(s,[f,d,c])}):s,animate:r,data:l});return e.selectAll(Te.grid.class).data([1]).join(function(f){var d=f.append(function(){return new Gee({style:u})}).attr("className",Te.grid.name);return Er(d,Te.grid,ot.grid,i),d},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}var nm=function(){function e(t,n,r,i){this.set(t,n,r,i)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(t,n,r){var i=this,a=i.x1,o=i.y1,s=i.x2,A=i.y2,c=Math.cos(t),l=Math.sin(t),u=n-n*c+r*l,f=r-n*l-r*c,d=[[c*a-l*A+u,l*a+c*A+f],[c*s-l*A+u,l*s+c*A+f],[c*a-l*o+u,l*a+c*o+f],[c*s-l*o+u,l*s+c*o+f]];return d},e.prototype.set=function(t,n,r,i){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),i<n?(this.y2=n,this.y1=i):(this.y1=n,this.y2=i),this},e.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},e}();function rm(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),i=H(r.min,2),a=i[0],o=i[1],s=H(r.max,2),A=s[0],c=s[1],l=e.getBBox(),u=l.width,f=l.height,d=f,h=0,p=0,g=a,v=o,y=dL(e);if(y){d-=1.5;var m=y.style.textAlign,b=y.style.textBaseline;m==="center"?g=(a+A)/2:(m==="right"||m==="end")&&(g=A),b==="middle"?v=(o+c)/2:b==="bottom"&&(v=c)}var w=H(In(t),4),B=w[0],x=B===void 0?0:B,C=w[1],E=C===void 0?0:C,O=w[2],S=O===void 0?x:O,_=w[3],F=_===void 0?E:_,k=new nm((h+=a)-F,(p+=o)-x,h+u+E,p+d+S);return e.setEulerAngles(n),k.rotatedPoints(WA(n),g,v)}function Xc(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function qc(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return r===0?0:r<0?2:1}function ate(e,t){var n=qc(e[0],e[1],t[0]),r=qc(e[0],e[1],t[1]),i=qc(t[0],t[1],e[0]),a=qc(t[0],t[1],e[1]);return!!(n!==r&&i!==a||n===0&&Xc(e,t[0])||r===0&&Xc(e,t[1])||i===0&&Xc(t,e[0])||a===0&&Xc(t,e[1]))}function ote(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],i=0,a=0;do{var o=[e[a],e[(a+1)%n]];if(ate(o,r)){if(qc(o[0],t,o[1])===0)return Xc(o,t);i++}a=(a+1)%n}while(a!==0);return!!(i&1)}function ste(e,t){return t.every(function(n){return ote(e,n)})}function Ate(e,t,n){var r=e.x1,i=e.x2,a=e.y1,o=e.y2,s=[[r,a],[i,a],[i,o],[r,o]],A=rm(t,n);return ste(s,A)}function cte(e,t){var n=H(e,4),r=n[0],i=n[1],a=n[2],o=n[3],s=H(t,4),A=s[0],c=s[1],l=s[2],u=s[3],f=a-r,d=o-i,h=l-A,p=u-c,g=f*p-h*d;if(g===0)return!1;var v=g>0,y=r-A,m=i-c,b=f*m-d*y;if(b<0===v)return!1;var w=h*m-p*y;return!(w<0===v||b>g===v||w>g===v)}function lte(e,t){var n=[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]];return n.some(function(r){return cte(t,r)})}function ute(e,t,n){var r,i,a=rm(e,n).flat(1),o=rm(t,n).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var A=Cu(s),c=A.next();!c.done;c=A.next()){var l=c.value;if(lte(o,l))return!0}}catch(u){r={error:u}}finally{try{c&&!c.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}return!1}function fte(e,t){var n=e.type,r=e.labelDirection,i=e.crossSize;if(!i)return!1;if(n==="arc"){var a=e.center,o=e.radius,s=H(a,2),A=s[0],c=s[1],l=r==="negative"?0:i,u=-o-l,f=o+l,d=H(In(t),4),h=d[0],p=d[1],g=d[2],v=d[3];return new nm(A+u-v,c+u-h,A+f+p,c+f+g)}var y=H(e.startPos,2),m=y[0],b=y[1],w=H(e.endPos,2),B=w[0],x=w[1],C=H(LL(e)?[-t,0,t,0]:[0,t,0,-t],4),E=C[0],O=C[1],S=C[2],_=C[3],F=lc(0,e),k=ya(F,i),Q=new nm(m,b,B,x);return Q.x1+=_,Q.y1+=E,Q.x2+=O+k[0],Q.y2+=S+k[1],Q}function xg(e,t,n){var r,i,a=t.crossPadding,o=new Set,s=null,A=fte(t,a),c=function(h){return A?Ate(A,h):!0},l=function(h,p){return!h||!h.firstChild?!0:!ute(h.firstChild,p.firstChild,In(n))};try{for(var u=Cu(e),f=u.next();!f.done;f=u.next()){var d=f.value;c(d)?!s||l(s,d)?s=d:(o.add(s),o.add(d)):o.add(d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return Array.from(o)}function J0(e,t){return t===void 0&&(t={}),Oe(e)?0:typeof e=="number"?e:Math.floor(uL(e,t))}function dte(e,t,n,r){if(!(e.length<=0)){var i=t.suffix,a=i===void 0?"...":i,o=t.minLength,s=t.maxLength,A=s===void 0?1/0:s,c=t.step,l=c===void 0?" ":c,u=t.margin,f=u===void 0?[0,0,0,0]:u,d=fL(r.getTextShape(e[0])),h=J0(l,d),p=o?J0(o,d):h,g=J0(A,d);(Oe(g)||g===1/0)&&(g=Math.max.apply(null,e.map(function(B){return B.getBBox().width})));var v=e.slice(),y=H(f,4);y[0],y[1],y[2],y[3];for(var m=function(B){if(v.forEach(function(x){r.ellipsis(r.getTextShape(x),B,a)}),v=xg(e,n,f),v.length<1)return{value:void 0}},b=g;b>p+h;b-=h){var w=m(b);if(typeof w=="object")return w.value}}}var hte={parity:function(e,t){var n=t.seq,r=n===void 0?2:n;return e.filter(function(i,a){return a%r?(Mo(i),!1):!0})}},pte=function(e){return e.filter(cJ)};function gte(e,t,n,r){var i=e.length,a=t.keepHeader,o=t.keepTail;if(!(i<=1||i===2&&a&&o)){var s=hte.parity,A=function(m){return m.forEach(r.show),m},c=2,l=e.slice(),u=e.slice(),f=Math.min.apply(Math,xe([1],H(e.map(function(m){return m.getBBox().width})),!1));if(n.type==="linear"&&(pw(n)||LL(n))){var d=j2(e[0]).left,h=j2(e[i-1]).right,p=Math.abs(h-d)||1;c=Math.max(Math.floor(i*f/p),c)}var g,v;for(a&&(g=l.splice(0,1)[0]),o&&(v=l.splice(-1,1)[0],l.reverse()),A(l);c<e.length&&xg(pte(v?xe(xe([v],H(u),!1),[g],!1):xe([g],H(u),!1)),n,t==null?void 0:t.margin).length;){if(v&&!g&&c%2===0){var y=l.splice(0,1);y.forEach(r.hide)}else if(v&&g){var y=l.splice(0,1);y.forEach(r.hide)}u=s(A(l),{seq:c}),c++}}}function vte(e,t,n,r){var i,a,o=t.optionalAngles,s=o===void 0?[0,45,90]:o,A=t.margin,c=t.recoverWhenFailed,l=c===void 0?!0:c,u=e.map(function(v){return v.getLocalEulerAngles()}),f=function(){return xg(e,n,A).length<1},d=function(v){return e.forEach(function(y,m){var b=Array.isArray(v)?v[m]:v;r.rotate(y,+b)})};try{for(var h=Cu(s),p=h.next();!p.done;p=h.next()){var g=p.value;if(d(g),f())return}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}l&&d(u)}function yte(e){var t=e.type,n=e.labelDirection;return t==="linear"&&pw(e)?n==="negative"?"bottom":"top":"middle"}function mte(e,t,n,r,i){var a,o=t.maxLines,s=o===void 0?3:o,A=t.recoverWhenFailed,c=A===void 0?!0:A,l=t.margin,u=l===void 0?[0,0,0,0]:l,f=hr((a=t.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),d=e.map(function(m){return m.attr("maxLines")||1}),h=Math.min.apply(Math,xe([],H(d),!1)),p=function(){return xg(e,n,u).length<1},g=yte(n),v=function(m){return e.forEach(function(b,w){var B=Array.isArray(m)?m[w]:m;r.wrap(b,f,B,g)})};if(!(h>s)){if(n.type==="linear"&&pw(n)){if(v(s),p())return}else for(var y=h;y<=s;y++)if(v(y),p())return;c&&v(d)}}var bte=new Map([["hide",gte],["rotate",vte],["ellipsis",dte],["wrap",mte]]);function wte(e,t,n){return t.labelOverlap.length<1?!1:n==="hide"?!sJ(e[0]):n==="rotate"?!e.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):n==="ellipsis"||n==="wrap"?e.filter(function(r){return r.querySelector("text")}).length>=1:!0}function Bte(e,t,n,r){var i=t.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(o){var s=o.type,A=bte.get(s);wte(e,t,s)&&(A==null||A(e,o,t,r,n))})}function xte(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r==="positive"?-1:1};return e.reduce(function(r,i){return r*n(i)},1)}function sE(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function im(e,t){var n=H(e,2),r=n[0],i=n[1],a=H(t,2),o=a[0],s=a[1],A=H([r*o+i*s,r*s-i*o],2),c=A[0],l=A[1];return Math.atan2(l,c)}function Cte(e){var t=(e+360)%180;return kn(t,-90,90)||(t+=180),t}function Ete(e,t,n){var r,i=n.labelAlign,a=(r=t.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return t.getLocalEulerAngles();var o=0,s=lc(e.value,n),A=wg(e.value,n);return i==="horizontal"?0:(i==="perpendicular"?o=im([1,0],s):o=im([A[0]<0?-1:1,0],A),Cte(cL(o)))}function NL(e,t,n){var r=n.type,i=n.labelAlign,a=lc(e,n),o=sE(t),s=sE(cL(im([1,0],a))),A="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(A="center",c=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?A="center":s===0?(kn(o,0,90,!1,!0)||kn(o,0,90)||kn(o,270,360))&&(A="start"):s===90?kn(o,0,90,!1,!0)?A="start":(kn(o,90,180)||kn(o,270,360))&&(A="end"):s===270?kn(o,0,90,!1,!0)?A="end":(kn(o,90,180)||kn(o,270,360))&&(A="start"):s===180&&(o===90?A="start":(kn(o,0,90)||kn(o,270,360))&&(A="end")):i==="parallel"?kn(s,0,180,!0)?c="top":c="bottom":i==="horizontal"?kn(s,90,270,!1)?A="end":(kn(s,270,360,!1)||kn(s,0,90))&&(A="start"):i==="perpendicular"&&(kn(s,90,270)?A="end":A="start"),{textAlign:A,textBaseline:c}}function Ote(e,t,n){t.setLocalEulerAngles(e);var r=t.__data__.value,i=NL(r,e,n),a=t.querySelector(Te.labelItem.class);a&&RL(a,i)}function AE(e,t,n){var r=n.showTick,i=n.tickLength,a=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,A=t.indexOf(e),c=hr(s,[e,A,t]),l=H([lc(e.value,n),xte(o,a)],2),u=l[0],f=l[1],d=f===1?hr(r?i:0,[e,A,t]):0,h=H(Yc(ya(u,c+d),Bg(e.value,n)),2),p=h[0],g=h[1];return{x:p,y:g}}function Ste(e,t,n,r){var i=r.labelFormatter,a=mn(i)?function(){return Os(hr(i,[e,t,n,lc(e.value,r)]))}:function(){return Os(e.label||"")};return a}function Fte(e,t,n,r){var i=r.labelRender,a=(We(r,"endPos.0",400)-We(r,"startPos.0",0))/n.length,o=mn(i)?hr(i,[e,t,n,lc(e.value,r)]):e.label||"",s=PJ(o)||30;return function(){return uJ(o,{width:a,height:s})}}var _te={html:["fill"],text:[]};function RL(e,t){["text","html"].includes(e.nodeName)&&e.attr(Jy(t,_te[e.nodeName]))}function Mte(e,t){Bte(this.node().childNodes,e,t,{hide:Mo,show:Hu,rotate:function(n,r){Ote(+r,n,e)},ellipsis:function(n,r,i){n&&qy(n,r||1/0,i)},wrap:function(n,r,i){n&&lJ(n,r,i)},getTextShape:function(n){return n.querySelector(Te.labelItem.class)}})}function cE(e,t,n,r,i){var a=n.indexOf(t),o=i.labelRender,s=i.classNamePrefix,A=Ie(e).append(o?Fte(t,a,n,i):Ste(t,a,n,i)).attr("className",Te.labelItem.name).node();Er(Ie(A),Te.labelItem,ot.labelItem,s);var c=H(Qa(QL(r,[t,a,n])),2),l=c[0],u=c[1],f=u.transform,d=ln(u,["transform"]);vL(A,f);var h=Ete(t,A,i);if(A.getLocalEulerAngles()||A.setLocalEulerAngles(h),RL(A,Ae(Ae({},NL(t.value,h,i)),l)),A.nodeName==="html"){var p=A.getBBox(),g=A.style.x||0;A.attr("x",g-p.width/2)}return e.attr(d),A}function kte(e,t,n,r,i){var a=n.classNamePrefix,o=dw(t,n.labelFilter),s=je(n,"label"),A,c=e.selectAll(Te.label.class).data(o,function(l,u){return u}).join(function(l){var u=l.append("g").attr("className",Te.label.name).transition(function(f){cE(this,f,t,s,n);var d=AE(f,t,n),h=d.x,p=d.y;return this.style.transform="translate(".concat(h,", ").concat(p,")"),null});return Er(u,Te.label,ot.label,a),u},function(l){return l.transition(function(u){var f=this.querySelector(Te.labelItem.class),d=cE(this,u,t,s,n),h=Pee(f,d,r.update),p=AE(u,t,n),g=p.x,v=p.y,y=ui(this,{transform:"translate(".concat(g,", ").concat(v,")")},r.update);return xe(xe([],H(h),!1),[y],!1)})},function(l){return A=l,l.transition(function(){var u=this,f=bg(this.childNodes[0],r.exit);return cc(f,function(){return Ie(u).remove()}),f}),A}).transitions();return Lee(c,function(){Mte.call(e,n,i)}),c}function HL(e,t){return hw(e,t.tickDirection,t)}function Tte(e,t){var n=H(e,2),r=n[0],i=n[1];return[[0,0],[r*t,i*t]]}function Qte(e,t,n,r,i){var a=i.tickLength,o=H(Tte(r,hr(a,[e,t,n])),2),s=H(o[0],2),A=s[0],c=s[1],l=H(o[1],2),u=l[0],f=l[1];return{x1:A,x2:u,y1:c,y2:f}}function Ite(e,t,n,r,i){var a=i.tickFormatter,o=i.classNamePrefix,s=HL(t.value,i),A="line";mn(a)&&(A=function(){return hr(a,[t,n,r,s])});var c=e.append(A).attr("className",Te.tickItem.name);return Er(c,Te.tickItem,ot.tickItem,o),c}function Lte(e,t,n,r,i,a,o){var s=HL(e.value,a),A=Qte(e,t,n,s,a),c=A.x1,l=A.x2,u=A.y1,f=A.y2,d=H(Qa(QL(o,[e,t,n,s])),2),h=d[0],p=d[1];r.node().nodeName==="line"&&r.styles(Ae({x1:c,x2:l,y1:u,y2:f},h)),i.attr(p),r.styles(h)}function lE(e,t,n,r,i,a){var o=Ite(Ie(this),e,t,n,r);Lte(e,t,n,o,this,r,i);var s=H(Bg(e.value,r),2),A=s[0],c=s[1];return ui(this,{transform:"translate(".concat(A,", ").concat(c,")")},a)}function Ute(e,t,n,r){var i=n.classNamePrefix,a=dw(t,n.tickFilter),o=je(n,"tick");return e.selectAll(Te.tick.class).data(a,function(s){return s.id||s.label}).join(function(s){var A=s.append("g").attr("className",Te.tick.name).transition(function(c,l){return lE.call(this,c,l,a,n,o,!1)});return Er(A,Te.tick,ot.tick,i),A},function(s){return s.transition(function(A,c){return this.removeChildren(),lE.call(this,A,c,a,n,o,r.update)})},function(s){return s.transition(function(){var A=this,c=bg(this.childNodes[0],r.exit);return cc(c,function(){return A.remove()}),c})}).transitions()}function Pte(e,t,n){var r=n.titlePosition,i=r===void 0?"lb":r,a=n.titleSpacing,o=mg(i),s=e.node().getLocalBounds(),A=H(s.min,2),c=A[0],l=A[1],u=H(s.halfExtents,2),f=u[0],d=u[1],h=H(t.node().getLocalBounds().halfExtents,2),p=h[0],g=h[1],v=H([c+f,l+d],2),y=v[0],m=v[1],b=H(In(a),4),w=b[0],B=b[1],x=b[2],C=b[3];if(["start","end"].includes(i)&&n.type==="linear"){var E=n.startPos,O=n.endPos,S=H(i==="start"?[E,O]:[O,E],2),_=S[0],F=S[1],k=gL([-F[0]+_[0],-F[1]+_[1]]),Q=H(ya(k,w),2),L=Q[0],T=Q[1];return{x:_[0]+L,y:_[1]+T}}return o.includes("t")&&(m-=d+g+w),o.includes("r")&&(y+=f+p+B),o.includes("l")&&(y-=f+p+C),o.includes("b")&&(m+=d+g+x),{x:y,y:m}}function Nte(e,t,n){var r=e.getGeometryBounds().halfExtents,i=r[1]*2;if(t==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function uE(e,t,n,r,i){var a=je(r,"title"),o=H(Qa(a),2),s=o[0],A=o[1],c=A.transform,l=A.transformOrigin,u=ln(A,["transform","transformOrigin"]);t.styles(u);var f=c||Nte(e.node(),s.direction,s.position);e.styles(Ae(Ae({},s),{transformOrigin:l})),vL(e.node(),f);var d=Pte(Ie(n._offscreen||n.querySelector(Te.mainGroup.class)),t,r),h=d.x,p=d.y,g=ui(t.node(),{transform:"translate(".concat(h,", ").concat(p,")")},i);return g}function Rte(e,t,n,r){var i=n.titleText,a=n.classNamePrefix;return e.selectAll(Te.title.class).data([{title:i}].filter(function(o){return!!o.title}),function(o,s){return o.title}).join(function(o){var s=o.append(function(){return Os(i)}).attr("className",Te.title.name).transition(function(){return uE(Ie(this),e,t,n,r.enter)});return Er(s,Te.title,ot.title,a),s},function(o){return o.transition(function(){return uE(Ie(this),e,t,n,r.update)})},function(o){return o.remove()}).transitions()}function fE(e,t,n,r){var i=e.showLine,a=e.showTick,o=e.showLabel,s=e.classNamePrefix,A=t.maybeAppendByClassName(Te.lineGroup,"g");Er(A,Te.lineGroup,ot.lineGroup,s);var c=rr(i,A,function(h){return ete(h,e,r)})||[],l=t.maybeAppendByClassName(Te.tickGroup,"g");Er(l,Te.tickGroup,ot.tickGroup,s);var u=rr(a,l,function(h){return Ute(h,n,e,r)})||[],f=t.maybeAppendByClassName(Te.labelGroup,"g");Er(f,Te.labelGroup,ot.labelGroup,s);var d=rr(o,f,function(h){return kte(h,n,e,r,t.node())})||[];return xe(xe(xe([],H(c),!1),H(u),!1),H(d),!1).filter(function(h){return!!h})}var gw=function(e){Qt(t,e);function t(n){return e.call(this,n,fw)||this}return t.prototype.render=function(n,r,i){var a=this,o=n.titleText,s=n.data,A=n.animate,c=n.showTitle,l=n.showGrid,u=n.dataThreshold,f=n.truncRange,d=n.classNamePrefix,h=r.className||"axis";d?r.attr("className","".concat(h," ").concat(d,"axis")):r.className||r.attr("className","axis");var p=EJ(s,u).filter(function(x){var C=x.value;return!(f&&C>f[0]&&C<f[1])}),g=iE(i===void 0?A:i),v=Ie(r).maybeAppendByClassName(Te.gridGroup,"g");Er(v,Te.gridGroup,ot.gridGroup,d);var y=rr(l,v,function(x){return ite(x,p,n,g)})||[],m=Ie(r).maybeAppendByClassName(Te.mainGroup,"g");Er(m,Te.mainGroup,ot.mainGroup,d),o&&(!this.initialized&&g.enter||this.initialized&&g.update)&&fE(n,Ie(this.offscreenGroup),p,iE(!1));var b=fE(n,Ie(m.node()),p,g),w=Ie(r).maybeAppendByClassName(Te.titleGroup,"g");Er(w,Te.titleGroup,ot.titleGroup,d);var B=rr(c,w,function(x){return Rte(x,a,n,g)})||[];return xe(xe(xe([],H(y),!1),H(b),!1),H(B),!1).flat().filter(function(x){return!!x})},t}(En);function Yt(e,t,n){return n?"".concat(e," ").concat(n,"legend-").concat(t):e}function Hte(e,t,n){var r=Math.round((e-n)/t);return n+r*t}function Dte(e,t,n){var r=1.4,i=r*n;return[["M",e-n,t-i],["L",e+n,t-i],["L",e+n,t+i],["L",e-n,t+i],["Z"]]}var DL=1.4,jL=.4;function jte(e,t,n){var r=n,i=r*DL,a=r/2,o=r/6,s=e+i*jL;return[["M",e,t],["L",s,t+a],["L",e+i,t+a],["L",e+i,t-a],["L",s,t-a],["Z"],["M",s,t+o],["L",e+i-2,t+o],["M",s,t-o],["L",e+i-2,t-o]]}function $te(e,t,n){var r=n,i=r*DL,a=r/2,o=r/6,s=t+i*jL;return[["M",e,t],["L",e-a,s],["L",e-a,t+i],["L",e+a,t+i],["L",e+a,s],["Z"],["M",e-o,s],["L",e-o,t+i-2],["M",e+o,s],["L",e+o,t+i-2]]}rt.registerSymbol("hiddenHandle",Dte);rt.registerSymbol("verticalHandle",jte);rt.registerSymbol("horizontalHandle",$te);function Kte(e,t,n,r){var i,a=H(e,2),o=a[0],s=a[1],A=H(t,2),c=A[0],l=A[1],u=H(n,2),f=u[0],d=u[1],h=H([c,l],2),p=h[0],g=h[1],v=g-p;return p>g&&(i=H([g,p],2),p=i[0],g=i[1]),v>s-o?[o,s]:p<o?f===o&&d===g?[o,g]:[o,v+o]:g>s?d===s&&f===p?[p,s]:[s-v,s]:[p,g]}function Hi(e,t,n){return e===void 0&&(e="horizontal"),e==="horizontal"?t:n}var Xt={title:"title",item:"item",marker:"marker",label:"label",value:"value",focusIcon:"focus-icon",background:"background",ribbon:"ribbon",track:"track",selection:"selection",handle:"handle",handleMarker:"handle-marker",handleLabel:"handle-label",indicator:"indicator",prevBtn:"prev-btn",nextBtn:"next-btn",pageInfo:"page-info"},Vo=Jr({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),$L={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},Gte=function(e){Qt(t,e);function t(n){return e.call(this,n,$L)||this}return t.prototype.render=function(n,r){var i=Ie(r).maybeAppendByClassName(Vo.markerGroup,"g");this.renderMarker(i);var a=Ie(r).maybeAppendByClassName(Vo.labelGroup,"g");this.renderLabel(a)},t.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.orientation,o=i.classNamePrefix,s=i.markerSymbol,A=s===void 0?Hi(a,"horizontalHandle","verticalHandle"):s;rr(!!A,n,function(c){var l=je(r.attributes,"marker"),u=Ae({symbol:A},l),f=Yt(Vo.marker.name,Xt.handleMarker,o);if(r.marker=c.maybeAppendByClassName(Vo.marker,function(){return new rt({style:u,className:f})}).update(u),o){var d=r.marker.node().querySelector(".marker");if(d){var h=d.getAttribute("class")||"",p=h.split(" ")[0],g=Yt(p,Xt.handleMarker,o);d.setAttribute("class",g)}}})},t.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,A=s===void 0?0:s,c=i.formatter,l=i.classNamePrefix;rr(a,n,function(u){var f,d=je(r.attributes,"label"),h=d.text,p=ln(d,["text"]),g=((f=u.select(Vo.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},v=g.width,y=v===void 0?0:v,m=g.height,b=m===void 0?0:m,w=H(Hi(o,[0,b+A,"center","top"],[y+A,0,"start","middle"]),4),B=w[0],x=w[1],C=w[2],E=w[3],O=Yt(Vo.label.name,Xt.handleLabel,l);u.maybeAppendByClassName(Vo.label,"text").attr("className",O).styles(Ae(Ae({},p),{x:B,y:x,text:c(h).toString(),textAlign:C,textBaseline:E}))})},t}(En),KL={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},zte=di({},KL,{}),Vte=di({},KL,ki($L,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),Wte=.01,An=Jr({title:"title",html:"html",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),ev=Jr({text:"text"},"title");function Yte(e,t){var n=e.attributes,r=n.position,i=n.spacing,a=n.inset,o=n.text,s=e.getBBox(),A=t.getBBox(),c=mg(r),l=H(In(o?i:0),4),u=l[0],f=l[1],d=l[2],h=l[3],p=H(In(a),4),g=p[0],v=p[1],y=p[2],m=p[3],b=H([h+f,u+d],2),w=b[0],B=b[1],x=H([m+v,g+y],2),C=x[0],E=x[1];if(c[0]==="l")return new Lt(s.x,s.y,A.width+s.width+w+C,Math.max(A.height+E,s.height));if(c[0]==="t")return new Lt(s.x,s.y,Math.max(A.width+C,s.width),A.height+s.height+B+E);var O=H([t.attributes.width||A.width,t.attributes.height||A.height],2),S=O[0],_=O[1];return new Lt(A.x,A.y,S+s.width+w+C,_+s.height+B+E)}function Xte(e,t){var n=Object.entries(t).reduce(function(r,i){var a=H(i,2),o=a[0],s=a[1],A=e.node().attr(o);return A||(r[o]=s),r},{});e.styles(n)}function qte(e){var t,n,r,i,a=e,o=a.width,s=a.height,A=a.position,c=H([+o/2,+s/2],2),l=c[0],u=c[1],f=H([+l,+u,"center","middle"],4),d=f[0],h=f[1],p=f[2],g=f[3],v=mg(A);return v.includes("l")&&(t=H([0,"start"],2),d=t[0],p=t[1]),v.includes("r")&&(n=H([+o,"end"],2),d=n[0],p=n[1]),v.includes("t")&&(r=H([0,"top"],2),h=r[0],g=r[1]),v.includes("b")&&(i=H([+s,"bottom"],2),h=i[0],g=i[1]),{x:d,y:h,textAlign:p,textBaseline:g}}var GL=function(e){Qt(t,e);function t(n){return e.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return t.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,A=r.inset,c=n.querySelector(ev.text.class);if(!c)return new Lt(0,0,+i,+a);var l=c.getBBox(),u=l.width,f=l.height,d=H(In(s),4),h=d[0],p=d[1],g=d[2],v=d[3],y=H([0,0,+i,+a],4),m=y[0],b=y[1],w=y[2],B=y[3],x=mg(o);if(x.includes("i"))return new Lt(m,b,w,B);x.forEach(function(L,T){var M,I,U,R;L==="t"&&(M=H(T===0?[f+g,+a-f-g]:[0,+a],2),b=M[0],B=M[1]),L==="r"&&(I=H([+i-u-v],1),w=I[0]),L==="b"&&(U=H([+a-f-h],1),B=U[0]),L==="l"&&(R=H(T===0?[u+p,+i-u-p]:[0,+i],2),m=R[0],w=R[1])});var C=H(In(A),4),E=C[0],O=C[1],S=C[2],_=C[3],F=H([_+O,E+S],2),k=F[0],Q=F[1];return new Lt(m+_,b+E,w-k,B-Q)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new Lt(0,0,0,0)},t.prototype.render=function(n,r){var i=this;n.width,n.height,n.position,n.spacing;var a=n.classNamePrefix,o=ln(n,["width","height","position","spacing","classNamePrefix"]),s=H(Qa(o),1),A=s[0],c=qte(n),l=c.x,u=c.y,f=c.textAlign,d=c.textBaseline;rr(!!o.text,Ie(r),function(h){var p=Yt(ev.text.name,Xt.title,a);i.title=h.maybeAppendByClassName(ev.text,"text").attr("className",p).styles(A).call(Xte,{x:l,y:u,textAlign:f,textBaseline:d}).node()})},t}(En),Yn=Jr({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Zte=function(e){Qt(t,e);function t(n){var r=e.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:nee(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new xn({class:Yn.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new xn({class:Yn.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(t.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return qt(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var n=this.pageViews,r=H(UJ(n.map(function(u){var f=u.getBBox(),d=f.width,h=f.height;return[d,h]})).map(function(u){return Math.max.apply(Math,xe([],H(u),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,A=s===void 0?i:s,c=o.pageHeight,l=c===void 0?a:c;return{pageWidth:A,pageHeight:l}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=e.prototype.getBBox.call(this),r=n.x,i=n.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,A=o.pageHeight;return new Lt(r,i,s+a.width,A)},t.prototype.goTo=function(n){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,A=a.playWindow,c=a.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var l=H(this.getFollowingPageDiff(n),2),u=l[0],f=l[1];this.playState="running";var d=OL(A,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-f,")")}],i);return cc(d,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),d},t.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i<=0)return null;var a=n?(i-1+r)%r:qt(i-1,0,r);return this.goTo(a)},t.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i>=r-1)return null;var a=n?(i+1)%r:qt(i+1,0,r);return this.goTo(a)},t.prototype.renderClipPath=function(n){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(Yn.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,i){n.includes(i)?Hu(r):Mo(r)})},t.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,i=n.nextBtnGroup,a=n.pageInfoGroup,o=this.attributes,s=o.orientation,A=o.controllerPadding,c=a.getBBox(),l=c.width;c.height;var u=H(s==="horizontal"?[-180,0]:[-90,90],2),f=u[0],d=u[1];r.setLocalEulerAngles(f),i.setLocalEulerAngles(d);var h=r.getBBox(),p=h.width,g=h.height,v=i.getBBox(),y=v.width,m=v.height,b=Math.max(p,l,y),w=s==="horizontal"?{offset:[[0,0],[p/2+A,0],[p+l+A*2,0]],textAlign:"start"}:{offset:[[b/2,-g-A],[b/2,0],[b/2,m+A]],textAlign:"center"},B=H(w.offset,3),x=H(B[0],2),C=x[0],E=x[1],O=H(B[1],2),S=O[0],_=O[1],F=H(B[2],2),k=F[0],Q=F[1],L=w.textAlign,T=a.querySelector("text");T&&(T.style.textAlign=L),r.setLocalPosition(C,E),a.setLocalPosition(S,_),i.setLocalPosition(k,Q)},t.prototype.updatePageInfo=function(){var n,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((n=this.pageInfoGroup.querySelector(Yn.pageInfo.class))===null||n===void 0||n.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,A=n<r?-1:1;return i==="horizontal"?[A*o,0]:[0,A*s]},t.prototype.prepareFollowingPage=function(n){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([n,i]),n!==i){var o=H(this.getFollowingPageDiff(n),2),s=o[0],A=o[1];a[n].setLocalPosition(s,A)}},t.prototype.renderController=function(n){var r=this,i=this.attributes,a=i.controllerSpacing,o=i.classNamePrefix,s=o===void 0?"":o,A=this.pageShape,c=A.pageWidth,l=A.pageHeight,u=this.pageViews.length>=2,f=n.maybeAppendByClassName(Yn.controller,"g");if(yg(f.node(),u),!!u){var d=je(this.attributes,"button"),h=je(this.attributes,"pageNum"),p=H(Qa(d),2),g=p[0],v=p[1],y=g.size,m=ln(g,["size"]),b=!f.select(Yn.prevBtnGroup.class).node(),w=f.maybeAppendByClassName(Yn.prevBtnGroup,"g").styles(v);this.prevBtnGroup=w.node();var B=w.maybeAppendByClassName(Yn.prevBtn,"path");if(s){var x=Yt(Yn.prevBtn.name,Xt.prevBtn,s);B.node().setAttribute("class",x)}var C=f.maybeAppendByClassName(Yn.nextBtnGroup,"g").styles(v);this.nextBtnGroup=C.node();var E=C.maybeAppendByClassName(Yn.nextBtn,"path");if(s){var O=Yt(Yn.nextBtn.name,Xt.nextBtn,s);E.node().setAttribute("class",O)}[B,E].forEach(function(k){k.styles(Ae(Ae({},m),{transformOrigin:"center"})),Aw(k.node(),y)});var S=f.maybeAppendByClassName(Yn.pageInfoGroup,"g");this.pageInfoGroup=S.node();var _=S.maybeAppendByClassName(Yn.pageInfo,"text");if(_.styles(h),s){var F=Yt(Yn.pageInfo.name,Xt.pageInfo,s);_.node().setAttribute("class",F)}this.updatePageInfo(),f.node().setLocalPosition(c+a,l/2),b&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},t.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var A=Ie(r);this.renderClipPath(A),this.renderController(A),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var n=this,r=AM(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(Xe.INSERTED,r),this.playWindow.addEventListener(Xe.REMOVED,r)},t}(En),Ge,Jte="component-poptip",Re={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},dE=(Ge={},Ge[".".concat(Re.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Ge[".".concat(Re.TEXT)]={"text-align":"center"},Ge[".".concat(Re.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Ge[".".concat(Re.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Ge[".".concat(Re.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Ge[".".concat(Re.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Ge[".".concat(Re.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Ge[".".concat(Re.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Ge[".".concat(Re.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Ge[".".concat(Re.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},Ge[".".concat(Re.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Ge[".".concat(Re.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Ge[".".concat(Re.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Ge["[data-position='top'] .".concat(Re.ARROW)]={bottom:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Ge["[data-position='left'] .".concat(Re.ARROW)]={right:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},Ge["[data-position='right'] .".concat(Re.ARROW)]={left:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Ge["[data-position='bottom'] .".concat(Re.ARROW)]={top:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Ge["[data-position='top-left'] .".concat(Re.ARROW)]={left:"10px",bottom:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Ge["[data-position='top-right'] .".concat(Re.ARROW)]={right:"10px",bottom:"-2px"},Ge[".".concat(Re.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Ge["[data-position='left-top'] .".concat(Re.ARROW)]={right:"-2px",top:"8px"},Ge[".".concat(Re.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Ge["[data-position='left-bottom'] .".concat(Re.ARROW)]={right:"-2px",bottom:"8px"},Ge[".".concat(Re.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Ge["[data-position='right-top'] .".concat(Re.ARROW)]={left:"-2px",top:"8px"},Ge[".".concat(Re.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Ge["[data-position='right-bottom'] .".concat(Re.ARROW)]={left:"-2px",bottom:"8px"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Ge["[data-position='bottom-left'] .".concat(Re.ARROW)]={top:"-2px",left:"8px"},Ge[".".concat(Re.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Ge["[data-position='bottom-right'] .".concat(Re.ARROW)]={top:"-2px",right:"8px"},Ge),ene=void 0;function tne(e,t,n,r,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[e,t];var o=n.getBoundingClientRect(),s=o.x,A=o.y,c=o.width,l=o.height;switch(r){case"top":return i?[s+c/2,A]:[e,A];case"left":return i?[s,A+l/2]:[s,t];case"bottom":return i?[s+c/2,A+l]:[e,A+l];case"right":return i?[s+c,A+l/2]:[s+c,t];case"top-right":case"right-top":return[s+c,A];case"left-bottom":case"bottom-left":return[s,A+l];case"right-bottom":case"bottom-right":return[s+c,A+l];case"top-left":case"left-top":default:return[s,A]}}var nne=function(e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(ene,n)),t}};function rne(e){var t=e&&document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),document.body.appendChild(t)),t}function ine(e){var t=nne(rne)(e);return t}var ane=function(e){Qt(t,e);function t(n){var r=e.call(this,ee({style:{id:Jte}},t.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.visibility=this.style.visibility,this.updatePoptipElement()},t.prototype.update=function(n){this.attr(ee({},this.style,n)),this.render(this.attributes,this)},t.prototype.bind=function(n,r){var i=this;if(n){var a=this.style.text,o=function(A){var c=n,l=i.style,u=a;if(r){var f=typeof r=="function"?r.call(null,A):r,d=f.html,h=f.target,p=ln(f,["html","target"]);l=K5({},i.style,p),(h||h===!1)&&(c=h),typeof d=="string"&&(u=d)}var g=l.position,v=l.arrowPointAtCenter,y=l.follow,m=l.offset;if(c){var b=A,w=b.clientX,B=b.clientY,x=H(tne(w,B,c,g,v,y),2),C=x[0],E=x[1];i.showTip(C,E,{text:u,position:g,offset:m})}else i.hideTip()},s=function(){i.hideTip()};n.addEventListener("mousemove",o),n.addEventListener("mouseleave",s),this.map.set(n,[o,s])}},t.prototype.unbind=function(n){if(this.map.has(n)){var r=H(this.map.get(n)||[],2),i=r[0],a=r[1];i&&n.removeEventListener("mousemove",i),a&&n.removeEventListener("mouseleave",a),this.map.delete(n)}},t.prototype.clear=function(){this.container.innerHTML=""},t.prototype.destroy=function(){var n=this,r;xe([],H(this.map.keys()),!1).forEach(function(i){return n.unbind(i)}),(r=this.container)===null||r===void 0||r.remove(),e.prototype.destroy.call(this)},t.prototype.showTip=function(n,r,i){var a=We(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),n&&r&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(n,r,o),typeof a=="string"){var A=this.container.querySelector(".".concat(Re.TEXT));A&&(A.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},t.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},t.prototype.getContainer=function(){return this.container},t.prototype.getClassName=function(){var n=this.style.containerClassName;return"".concat(Re.CONTAINER).concat(n?" ".concat(n):"")},t.prototype.initShape=function(){var n=this,r=this.style.id;this.container=ine(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return n.showTip()}),this.container.addEventListener("mouseleave",function(){return n.hideTip()})},t.prototype.updatePoptipElement=function(){var n=this.container;this.clear();var r=this.style,i=r.id,a=r.template,o=r.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var s='<span class="'.concat(Re.ARROW,'"></span>');n.innerHTML=s,Ut(a)?n.innerHTML+=a:a&&$5(a)&&n.appendChild(a),o&&(n.getElementsByClassName(Re.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},t.prototype.applyStyles=function(){var n=di({},dE,this.style.domStyles),r=Object.entries(n).reduce(function(a,o){var s=H(o,2),A=s[0],c=s[1],l=Object.entries(c).reduce(function(u,f){var d=H(f,2),h=d[0],p=d[1];return"".concat(u).concat(h,": ").concat(p,";")},"");return"".concat(a).concat(A,"{").concat(l,"}")},"");if(this.domStyles!==r){this.domStyles=r;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=r,this.container.appendChild(i)}},t.prototype.setOffsetPosition=function(n,r,i){i===void 0&&(i=this.style.offset);var a=H(i,2),o=a[0],s=o===void 0?0:o,A=a[1],c=A===void 0?0:A;this.container.style.left="".concat(n+s,"px"),this.container.style.top="".concat(r+c,"px")},t.tag="poptip",t.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:dE,template:'<div class="'.concat(Re.TEXT,'"></div>')}},t}(En),dn=Jr({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),one={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function sne(e){var t=e.querySelector(dn.marker.class);return t?t.style:{}}var Ane=function(e){Qt(t,e);function t(n,r){var i=e.call(this,n,{span:[1,1],marker:function(){return new Ji({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this;return i.keyFields={},i.keyFields=r||{},i}return Object.defineProperty(t.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,i=this.attributes,a=i.markerSize,o=i.focus,s=i.focusMarkerSize,A=n.node().getBBox(),c=A.width,l=A.height,u=r.node().getBBox(),f=u.width,d=u.height,h=o?s??12:0;return{markerWidth:a,labelWidth:c,valueWidth:f,focusWidth:h,height:Math.max(a,l,d)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=H(In(n),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),t.prototype.setAttribute=function(n,r){e.prototype.setAttribute.call(this,n,r)},Object.defineProperty(t.prototype,"shape",{get:function(){var n,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,A=o.focusWidth,c=o.height,l=this.actualSpace,u=l.labelWidth,f=l.valueWidth,d=H(this.spacing,3),h=d[0],p=d[1],g=d[2];if(a){var v=a-i-h-p-A-g,y=H(this.span,2),m=y[0],b=y[1];n=H([m*v,b*v],2),u=n[0],f=n[1]}var w=s+u+f+h+p+A+g;return{width:w,height:c,markerWidth:s,labelWidth:u,valueWidth:f,focusWidth:A}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var n=this.attributes,r=n.spacing,i=n.focus;if(!r)return[0,0,0];var a=H(In(r),3),o=a[0],s=a[1],A=a[2];return[o,this.showValue?s:0,i?A:0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,i=n.labelWidth,a=n.valueWidth,o=n.focusWidth,s=n.width,A=n.height,c=H(this.spacing,3),l=c[0],u=c[1],f=c[2];return{height:A,width:s,markerWidth:r,labelWidth:i,valueWidth:a,focusWidth:o,position:[r/2,r+l,r+i+l+u,r+i+a+l+u+f+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var n=sne(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?n.strokeWidth:a,s=r.markerLineWidth,A=s===void 0?n.lineWidth:s,c=r.markerStroke,l=c===void 0?n.stroke:c,u=+(o||A||(l?1:0))*Math.sqrt(2),f=this.markerGroup.node().getBBox(),d=f.width,h=f.height;return(1-u/Math.max(d,h))*i},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.marker,o=i.classNamePrefix,s=je(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(dn.markerGroup,"g").style("zIndex",0),rr(!!a,this.markerGroup,function(){var A,c=r.markerGroup.node(),l=(A=c.childNodes)===null||A===void 0?void 0:A[0],u=Yt(dn.marker.name,Xt.marker,o),f=typeof a=="string"?new rt({style:{symbol:a},className:u}):a();if(l)if(f.nodeName===l.nodeName)l instanceof rt?l.update(Ae(Ae({},s),{symbol:a})):(kJ(l,f),Ie(l).styles(s));else{if(l.remove(),!(f instanceof rt)){var h=Yt(dn.marker.name,Xt.marker,o);f.className=h}Ie(f).styles(s),c.appendChild(f)}else{if(!(f instanceof rt)){var d=Yt(dn.marker.name,Xt.marker,o);f.className=d,Ie(f).styles(s)}c.appendChild(f)}r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var p=Aw(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(p,")")})},t.prototype.renderLabel=function(n){var r=je(this.attributes,"label"),i=r.text,a=ln(r,["text"]),o=this.attributes.classNamePrefix;this.labelGroup=n.maybeAppendByClassName(dn.labelGroup,"g").style("zIndex",0);var s=Yt(dn.label.name,Xt.label,o),A=this.labelGroup.maybeAppendByClassName(dn.label,function(){return Os(i)});A.node().setAttribute("class",s),A.styles(a)},t.prototype.renderValue=function(n){var r=this,i=je(this.attributes,"value"),a=i.text,o=ln(i,["text"]),s=this.attributes.classNamePrefix;this.valueGroup=n.maybeAppendByClassName(dn.valueGroup,"g").style("zIndex",0),rr(this.showValue,this.valueGroup,function(){var A=Yt(dn.value.name,Xt.value,s),c=r.valueGroup.maybeAppendByClassName(dn.value,function(){return Os(a)});c.node().setAttribute("class",A),c.styles(o)})},t.prototype.createPoptip=function(){var n=this.attributes.poptip,r=n||{};r.render;var i=ln(r,["render"]),a=new ane({style:di(one,i)});return this.poptipGroup=a,a},t.prototype.bindPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(n,function(){var o=r.attributes,s=o.labelText,A=o.valueText,c=o.markerFill,l=typeof s=="string"?s:s==null?void 0:s.attr("text"),u=typeof A=="string"?A:A==null?void 0:A.attr("text");if(typeof i.render=="function")return{html:i.render(Ae(Ae({},r.keyFields),{label:l,value:u,color:c}))};var f="";return(typeof l=="string"||typeof l=="number")&&(f+='<div class="component-poptip-label">'.concat(l,"</div>")),(typeof u=="string"||typeof u=="number")&&(f+='<div class="component-poptip-value">'.concat(u,"</div>")),{html:f}})}},t.prototype.renderFocus=function(n){var r=this,i=this.attributes,a=i.focus,o=i.focusMarkerSize,s=i.classNamePrefix,A={x:0,y:0,size:o,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};dt(a)||(this.focusGroup=n.maybeAppendByClassName(dn.focusGroup,"g").style("zIndex",0),rr(a,this.focusGroup,function(){var c=Yt(dn.focus.name,Xt.focusIcon,s),l=new rt({style:Ae(Ae({},A),{symbol:"focus"}),className:c}),u=new Ji({style:{r:A.size/2,fill:"transparent"}}),f=r.focusGroup.node();f.appendChild(u),f.appendChild(l),l.update({opacity:0}),n.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),n.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},t.prototype.renderPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=n.maybeAppendByClassName(dn.value,"g").node(),o=n.maybeAppendByClassName(dn.label,"g").node();[a,o].forEach(function(s){s&&r.bindPoptip(s)})}},t.prototype.renderBackground=function(n){var r=this.shape,i=r.width,a=r.height,o=je(this.attributes,"background");this.background=n.maybeAppendByClassName(dn.backgroundGroup,"g").style("zIndex",-1);var s=this.background.maybeAppendByClassName(dn.background,"rect");s.styles(Ae({width:i,height:a},o));var A=this.attributes.classNamePrefix,c=A===void 0?"":A;if(c){var l=Yt(dn.background.name,Xt.background,c);s.node().setAttribute("class",l)}},t.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,i=n.valueWidth,a=n.height,o=H(n.position,4),s=o[0],A=o[1],c=o[2],l=o[3],u=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(A,", ").concat(u,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),qy(this.labelGroup.select(dn.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),qy(this.valueGroup.select(dn.value.class).node(),Math.ceil(i)))},t.prototype.render=function(n,r){var i=Ie(r),a=n.x,o=a===void 0?0:a,s=n.y,A=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(A,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.renderFocus(i),this.adjustLayout()},t}(En),Wo=Jr({page:"item-page",navigator:"navigator",item:"item"},"items"),hE=function(e,t,n){return n===void 0&&(n=!0),e?t(e):n},cne=function(e){Qt(t,e);function t(n){var r=e.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:a0,mouseenter:a0,mouseleave:a0})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,i=n.gridCol,a=n.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,i=n.layout,a=n.poptip,o=n.focus,s=n.focusMarkerSize,A=n.classNamePrefix,c=je(this.attributes,"item"),l=r.map(function(u,f){var d=u.id,h=d===void 0?f:d,p=u.label,g=u.value;return{id:"".concat(h),index:f,style:Ae({layout:i,labelText:p,valueText:g,poptip:a,focus:o,focusMarkerSize:s,classNamePrefix:A},Object.fromEntries(Object.entries(c).map(function(v){var y=H(v,2),m=y[0],b=y[1];return[m,hr(b,[u,f,r])]})))}});return l},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var n=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,A=H(this.navigatorShape,1),c=A[0],l=H(this.grid,2),u=l[0],f=l[1],d=f*u,h=0;return this.pageViews.children.map(function(p,g){var v,y,m=Math.floor(g/d),b=g%d,w=n.ifHorizontal(f,u),B=[Math.floor(b/w),b%w];i==="vertical"&&B.reverse();var x=H(B,2),C=x[0],E=x[1],O=(a-c-(f-1)*s)/f,S=p.getBBox().height,_=H([0,0],2),F=_[0],k=_[1];return i==="horizontal"?(v=H([h,C*(S+o)],2),F=v[0],k=v[1],h=E===f-1?0:h+O+s):(y=H([E*(O+s),h],2),F=y[0],k=y[1],h=C===u-1?0:h+S+o),{page:m,index:g,row:C,col:E,pageIndex:b,width:O,height:S,x:F,y:k}})},t.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,i=n.height,a=n.rowPadding,o=n.colPadding,s=H(this.navigatorShape,1),A=s[0],c=H(this.grid,2),l=c[0],u=c[1],f=H([r-A,i],2),d=f[0],h=f[1],p=H([0,0,0,0,0,0,0,0],8),g=p[0],v=p[1],y=p[2],m=p[3],b=p[4],w=p[5],B=p[6],x=p[7];return this.pageViews.children.map(function(C,E){var O,S,_,F,k=C.getBBox(),Q=k.width,L=k.height,T=B===0?0:o,M=B+T+Q;if(M<=d&&hE(b,function(U){return U<u}))return O=H([B+T,x,M],3),g=O[0],v=O[1],B=O[2],{width:Q,height:L,x:g,y:v,page:y,index:E,pageIndex:m++,row:w,col:b++};S=H([w+1,0,0,x+L+a],4),w=S[0],b=S[1],B=S[2],x=S[3];var I=x+L;return I<=h&&hE(w,function(U){return U<l})?(_=H([B,x,Q],3),g=_[0],v=_[1],B=_[2],{width:Q,height:L,x:g,y:v,page:y,index:E,pageIndex:m++,row:w,col:b++}):(F=H([0,0,Q,0,y+1,0,0,0],8),g=F[0],v=F[1],B=F[2],x=F[3],y=F[4],m=F[5],w=F[6],b=F[7],{width:Q,height:L,x:g,y:v,page:y,index:E,pageIndex:m++,row:w,col:b++})})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){var i=this.attributes.orientation;return Hi(i,n,r)},t.prototype.flattenPage=function(n){n.querySelectorAll(Wo.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(Wo.page.class).forEach(function(r){var i=n.removeChild(r);i.destroy()})},t.prototype.renderItems=function(n){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave,s=r.classNamePrefix;this.flattenPage(n);var A=this.dispatchCustomEvent.bind(this),c=Yt(Wo.item.name,Xt.item,s);Ie(n).selectAll(Wo.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var f=u.style,d=ln(u,["style"]);return new Ane({style:f},d)}).attr("className",c).on("click",function(){i==null||i(this),A("itemClick",{item:this})}).on("pointerenter",function(){a==null||a(this),A("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),A("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var f=u.style;this.update(f)})},function(l){return l.remove()})},t.prototype.relayoutNavigator=function(){var n,r=this.attributes,i=r.layout,a=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=H(this.navigatorShape,2),A=s[0],c=s[1];this.navigator.update(i==="grid"?{pageWidth:a-A,pageHeight:o-c}:{})},t.prototype.adjustLayout=function(){var n=this,r=Object.entries(fJ(this.itemsLayout,"page")).map(function(a){var o=H(a,2),s=o[0],A=o[1];return{page:s,layouts:A}}),i=xe([],H(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=n.pageViews.appendChild(new xn({className:Wo.page.name}));o.forEach(function(A){var c=A.x,l=A.y,u=A.index,f=A.width,d=A.height,h=i[u];s.appendChild(h),Tp(h,"__layout__",A),h.update({x:c,y:l,width:f,height:d})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(n){var r=this.attributes,i=r.orientation,a=r.classNamePrefix,o=je(this.attributes,"nav"),s=di({orientation:i,classNamePrefix:a},o),A=this;return n.selectAll(Wo.navigator.class).data(["nav"]).join(function(c){return c.append(function(){return new Zte({style:s})}).attr("className",Wo.navigator.name).each(function(){A.navigator=this})},function(c){return c.each(function(){this.update(s)})},function(c){return c.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(n,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(Ie(r));this.renderItems(a.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(n,r){var i=new gt(n,{detail:r});this.dispatchEvent(i)},t}(En),lne=function(e){Qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.update=function(n){this.attr(n)},t}(Ps),pE=function(e){Qt(t,e);function t(n){return e.call(this,n,zte)||this}return t.prototype.renderTitle=function(n,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,A=a.classNamePrefix,c=je(this.attributes,"title"),l=H(Qa(c),2),u=l[0],f=l[1];this.titleGroup=n.maybeAppendByClassName(An.titleGroup,"g").styles(f);var d=Ae(Ae({width:r,height:i},u),{text:o?s:"",classNamePrefix:A});this.title=this.titleGroup.maybeAppendByClassName(An.title,function(){return new GL({style:d})}).update(d)},t.prototype.renderCustom=function(n){var r=this.attributes.data,i={innerHTML:this.attributes.render(r),pointerEvents:"auto"};n.maybeAppendByClassName(An.html,function(){return new lne({className:An.html.name,style:i})}).update(i)},t.prototype.renderItems=function(n,r){var i=r.x,a=r.y,o=r.width,s=r.height,A=je(this.attributes,"title",!0),c=H(Qa(A),2),l=c[0],u=c[1],f=Ae(Ae({},l),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(An.itemsGroup,"g").styles(Ae(Ae({},u),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(An.items.class).data(["items"]).join(function(h){return h.append(function(){return new cne({style:f})}).attr("className",An.items.name).each(function(){d.items=Ie(this)})},function(h){return h.update(f)},function(h){return h.remove()})},t.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,i=n.width,a=n.height;return r?this.title.node().getAvailableSpace():new Lt(0,0,i,a)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n,r,i=(n=this.title)===null||n===void 0?void 0:n.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?e.prototype.getBBox.call(this):Yte(i,a)},t.prototype.render=function(n,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,A=s===void 0?0:s,c=i.y,l=c===void 0?0:c,u=i.classNamePrefix,f=i.render,d=Ie(r),h=r.className||"legend-category";u?r.attr("className","".concat(h," ").concat(u,"legend")):r.className||r.attr("className","legend-category"),r.style.transform="translate(".concat(A,", ").concat(l,")"),f?this.renderCustom(d):(this.renderTitle(d,a,o),this.renderItems(d,this.availableSpace),this.adjustLayout())},t}(En),une={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},tv=Jr({background:"background",labelGroup:"label-group",label:"label"},"indicator"),fne=function(e){Qt(t,e);function t(n){var r=e.call(this,n,une)||this;return r.point=[0,0],r.group=r.appendChild(new xn({})),r.isMutationObserved=!0,r}return t.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,i=n.padding,a=H(In(i),4),o=a[0],s=a[1],A=a[2],c=a[3],l=this.label.node().getLocalBounds(),u=l.min,f=l.max,d=new Lt(u[0]-c,u[1]-o,f[0]+s-u[0]+c,f[1]+A-u[1]+o),h=this.getPath(r,d),p=je(this.attributes,"background");this.background=Ie(this.group).maybeAppendByClassName(tv.background,"path").styles(Ae(Ae({},p),{d:h})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,i=n.labelText,a=je(this.attributes,"label"),o=H(Qa(a),2),s=o[0],A=o[1];s.text;var c=ln(s,["text"]);if(this.label=Ie(this.group).maybeAppendByClassName(tv.labelGroup,"g").styles(A),!!i){var l=this.label.maybeAppendByClassName(tv.label,function(){return Os(r(i))}).style("text",r(i).toString());l.selectAll("text").styles(c)}},t.prototype.adjustLayout=function(){var n=H(this.point,2),r=n[0],i=n[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},t.prototype.getPath=function(n,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,A=r.height,c=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+A-i],["A",i,i,0,0,1,a+s-i,o+A],["L",a+i,o+A],["A",i,i,0,0,1,a,o+A-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],l={top:4,right:6,bottom:0,left:2},u=l[n],f=this.createCorner([c[u].slice(-2),c[u+1].slice(-2)]);return c.splice.apply(c,xe([u+1,1],H(f),!1)),c[0][0]="M",c},t.prototype.createCorner=function(n,r){r===void 0&&(r=10);var i=.8,a=MJ.apply(void 0,xe([],H(n),!1)),o=H(n,2),s=H(o[0],2),A=s[0],c=s[1],l=H(o[1],2),u=l[0],f=l[1],d=H(a?[u-A,[A,u]]:[f-c,[c,f]],2),h=d[0],p=H(d[1],2),g=p[0],v=p[1],y=h/2,m=h/Math.abs(h),b=r*m,w=b/2,B=b*Math.sqrt(3)/2*i,x=H([g,g+y-w,g+y,g+y+w,v],5),C=x[0],E=x[1],O=x[2],S=x[3],_=x[4];return a?(this.point=[O,c-B],[["L",C,c],["L",E,c],["L",O,c-B],["L",S,c],["L",_,c]]):(this.point=[A+B,O],[["L",A,C],["L",A,E],["L",A+B,O],["L",A,S],["L",A,_]])},t.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?Mo(this):Hu(this)},t.prototype.bindEvents=function(){this.label.on(Xe.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(En);function dne(e,t){for(var n=1;n<e.length;n+=1){var r=e[n-1],i=e[n];if(t>=r&&t<=i)return[r,i]}return[t,t]}function hne(e,t,n){var r=Array.from(t),i=e.length;return new Array(i).fill(0).reduce(function(a,o,s){var A=r[s%r.length];return a+=" ".concat(e[s],":").concat(A).concat(s<i-1?" ".concat(e[s+1],":").concat(A):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function gE(e,t){var n=H(dne(e,t),2),r=n[0],i=n[1];return{tick:t>(r+i)/2?i:r,range:[r,i]}}var fs=Jr({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function zL(e){var t=e.orientation,n=e.size,r=e.length;return Hi(t,[r,n],[n,r])}function VL(e){var t=e.type,n=H(zL(e),2),r=n[0],i=n[1];return t==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function pne(e){return VL(e)}function gne(e){var t=e.orientation,n=e.color,r=e.block,i=e.partition,a;if(mn(n)){var o=20;a=new Array(o).fill(0).map(function(c,l,u){return n(l/(u.length-1))})}else a=n;var s=a.length,A=a.map(function(c){return uo(c).toString()});return s?s===1?A[0]:r?hne(i,A,t):A.reduce(function(c,l,u){return c+=" ".concat(u/(s-1),":").concat(l)},"l(".concat(Hi(t,"0","270"),")")):""}function vne(e){var t=e.orientation,n=e.range;if(!n)return[];var r=H(zL(e),2),i=r[0],a=r[1],o=H(n,2),s=o[0],A=o[1],c=Hi(t,s*i,0),l=Hi(t,0,s*a),u=Hi(t,A*i,i),f=Hi(t,a,A*a);return[["M",c,l],["L",c,f],["L",u,f],["L",u,l],["Z"]]}function yne(e,t){var n=je(t,"track"),r=t.classNamePrefix,i=Yt(fs.track.name,Xt.track,r);e.maybeAppendByClassName(fs.track,"path").attr("className",i).styles(Ae({d:VL(t)},n))}function mne(e,t){var n=je(t,"selection"),r=gne(t),i=t.classNamePrefix,a=Yt(fs.selection.name,Xt.selection,i),o=e.maybeAppendByClassName(fs.selection,"path").attr("className",a).styles(Ae({d:pne(t),fill:r},n)),s=o.maybeAppendByClassName(fs.clipPath,"path").styles({d:vne(t)}).node();o.style("clipPath",s)}var bne=function(e){Qt(t,e);function t(n){return e.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return t.prototype.render=function(n,r){var i=Ie(r).maybeAppendByClassName(fs.trackGroup,"g");yne(i,n);var a=Ie(r).maybeAppendByClassName(fs.selectionGroup,"g");mne(a,n)},t}(En);function wne(e){return{min:Math.min.apply(Math,xe([],H(e.map(function(t){return t.value})),!1)),max:Math.max.apply(Math,xe([],H(e.map(function(t){return t.value})),!1))}}var Bne=function(e){Qt(t,e);function t(n){var r=e.call(this,n,Vte)||this;return r.eventToOffsetScale=new xl({}),r.innerRibbonScale=new xl({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var A=r.getValueByCanvasPoint(i);if(s){var c=gE(o.map(function(f){var d=f.value;return d}),A).range,l=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(l[0],"-").concat(l[1])),r.dispatchIndicated(A,c)}else{var u=r.getTickValue(A);r.showIndicator(u,"".concat(r.getRealValue(u))),r.dispatchIndicated(u)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=H(r.selection,2),s=o[0],A=o[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),l=c-r.prevValue;a==="start"?s!==c&&r.updateSelection(c,A):a==="end"?A!==c&&r.updateSelection(s,c):a==="ribbon"&&l!==0&&(r.prevValue=c,r.updateSelection(l,l,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.width,i=n.height;return new Lt(0,0,r,i)},t.prototype.render=function(n,r){var i=this,a=n.classNamePrefix,o=r.className||"legend-continuous";a?r.attr("className","".concat(o," ").concat(a,"legend")):r.className||r.attr("className","legend-continuous");var s=n.showLabel;this.renderTitle(Ie(r));var A=this.availableSpace,c=A.x,l=A.y,u=Ie(r).maybeAppendByClassName(An.contentGroup,"g").styles({transform:"translate(".concat(c,", ").concat(l,")")}),f=u.maybeAppendByClassName(An.labelGroup,"g").styles({zIndex:1});rr(!!s,f,function(h){i.renderLabel(h)});var d=u.maybeAppendByClassName(An.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=u.maybeAppendByClassName(An.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(d),this.renderIndicator(u),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var n=this.attributes,r=n.data,i=n.domain;return i?{min:i[0],max:i[1]}:wne(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,i=n.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var n=H(this.selection,2),r=n[0],i=n[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var n=this.range,r=n.min,i=n.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=H(o,2),A=s[0],c=s[1];return[A,c]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(n,r){return Hi(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},t.prototype.renderTitle=function(n){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,A=r.classNamePrefix,c=je(this.attributes,"title"),l=Ae(Ae({},c),{width:o,height:s,text:a,classNamePrefix:A}),u=this;n.selectAll(An.title.class).data(i?[a]:[]).join(function(f){return f.append(function(){return new GL({style:l})}).attr("className",An.title.name).each(function(){u.title=this})},function(f){return f.update(l)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,i=n.height;return new Lt(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,i=n.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new Lt(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((n=this.label.querySelector(Te.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new Lt(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,i=n.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,A=o.height,c=this.ifHorizontal(A,s)+a+this.labelFixedSpacing,l=this.ifHorizontal(s,A);return{width:s,height:A,size:c,length:l}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,i=n.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,A=this.labelShape,c=A.size,l=A.length,u=H(this.ifHorizontal([s,o],[o,s]),2),f=u[0],d=u[1],h=r?this.handleShape:{size:0,length:0},p=h.size,g=h.length,v=this.handleOffsetRatio,y=0,m=this.labelPosition;i?y=i:["bottom","right"].includes(m)?y=Math.min(f-c,(f-p)/v):f*(1-v)>p?y=Math.max(f-c,0):y=Math.max((f-c-p)/v,0);var b=Math.max(g,l),w=d-b,B=H(this.ifHorizontal([w,y],[y,w]),2),x=B[0],C=B[1],E=["top","left"].includes(m)?c:0,O=H(this.ifHorizontal([b/2,E],[E,b/2]),2),S=O[0],_=O[1];return new Lt(S,_,x,C)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,i=n.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(n){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,A=r.block,c=r.classNamePrefix,l=je(this.attributes,"ribbon"),u=this.range,f=u.min,d=u.max,h=this.ribbonBBox,p=h.x,g=h.y,v=this.ribbonShape,y=v.length,m=v.size,b=di({transform:"translate(".concat(p,", ").concat(g,")"),length:y,size:m,type:a,orientation:o,color:s,block:A,partition:i.map(function(B){return(B.value-f)/(d-f)}),range:this.ribbonRange,classNamePrefix:c},l),w=Yt(An.ribbon.name,Xt.ribbon,c);this.ribbon=n.maybeAppendByClassName(An.ribbon,function(){return new bne({style:b,className:w})}).update(b)},t.prototype.getHandleClassName=function(n){return"".concat(An.prefix("".concat(n,"-handle")))},t.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,i=n.orientation,a=n.classNamePrefix,o=je(this.attributes,"handle"),s=H(this.selection,2),A=s[0],c=s[1],l=Ae(Ae({},o),{orientation:i,classNamePrefix:a}),u=o.shape,f=u===void 0?"slider":u,d=f==="basic"?Gte:ML,h=this,p=Yt(An.handle.name,Xt.handle,a);this.handlesGroup.selectAll(An.handle.class).data(r?[{value:A,type:"start"},{value:c,type:"end"}]:[],function(g){return g.type}).join(function(g){return g.append(function(){return new d({style:l,className:p})}).attr("className",function(v){var y=v.type;return"".concat(p," ").concat(h.getHandleClassName(y))}).each(function(v){var y=v.type,m=v.value;this.update({labelText:m});var b="".concat(y,"Handle");h[b]=this,this.addEventListener("pointerdown",h.onDragStart(y))})},function(g){return g.update(l).each(function(v){var y=v.value;this.update({labelText:y})})},function(g){return g.each(function(v){var y=v.type,m="".concat(y,"Handle");h[m]=void 0}).remove()})},t.prototype.adjustHandles=function(){var n=H(this.selection,2),r=n[0],i=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i);var a=this.attributes,o=a.classNamePrefix,s=a.showHandle,A=je(this.attributes,"handle").shape,c=A===void 0?"slider":A;s&&c==="slider"&&o&&(this.startHandle&&this.updateSliderHandleClassNames(this.startHandle,o),this.endHandle&&this.updateSliderHandleClassNames(this.endHandle,o))},t.prototype.updateSliderHandleClassNames=function(n,r){var i=n.container||n,a=i.querySelector(".handle-icon-rect");if(a){var o=Yt("handle-icon-rect",Xt.handleMarker,r);a.setAttribute("class",o);var s=a.querySelectorAll("line");s.forEach(function(l){var u=l.getAttribute("class")||"",f=u.split(" ")[0],d=Yt(f,Xt.handleMarker,r);l.setAttribute("class",d)})}var A=i.querySelector(".handle-label");if(A){var c=Yt("handle-label",Xt.handleLabel,r);A.setAttribute("class",c)}},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Lt(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,i=n.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,A=H([Math.max(r,o),Math.max(i,s)],2),c=A[0],l=A[1];return this.cacheHandleBBox=new Lt(0,0,c,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,i=n.height,a=H(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(n,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,A=this.ribbonShape.size,c=this.getOffset(r),l=H(this.ifHorizontal([o+c,s+A*this.handleOffsetRatio],[o+A*this.handleOffsetRatio,s+c]),2),u=l[0],f=l[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();d==null||d.update({transform:"translate(".concat(u,", ").concat(f,")"),formatter:i})},t.prototype.renderIndicator=function(n){var r=this.attributes.classNamePrefix,i=je(this.attributes,"indicator"),a=Yt(An.indicator.name,Xt.indicator,r);this.indicator=n.maybeAppendByClassName(An.indicator,function(){return new fne({style:i,className:a})}).update(i)},Object.defineProperty(t.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var A,c,l=(A=a==null?void 0:a.id)!==null&&A!==void 0?A:o.toString();if(i.push(Ae(Ae({},a),{id:l,index:o,type:"value",label:(c=a==null?void 0:a.label)!==null&&c!==void 0?c:a.value.toString(),value:n.ribbonScale.map(a.value)})),o<s.length-1){var u=s[o+1],f=H([a.value,u.value],2),d=f[0],h=f[1],p=(d+h)/2;i.push(Ae(Ae({},a),{id:l,index:o,type:"range",range:[d,h],label:[d,h].join("~"),value:n.ribbonScale.map(p)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var n=H(["center","middle"],2),r=n[0],i=n[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(n){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,A=je(this.attributes,"tick"),c=je(this.attributes,"label"),l=c.align,u=di(Ae({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),ki(A,"tick"),ki(c,"label"),{data:this.labelData}),f={tickFilter:function(h,p,g){return(h==null?void 0:h.type)!=="value"?!1:o?o(h,h.index,g.filter(function(v){return v.type!=="value"})):!0},labelFilter:function(h,p,g){return(h==null?void 0:h.type)!==l?!1:o?o(h,h.index,g.filter(function(v){return v.type===l})):!0},labelFormatter:s},d=Ae(Ae(Ae({},u),f),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(An.label,function(){return new gw({style:d})}).node(),this.label.update(d,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,i=n.labelDirection,a=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,A=this.labelPosition,c=this.labelFixedSpacing,l=H([0,0,0],3),u=l[0],f=l[1],d=l[2],h=o??s;return r?(d=h,f=c,i==="positive"?A==="right"?(u=h,d=h):A==="bottom"&&(u=d):i==="negative"&&(A==="top"||A==="left")&&(u=s)):i==="positive"?A==="right"?f=h:A==="bottom"&&(u=s+c,f=a):i==="negative"&&(A==="left"||A==="top")&&(f=a),{offset:u,spacing:f,tickLength:d}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,A=this.labelAxisStyle,c=A.offset,l=A.spacing,u=A.tickLength,f=H(this.ifHorizontal([[i,a+c],[i+o,a+c]],[[i+c,a+s],[i+c,a]]),2),d=f[0],h=f[1];this.label.update({startPos:d,endPos:h,tickLength:u,labelSpacing:l},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var i=this.attributes.showIndicator;if(!i||typeof n!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,A=this.ribbonBBox,c=A.x,l=A.y,u=qt(n,o,s),f=this.getOffset(u),d=this.ifHorizontal([f+c,l],[c,f+l]);this.indicator.update({x:d[0],y:d[1],position:this.ifHorizontal("top","left"),labelText:r}),Hu(this.indicator.node())},t.prototype.hideIndicator=function(){Mo(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(n,r){this.updateSelection(n,r)},t.prototype.updateSelection=function(n,r,i){var a;i===void 0&&(i=!1);var o=H(this.selection,2),s=o[0],A=o[1],c=H([n,r],2),l=c[0],u=c[1];i&&(l+=s,u+=A);var f=this.range,d=f.min,h=f.max;a=H(Kte([d,h],[l,u],this.selection),2),l=a[0],u=a[1],this.update({defaultValue:[l,u]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,i=this.range,a=i.min,o=i.max;return dt(r)?Zy((o-a)*Wte,0):r},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(n){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?gE(i.map(function(s){var A=s.value;return A}),n).tick:Hte(n,this.step,o)},t.prototype.getValueByCanvasPoint=function(n){var r=this.range,i=r.min,a=r.max,o=H(this.ribbon.node().getPosition(),2),s=o[0],A=o[1],c=this.ifHorizontal(s,A),l=this.ifHorizontal.apply(this,xe([],H(pL(n)),!1)),u=l-c,f=qt(this.getOffset(u,!0),i,a);return f},t.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,A=this.eventToOffsetScale;return A.update({domain:[a,o],range:[0,s]}),r?A.invert(n):A.map(n)},t.prototype.getRealSelection=function(n){var r=this.range.max,i=H(n,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},t.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},t.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new gt("valuechange",{detail:{value:n}});this.dispatchEvent(r)},t.prototype.dispatchIndicated=function(n,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:a-n,range:r?i.getRealSelection(r):void 0}}),s=new gt("indicate",{detail:o});this.dispatchEvent(s)},t}(En);function am(e){return e===void 0&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var vE={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function xne(e){var t;e===void 0&&(e="");var n=am(e);return t={},t[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=Ae({flex:1},vE),t[".".concat(n.VALUE)]=Ae({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},vE),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var Cne=function(e){Qt(t,e);function t(n){var r=this,i,a,o=(a=(i=n.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=am(o);return r=e.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:xne(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,i=n.template;return r.map(function(a,o){var s=a.name,A=s===void 0?"":s,c=a.color,l=c===void 0?"black":c,u=a.index,f=ln(a,["name","color","index"]),d=Ae({name:A,color:l,index:u??o},f);return xx(j5(i.item,d))})},enumerable:!1,configurable:!0}),t.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(n,r){var i=this;if(n!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=n??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},t.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var n=this.attributes.template;this.element=xx(n.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:K2(this.element,n))}},t.prototype.renderHTMLTooltipElement=function(){var n,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,A=i.style,c=i.content,l=am(a.prefixCls),u=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(u.innerHTML=a.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=o):(r=(n=u.getElementsByClassName(l.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var f=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=l.LIST,K2(d,f);var h=this.element.querySelector(".".concat(l.LIST));h?h.replaceWith(d):u.appendChild(d)}IJ(u,A)},t.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,i=r.position,a=r.offset,o=n||i,s=o.split("-"),A={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,l=c.width,u=c.height,f=[-l/2,-u/2];return s.forEach(function(d){var h=H(f,2),p=h[0],g=h[1],v=H(A[d],2),y=v[0],m=v[1];f=[p+(l/2+a[0])*y,g+(u/2+a[1])*m]}),f},t.prototype.setOffsetPosition=function(n){var r=H(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=s===void 0?0:s,c=o.y,l=c===void 0?0:c,u=o.container,f=u.x,d=u.y;this.element.style.left="".concat(+A+f+i,"px"),this.element.style.top="".concat(+l+d+a,"px")},t.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(n){var r=H(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=o.y,c=o.bounding,l=o.position;if(!c)return[i,a];var u=this.element,f=u.offsetWidth,d=u.offsetHeight,h=H([+s+i,+A+a],2),p=h[0],g=h[1],v={left:"right",right:"left",top:"bottom",bottom:"top"},y=c.x,m=c.y,b=c.width,w=c.height,B={left:p<y,right:p+f>y+b,top:g<m,bottom:g+d>m+w},x=[];l.split("-").forEach(function(E){B[E]?x.push(v[E]):x.push(E)});var C=x.join("-");return this.getRelativeOffsetFromCursor(C)},t.prototype.isCursorEntered=function(n,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,A=i.height;return new Lt(a,o,s,A).isPointIn(n,r)}return!1},t.prototype.closeTransition=function(n){var r=this,i=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=i},10)},t.tag="tooltip",t}(En),Ene=function(e){Qt(t,e);function t(n){var r=e.call(this,n)||this;r.layoutEvents=[Xe.BOUNDS_CHANGED,Xe.INSERTED,Xe.REMOVED],r.$margin=In(0),r.$padding=In(0);var i=n.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,A=s===void 0?0:s;return r.margin=o,r.padding=A,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=In(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=In(n)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var n=this.attributes,r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.width,A=n.height,c=H(this.$margin,4),l=c[0],u=c[1],f=c[2],d=c[3];return new Lt(i-d,o-l,s+d+u,A+l+f)},t.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,e.prototype.appendChild.call(this,n,r),n},t.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,i=n.height,a=H(this.$padding,4),o=a[0],s=a[1],A=a[2],c=a[3],l=H(this.$margin,4),u=l[0],f=l[3];return new Lt(c+f,o+u,r-c-s,i-o-A)},t.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,i=n.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=mJ(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var A=a[s],c=A.x,l=A.y;o.style.transform="translate(".concat(c,", ").concat(l,")")})}catch{}},t.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,n.layout())})})},t.prototype.attributeChangedCallback=function(n,r,i){n==="margin"?this.margin=i:n==="padding"&&(this.padding=i),this.layout()},t}(xn),nv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function One(e){const{min:[t,n],max:[r,i]}=e.getLocalBounds();let a=0,o=0;return t>0&&(a=t),r<0&&(a=r),n>0&&(o=n),i<0&&(o=i),[a,o]}function Sne(e,t=[]){const[n=0,r=0,i=n,a=r]=t,o=e.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:A,halfExtents:c}=e.getLocalBounds(),[l,u]=A,[f,d]=c;return o.setEulerAngles(s),{x:l-a,y:u-n,width:f*2+a+r,height:d*2+n+i}}function Fne(e,t,n,r,i=!0,a=!0){const o=u=>Ls()(u);if(!t[0]&&!t[1])return o([One(e),t]);if(!n.length)return o([[0,0],t]);const[s,A]=n,c=[...A],l=[...s];if(A[0]!==s[0]){const u=i?-4:4;c[1]=A[1],a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u))),a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u)))}return o([A,c,l,s,t])}const WL=VA(e=>{const t=e.attributes,{className:n,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:A,y:c,x0:l=A,y0:u=c,text:f,background:d,connector:h,startMarker:p,endMarker:g,coordCenter:v,innerHTML:y}=t,m=nv(t,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(e.style.transform=`translate(${A}, ${c})`,[A,c,l,u].some(M=>!Et(M))){e.children.forEach(M=>M.remove());return}const b=de(m,"background"),{padding:w}=b,B=nv(b,["padding"]),x=de(m,"connector"),{points:C=[]}=x,E=nv(x,["points"]);let O;y?O=_e(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",y).call(we,Object.assign({transform:o,transformOrigin:s},m)).node():O=_e(e).maybeAppend("text","text").style("zIndex",0).style("text",f).call(we,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},m)).node();const S=_e(e).maybeAppend("background","rect").style("zIndex",-1).call(we,Sne(O,w)).call(we,d?B:{}).node(),_=+l<v[0],F=+u<v[1],k=[+l-+A,+u-+c],Q=Fne(S,k,C,v,_,F),L=p&&new rt({id:"startMarker",style:Object.assign({x:0,y:0},de(m,"startMarker"))}),T=g&&new rt({id:"endMarker",style:Object.assign({x:0,y:0},de(m,"endMarker"))});_e(e).maybeAppend("connector","path").style("zIndex",0).style("d",Q).style("markerStart",L).style("markerEnd",T).call(we,h?E:{})}),YL=(e,t)=>{const{coordinate:n}=t;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A},[[f,d]]=r;return _e(new WL).style("x",f).style("y",d).call(we,a).style("transform",`${l}rotate(${+c})`).style("coordCenter",n.getCenter()).call(we,u).call(we,e).node()}};YL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var om=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function _ne(e){const t=e/Math.sqrt(2),n=e*Math.sqrt(2),[r,i]=[-t,t-n],[a,o]=[0,0],[s,A]=[t,t-n];return[["M",r,i],["A",e,e,0,1,1,s,A],["L",a,o],["Z"]]}function Mne(e){const{min:t,max:n}=e.getLocalBounds();return[(t[0]+n[0])*.5,(t[1]+n[1])*.5]}const kne=VA(e=>{const t=e.attributes,{class:n,x:r,y:i,transform:a}=t,o=om(t,["class","x","y","transform"]),s=de(o,"marker"),{size:A=24}=s,c=()=>_ne(A/2),l=_e(e).maybeAppend("marker",()=>new rt({})).call(d=>d.node().update(Object.assign({symbol:c},s))).node(),[u,f]=Mne(l);_e(e).maybeAppend("text","text").style("x",u).style("y",f).call(we,o)}),XL=(e,t)=>{const n=om(e,[]);return(r,i,a)=>{const{color:o}=a,s=om(a,["color"]),{color:A=o,text:c=""}=i,l={text:String(c),stroke:A,fill:A},[[u,f]]=r;return _e(new kne).call(we,s).style("transform",`translate(${u},${f})`).call(we,l).call(we,n).node()}};XL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qL=(e,t)=>{const{coordinate:n}=t;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A,textAlign:"center",textBaseline:"middle"},[[f,d]]=r;return _e(new fi).style("x",f).style("y",d).call(we,a).style("transformOrigin","center center").style("transform",`${l}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(we,u).call(we,e).node()}};qL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Tne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Qne(e,t){const n=[],r=[],i=[];let a=!1,o=null;const s=e.length/2;for(let A=0;A<s;A++){const c=e[A],l=e[A+s];if([...c,...l].some(u=>!t(u)))a=!0;else{if(n.push(c),r.push(l),a&&o){a=!1;const[u,f]=o;i.push([u,c,f,l])}o=[c,l]}}return[n.concat(r),i]}const yE=VA(e=>{const{areaPath:t,connectPath:n,areaStyle:r,connectStyle:i}=e.attributes,a=e.ownerDocument;_e(e).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",n).call(we,i),_e(e).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",t).call(we,r)}),gi=(e,t)=>{const{curve:n,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=e,o=Tne(e,["curve","gradient","defined","connect"]),{coordinate:s,document:A}=t;return(c,l,u)=>{const{color:f}=u,{color:d=f,seriesColor:h,seriesX:p,seriesY:g}=l,v=Ct(s),y=kI(s,l),m=r&&h?MI(h,p,g,r,void 0,v):d,b=Object.assign(Object.assign(Object.assign(Object.assign({},u),{stroke:m,fill:m}),y&&{transform:y}),o),[w,B]=Qne(c,i),x=de(b,"connect"),C=!!B.length,E=O=>_e(A.createElement("path",{})).style("d",O||"").call(we,b).node();if(lt(s)){const O=S=>{const _=s.getCenter(),F=S.slice(0,S.length/2),k=S.slice(S.length/2);return EK().angle((Q,L)=>jA(Wt(F[L],_))).outerRadius((Q,L)=>Ht(F[L],_)).innerRadius((Q,L)=>Ht(k[L],_)).defined((Q,L)=>[...F[L],...k[L]].every(i)).curve(n)(k)};return!C||a&&!Object.keys(x).length?E(O(w)):C&&!a?E(O(c)):_e(new yE).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},x),o)).style("areaPath",O(c)).style("connectPath",B.map(O).join("")).node()}else{const O=S=>{const _=S.slice(0,S.length/2),F=S.slice(S.length/2);return v?hy().y((k,Q)=>_[Q][1]).x1((k,Q)=>_[Q][0]).x0((k,Q)=>F[Q][0]).defined((k,Q)=>[..._[Q],...F[Q]].every(i)).curve(n)(_):hy().x((k,Q)=>_[Q][0]).y1((k,Q)=>_[Q][1]).y0((k,Q)=>F[Q][1]).defined((k,Q)=>[..._[Q],...F[Q]].every(i)).curve(n)(_)};return!C||a&&!Object.keys(x).length?E(O(w)):C&&!a?E(O(c)):_e(new yE).style("areaStyle",b).style("connectStyle",Object.assign(Object.assign({},x),o)).style("areaPath",O(c)).style("connectPath",B.map(O).join("")).node()}}};gi.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ZL=(e,t)=>{const{coordinate:n}=t;return(...r)=>{const i=lt(n)?nb:Iu;return gi(Object.assign({curve:i},e),t)(...r)}};ZL.props=Object.assign(Object.assign({},gi.props),{defaultMarker:"square"});var Ine=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JL=(e,t)=>{const n=Ine(e,[]),{coordinate:r}=t;return(...i)=>{const a=lt(r)?mT:Ct(r)?CT:xT;return gi(Object.assign({curve:a},n),t)(...i)}};JL.props=Object.assign(Object.assign({},gi.props),{defaultMarker:"smooth"});const eU=(e,t)=>(...n)=>gi(Object.assign({curve:ET},e),t)(...n);eU.props=Object.assign(Object.assign({},gi.props),{defaultMarker:"hvh"});const tU=(e,t)=>(...n)=>gi(Object.assign({curve:OT},e),t)(...n);tU.props=Object.assign(Object.assign({},gi.props),{defaultMarker:"vh"});const nU=(e,t)=>(...n)=>gi(Object.assign({curve:ST},e),t)(...n);nU.props=Object.assign(Object.assign({},gi.props),{defaultMarker:"hv"});const rU=(e,t)=>{const{arrow:n=!1}=e;return(...r)=>aw(Object.assign(Object.assign({},e),{arrow:n}),t)(...r)};rU.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const iU=(e,t)=>{const n=mE(e,[]),{document:r}=t;return(i,a,o)=>{const{color:s}=o,A=mE(o,["color"]),{color:c=s,transform:l}=a,[u,f]=i,d=Xr();return d.moveTo(u[0],u[1]),d.bezierCurveTo(u[0]/2+f[0]/2,u[1],u[0]/2+f[0]/2,f[1],f[0],f[1]),_e(r.createElement("path",{})).call(we,A).style("d",d.toString()).style("stroke",c).style("transform",l).call(we,n).node()}};iU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var bE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Lne(e,t,n,r){const i=Xr();if(lt(n)){const a=n.getCenter(),o=Ht(e,a),A=(Ht(t,a)-o)*r+o;return i.moveTo(e[0],e[1]),eu(i,e,t,a,A),i.lineTo(t[0],t[1]),i}return Ct(n)?(i.moveTo(e[0],e[1]),i.lineTo(e[0]+(t[0]-e[0])*r,e[1]),i.lineTo(e[0]+(t[0]-e[0])*r,t[1]),i.lineTo(t[0],t[1]),i):(i.moveTo(e[0],e[1]),i.lineTo(e[0],e[1]+(t[1]-e[1])*r),i.lineTo(t[0],e[1]+(t[1]-e[1])*r),i.lineTo(t[0],t[1]),i)}const aU=(e,t)=>{const{cornerRatio:n=1/3}=e,r=bE(e,["cornerRatio"]),{coordinate:i,document:a}=t;return(o,s,A)=>{const{defaultColor:c}=A,l=bE(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,p=Lne(d,h,i,n);return _e(a.createElement("path",{})).call(we,l).style("d",p.toString()).style("stroke",u).style("transform",f).call(we,r).node()}};aU.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var wE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const oU=(e,t)=>{const n=wE(e,[]),{coordinate:r,document:i}=t;return(a,o,s)=>{const{color:A}=s,c=wE(s,["color"]),{color:l=A,transform:u}=o,[f,d]=a,h=Xr();if(h.moveTo(f[0],f[1]),lt(r)){const p=r.getCenter();h.quadraticCurveTo(p[0],p[1],d[0],d[1])}else{const p=iT(f,d),g=Ht(f,d)/2;eu(h,f,d,p,g)}return _e(i.createElement("path",{})).call(we,c).style("d",h.toString()).style("stroke",l).style("transform",u).call(we,n).node()}};oU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function sU(e={}){const{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Vn(e={}){return[...sU(e),{name:"title",scale:"identity"}]}function Pa(){return[{type:Hp,channel:"color"},{type:Dp,channel:["x","y"]}]}function uc(){return[{type:Hp,channel:"x"},{type:Dp,channel:["y"]}]}function Une(){return[{type:Hp,channel:"color"},{type:Dp,channel:["position"]}]}function fc(e={}){return sU(e)}function Jt(){return[{type:kk}]}function rn(){return[]}function rv(e,t){return e.getBandWidth(e.invert(t))}function ko(e,t,n={}){const{x:r,y:i,series:a}=t,{x:o,y:s,series:A}=e,{style:{bandOffset:c=A?0:.5,bandOffsetX:l=c,bandOffsetY:u=c}={}}=n,f=!!(o!=null&&o.getBandWidth),d=!!(s!=null&&s.getBandWidth),h=!!(A!=null&&A.getBandWidth);return!f&&!d?p=>p:(p,g)=>{const v=f?rv(o,r[g]):0,y=d?rv(s,i[g]):0,b=h&&a?(rv(A,a[g])/2+ +a[g])*v:0,[w,B]=p;return[w+l*v+b,B+u*y]}}function jh(e){return parseFloat(e)/100}function vw(e,t,n,r){const{x:i,y:a}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),A=Array.from(e,c=>{const l=i[c],u=a[c],f=typeof l=="string"?jh(l)*o:+l,d=typeof u=="string"?jh(u)*s:+u;return[[f,d]]});return[e,A]}function zi(e){return typeof e=="function"?e:t=>t[e]}function iv(e,t){return Array.from(e,zi(t))}function Pne(e){return Array.isArray(e)?{links:e}:e&&typeof e=="object"?{links:e.links||[],nodes:e.nodes}:{links:[]}}function yw(e,t){const n=Pne(e),{source:r=u=>u.source,target:i=u=>u.target,value:a=u=>u.value}=t,{links:o,nodes:s}=n;if(!o.length)return{links:[],nodes:s||[]};const A=iv(o,r),c=iv(o,i),l=iv(o,a);return{links:o.map((u,f)=>({target:c[f],source:A[f],value:l[f]})),nodes:s||Array.from(new Set([...A,...c]),u=>({key:u}))}}var Nne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const AU=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,o)=>{const{color:s}=o,A=Nne(o,["color"]),{color:c=s,src:l="",size:u=32,transform:f=""}=a;let{width:d=u,height:h=u}=e;const[[p,g]]=i,[v,y]=n.getSize();d=typeof d=="string"?jh(d)*v:d,h=typeof h=="string"?jh(h)*y:h;const m=p-Number(d)/2,b=g-Number(h)/2;return _e(r.createElement("image",{})).call(we,A).style("x",m).style("y",b).style("src",l).style("stroke",c).style("transform",f).call(we,e).style("width",d).style("height",h).node()}};AU.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Rne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Hne(e,t){const n=Xr();if(lt(t)){const r=t.getCenter(),i=[...e,e[0]],a=i.map(o=>Ht(o,r));return i.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const A=a[s],c=e[s-1],l=a[s-1];l!==void 0&&Math.abs(A-l)<1e-10?eu(n,c,o,r,A):n.lineTo(o[0],o[1])}),n.closePath(),n}return KZ(n,e)}const cU=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,o)=>{const{color:s}=o,A=Rne(o,["color"]),{color:c=s,transform:l}=a,u=Hne(i,n);return _e(r.createElement("path",{})).call(we,A).style("d",u.toString()).style("stroke",c).style("fill",c).style("transform",l).call(we,e).node()}};cU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var BE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Dne(e,t){const[n,r,i,a]=e,o=Xr();if(lt(t)){const s=t.getCenter(),A=Ht(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),eu(o,i,a,s,A),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),eu(o,r,n,s,A),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const lU=(e,t)=>{const n=BE(e,[]),{coordinate:r,document:i}=t;return(a,o,s)=>{const{color:A}=s,c=BE(s,["color"]),{color:l=A,transform:u}=o,f=Dne(a,r);return _e(i.createElement("path",{})).call(we,c).style("d",f.toString()).style("fill",l||A).style("stroke",l||A).style("transform",u).call(we,n).node()}};lU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var jne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $ne(e,t){const n=Xr();if(!lt(t))n.moveTo(...e[0]),n.lineTo(...e[1]),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.lineTo(...e[5]),n.lineTo(...e[6]),n.lineTo(...e[7]),n.closePath(),n.moveTo(...e[8]),n.lineTo(...e[9]),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.lineTo(...e[13]);else{const r=t.getCenter(),[i,a]=r,o=Wr(Wt(e[0],r)),s=Wr(Wt(e[1],r)),A=Ht(r,e[2]),c=Ht(r,e[3]),l=Ht(r,e[8]),u=Ht(r,e[10]),f=Ht(r,e[11]);n.moveTo(...e[0]),n.arc(i,a,A,o,s),n.arc(i,a,A,s,o,!0),n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(...e[4]),n.arc(i,a,c,o,s),n.lineTo(...e[6]),n.arc(i,a,u,s,o,!0),n.closePath(),n.moveTo(...e[8]),n.arc(i,a,l,o,s),n.arc(i,a,l,s,o,!0),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(...e[12]),n.arc(i,a,f,o,s),n.arc(i,a,f,s,o,!0)}return n}const uU=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,o)=>{const{color:s,transform:A}=a,{color:c,fill:l=c,stroke:u=c}=o,f=jne(o,["color","fill","stroke"]),d=$ne(i,n);return _e(r.createElement("path",{})).call(we,f).style("d",d.toString()).style("stroke",u).style("fill",s||l).style("transform",A).call(we,e).node()}};uU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Kne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Gne(e,t,n=4){const r=Xr();if(!lt(t))return r.moveTo(...e[2]),r.lineTo(...e[3]),r.lineTo(e[3][0]-n,e[3][1]),r.lineTo(e[10][0]-n,e[10][1]),r.lineTo(e[10][0]+n,e[10][1]),r.lineTo(e[3][0]+n,e[3][1]),r.lineTo(...e[3]),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(e[3][0]+n/2,e[8][1]),r.arc(e[3][0],e[8][1],n/2,0,Math.PI*2),r.closePath(),r;const i=t.getCenter(),[a,o]=i,s=Ht(i,e[3]),A=Ht(i,e[8]),c=Ht(i,e[10]),l=Wr(Wt(e[2],i)),u=Math.asin(n/A),f=l-u,d=l+u;r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.arc(a,o,s,f,d),r.lineTo(Math.cos(d)*c+a,Math.sin(d)*c+o),r.arc(a,o,c,d,f,!0),r.lineTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.closePath(),r.moveTo(...e[10]),r.lineTo(...e[11]);const h=(f+d)/2;return r.moveTo(Math.cos(h)*(A+n/2)+a,Math.sin(h)*(A+n/2)+o),r.arc(Math.cos(h)*A+a,Math.sin(h)*A+o,n/2,h,Math.PI*2+h),r.closePath(),r}const fU=(e,t)=>{const{coordinate:n,document:r}=t;return(i,a,o)=>{const{color:s,transform:A}=a,c=4,{color:l,fill:u=l,stroke:f=l}=o,d=Kne(o,["color","fill","stroke"]),h=Gne(i,n,c);return _e(r.createElement("path",{})).call(we,d).style("d",h.toString()).style("stroke",f).style("fill",s||u).style("transform",A).call(we,e).node()}};fU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var xE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zne(e,t,n){return e.createElement("path",{style:Object.assign({d:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,transformOrigin:"center"},n)})}function Vne(e,t){if(!lt(t))return Ls().x(r=>r[0]).y(r=>r[1])(e);const n=t.getCenter();return Z1()({startAngle:0,endAngle:Math.PI*2,outerRadius:Ht(e[0],n),innerRadius:Ht(e[1],n)})}function Wne(e,t){if(!lt(e))return t;const[n,r]=e.getCenter();return`translate(${n}, ${r}) ${t||""}`}const mw=(e,t)=>{const{arrow:n,arrowSize:r=4}=e,i=xE(e,["arrow","arrowSize"]),{coordinate:a,document:o}=t;return(s,A,c)=>{const{color:l,lineWidth:u}=c,f=xE(c,["color","lineWidth"]),{color:d=l,size:h=u}=A,p=n?zne(o,r,Object.assign({fill:i.stroke||d,stroke:i.stroke||d},de(i,"arrow"))):null,g=Vne(s,a),v=Wne(a,A.transform);return _e(o.createElement("path",{})).call(we,f).style("d",g).style("stroke",d).style("lineWidth",h).style("transform",v).style("markerEnd",p).call(we,i).node()}};mw.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var CE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Yne(e,t,n){return[["M",e,t],["L",e+2*n,t-n],["L",e+2*n,t+n],["Z"]]}function Xne(e){return Ls().x(t=>t[0]).y(t=>t[1])(e)}function qne(e,t,n,r,i,a,o=0){const[[s,A],[c,l]]=t;if(Ct(e)){const g=s+n,v=c+r,y=g+o,m=A+i,b=l+a;return[[g,m],[y,m],[y,b],[v,b]]}const u=A-n,f=l-r,d=u-o,h=s-i,p=c-a;return[[h,u],[h,d],[p,d],[p,f]]}const dU=(e,t)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:i=n,offsetY:a=0,sourceOffsetY:o=a,targetOffsetY:s=a,connectLength1:A,endMarker:c=!0}=e,l=CE(e,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:u}=t;return(f,d,h)=>{const{color:p,connectLength1:g}=h,v=CE(h,["color","connectLength1"]),{color:y,transform:m}=d,b=qne(u,f,o,s,r,i,A??g),w=de(Object.assign(Object.assign({},l),h),"endMarker");return _e(new bn).call(we,v).style("d",Xne(b)).style("stroke",y||p).style("transform",m).style("markerEnd",c?new rt({className:"marker",style:Object.assign(Object.assign({},w),{symbol:Yne})}):null).call(we,l).node()}};dU.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function Zne(e,t,n,r){const i=t.length/2,a=t.slice(0,i),o=t.slice(i);let s=ac(a,(d,h)=>Math.abs(d[1]-o[h][1]));s=Math.max(Math.min(s,i-2),1);const A=d=>[a[d][0],(a[d][1]+o[d][1])/2],c=A(s),l=A(s-1),u=A(s+1),f=Wr(Wt(u,l))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${f})`,textAlign:"center",textBaseline:"middle"}}function hU(e,t,n,r){const{bounds:i}=n,[[a,o],[s,A]]=i,c=s-a,l=A-o,u=f=>{const{x:d,y:h}=f,p=Ux(n.x,c),g=Ux(n.y,l);return Object.assign(Object.assign({},f),{x:(p||d)+a,y:(g||h)+o})};return u(e==="left"?{x:0,y:l/2,textAlign:"start",textBaseline:"middle"}:e==="right"?{x:c,y:l/2,textAlign:"end",textBaseline:"middle"}:e==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:e==="bottom"?{x:c/2,y:l,textAlign:"center",textBaseline:"bottom"}:e==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:e==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:e==="bottom-left"?{x:0,y:l,textAlign:"start",textBaseline:"bottom"}:e==="bottom-right"?{x:c,y:l,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:l/2,textAlign:"center",textBaseline:"middle"})}function pU(e,t,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=n,A=r.getCenter(),c=Rs(r,t,[i,a]),{innerRadius:l,outerRadius:u,startAngle:f,endAngle:d}=c,h=e==="inside"?(f+d)/2:d,p=bw(h,o,s),g=(()=>{const[v,y]=t,m=l+(u-l)*.5,[b,w]=e==="inside"?ru(A,h,m):iT(v,y);return{x:b,y:w}})();return Object.assign(Object.assign({},g),{textAlign:e==="inside"?"center":"start",textBaseline:"middle",rotate:p})}function ru(e,t,n){return[e[0]+Math.sin(t)*n,e[1]-Math.cos(t)*n]}function bw(e,t,n){if(!t)return 0;const r=n?0:Math.sin(e)<0?90:-90;return e/Math.PI*180+r}function Jne(e,t,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:A=.5,offset:c=0}=n,l=Rs(r,t,[i,a]),{startAngle:u,endAngle:f}=l,d=r.getCenter(),h=(u+f)/2,g={textAlign:"center",textBaseline:"middle",rotate:bw(h,o,s)},{innerRadius:v,outerRadius:y}=l,b=v+(y-v)*A+c,[w,B]=ru(d,h,b);return Object.assign({x:w,y:B},g)}function EE(e){return e===void 0?null:e}function gU(e,t,n,r){const{bounds:i}=n,[a]=i;return{x:EE(a[0]),y:EE(a[1])}}function la(e,t,n,r){const{bounds:i}=n;return i.length===1?gU(e,t,n):(Vp(r)?pU:oc(r)?Jne:hU)(e,t,n,r)}function ere(e,t,n,r,i){const[a,o]=ru(e,t,n),[s,A]=ru(e,t,r),c=Math.sin(t)>0?1:-1;return[[a,o],[s,A],[s+c*i,A]]}function vU(e,t,n){const r=Rs(n,e,[t.y,t.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function yU(e,t,n){const r=Rs(n,e,[t.y,t.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function ww(e,t,n,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:A=o,connectorLength2:c=0,connectorDistance:l=0}=n,u=r.getCenter(),f=yU(t,n,r),d=Math.sin(f)>0?1:-1,h=bw(f,i,a),p={textAlign:d>0||Vp(r)?"start":"end",textBaseline:"middle",rotate:h},g=vU(t,n,r),v=g+(s?A:o),[[y,m],[b,w],[B,x]]=ere(u,f,g,v,s?c:0),C=s?+l*d:0,E=B+C,O=x,S={connector:s,connectorPoints:[[b-E,w-O],[B-E,x-O]]};return Object.assign(Object.assign({x0:y,y0:m,x:B+C,y:x},p),S)}function tre(e,t,n,r){const{bounds:i}=n;return i.length===1?gU(e,t,n):(Vp(r)?pU:oc(r)?ww:hU)(e,t,n,r)}function OE(e,t={}){const{labelHeight:n=14,height:r}=t,i=li(e,c=>c.y),a=i.length,o=new Array(a);for(let c=0;c<a;c++){const l=i[c],{y:u}=l;o[c]={y:u,y1:u+n,labels:[u]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const l=o[c],u=o[c-1];if(u.y1>l.y){s=!0,u.labels.push(...l.labels),o.splice(c,1),u.y1+=l.y1-l.y;const f=u.y1-u.y;u.y1=Math.max(Math.min(u.y1,r),f),u.y=u.y1-f}}}let A=0;for(const c of o){const{y:l,labels:u}=c;let f=l-n;for(const d of u){const h=i[A++],g=f+n-d;h.connectorPoints[0][1]-=g,h.y=f+n,f+=n}}}function SE(e,t){const n=li(e,s=>s.y),{height:r,labelHeight:i=14}=t,a=Math.ceil(r/i);if(n.length<=a)return OE(n,t);const o=[];for(let s=0;s<n.length;s++)s<n.length-a?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);OE(o,t)}var nre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ad=new WeakMap;function rre(e,t,n){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=t,o=nre(ww("outside",e,t,n),[]),s=n.getCenter(),A=vU(e,t,n),c=yU(e,t,n),l=A+r+i,u=Math.sin(c)>0?1:-1,f=s[0]+(l+ +a)*u,{x:d}=o,h=f-d;return o.x+=h,o.connectorPoints[0][0]-=h,o}function ire(e,t,n,r,i,a){if(!oc(r))return{};if(ad.has(t))return ad.get(t);const o=a.map(f=>rre(f,n,r)),{width:s,height:A}=r.getOptions(),c=o.filter(f=>f.x<s/2),l=o.filter(f=>f.x>=s/2),u=Object.assign(Object.assign({},i),{height:A});return SE(c,u),SE(l,u),o.forEach((f,d)=>ad.set(a[d],f)),ad.get(t)}var are=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ore(e,t,n,r){if(!oc(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=n,s=are(ww("outside",t,n,r),[]),{x0:A,y0:c}=s,l=r.getCenter(),f=FK(r)+i,d=jA([A-l[0],c-l[1]]),h=Math.sin(d)>0?1:-1,[p,g]=ru(l,d,f);return s.x=p+(a+o)*h,s.y=g,s}const sre=Object.freeze(Object.defineProperty({__proto__:null,area:Zne,bottom:la,bottomLeft:la,bottomRight:la,inside:la,left:la,outside:tre,right:la,spider:ire,surround:ore,top:la,topLeft:la,topRight:la},Symbol.toStringTag,{value:"Module"}));var FE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Are(e,t){return e!==void 0?e:oc(t)?"inside":Ct(t)?"right":"top"}function cre(e,t,n,r,i,a){const{position:o}=t,{render:s}=i,A=Are(o,n),l=r[s?"htmlLabel":A==="inside"?"innerLabel":"label"],u=Object.assign({},l,t),f=sre[Nb(A)];if(!f)throw new Error(`Unknown position: ${A}`);return Object.assign(Object.assign({},l),f(A,e,u,n,i,a))}const mU=(e,t)=>{const{coordinate:n,theme:r}=t,{render:i}=e;return(a,o,s,A)=>{const{text:c,x:l,y:u,transform:f="",transformOrigin:d,className:h=""}=o,p=FE(o,["text","x","y","transform","transformOrigin","className"]),g=cre(a,o,n,r,e,A),{rotate:v=0,transform:y=""}=g,m=FE(g,["rotate","transform"]);return _e(new WL).call(we,m).style("text",`${c}`).style("className",`${h} g2-label`).style("innerHTML",i?i(c,o.datum,o.index):void 0).style("labelTransform",`${y} rotate(${+v}) ${f}`.trim()).style("labelTransformOrigin",d).style("coordCenter",n.getCenter()).call(we,p).node()}};mU.props={defaultMarker:"point"};var _E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Bw=(e,t)=>{const{arrow:n,colorAttribute:r}=e,i=_E(e,["arrow","colorAttribute"]),{coordinate:a,document:o}=t;return(s,A,c)=>{const{color:l,stroke:u}=c,f=_E(c,["color","stroke"]),{d,color:h=l}=A,[p,g]=a.getSize();return _e(o.createElement("path",{})).call(we,f).style("d",typeof d=="function"?d({width:p,height:g}):d).style(r,h).call(we,i).node()}};Bw.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bU=(e,t)=>Bw(Object.assign({colorAttribute:"fill"},e),t);bU.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const wU=(e,t)=>Bw(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);wU.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var lre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const BU=(e,t)=>{const{document:n}=t;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,A=lre(a,["color"]),{color:c=s}=i,[l,...u]=r,f=Xr();return f.moveTo(...l),u.forEach(([d,h])=>{f.lineTo(d,h)}),f.closePath(),_e(n.createElement("path",{})).call(we,A).style("d",f.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(we,e).node()}};BU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function xU(e){var t,n,r,i=e||1;function a(s,A){++t>i&&(r=n,o(1),++t),n[s]=A}function o(s){t=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var A=n[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){n[s]!==void 0?n[s]=A:a(s,A)}}}xU(3);function CU(e,t=(...r)=>`${r[0]}`,n=16){const r=xU(n);return(...i)=>{const a=t(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=e(...i),r.set(a,o),o)}}function ure(e){return typeof e=="string"?e.split(" ").map(t=>{const[n,r]=t.split(":");return[+n,r]}):e}function $h(e,t,n){const r=e?e():document.createElement("canvas");return r.width=t,r.height=n,r}const fre=CU((e,t,n)=>{const r=$h(n,e*2,e*2),i=r.getContext("2d"),a=e,o=e;if(t===1)i.beginPath(),i.arc(a,o,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,e*t,a,o,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*e,2*e)}return r},e=>`${e}`);function dre(e,t){const r=$h(t,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return ure(e).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function hre(e,t,n,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:A,y:c,value:l,radius:u}=r[s],f=Math.min(l,n),d=A-u,h=c-u,p=fre(u,1-o,a),g=(f-t)/(n-t);e.globalAlpha=Math.max(g,.001),e.drawImage(p,d,h)}return e}function pre(e,t,n,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:A}=i,c=0,l=0,u=t,f=n,d=e.getImageData(c,l,u,f),h=d.data,p=h.length;for(let g=3;g<p;g+=4){const v=h[g],y=v*4;if(!y)continue;const m=o||Math.max(0,Math.min(s,Math.max(a,v)));h[g-3]=r[y],h[g-2]=r[y+1],h[g-1]=r[y+2],h[g]=A?r[y+3]:m}return d}function gre(e,t,n,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=$h(o,e,t).getContext("2d"),l=dre(s.gradient,o);c.clearRect(0,0,e,t),hre(c,n,r,i,s,o);const u=pre(c,e,t,l,s),d=$h(o,e,t).getContext("2d");return d.putImageData(u,0,0),d}var vre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function yre(e,t){return Object.keys(e).reduce((n,r)=>{const i=e[r];return t(i,r)||(n[r]=i),n},{})}const EU=(e,t)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=e,A=vre(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:l,document:u}=t;return(f,d,h)=>{const{transform:p}=d,[g,v]=c.getSize(),y=f.map(x=>({x:x[0],y:x[1],value:x[2],radius:x[3]})),m=Or(f,x=>x[2]),b=ct(f,x=>x[2]),B=g&&v?gre(g,v,m,b,y,yre({gradient:n,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},x=>x===void 0),l):{canvas:null};return _e(u.createElement("image",{})).call(we,h).style("x",0).style("y",0).style("width",g).style("height",v).style("src",B.canvas.toDataURL()).style("transform",p).call(we,A).node()}};EU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const OU=(e,t)=>{const{render:n}=e,r=mre(e,["render"]);return i=>{const[[a,o]]=i;return n(Object.assign(Object.assign({},r),{x:a,y:o}),t)}};OU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ME=5e3;function kE(e,t,n){return e+(t-e)*n}function bre(e,t,n,r){return t===0?[[e+1/2*n/Math.PI/2,r/2],[e+1/2*n/Math.PI,r],[e+n/4,r]]:t===1?[[e+1/2*n/Math.PI/2*(Math.PI-2),r],[e+1/2*n/Math.PI/2*(Math.PI-1),r/2],[e+n/4,0]]:t===2?[[e+1/2*n/Math.PI/2,-r/2],[e+1/2*n/Math.PI,-r],[e+n/4,-r]]:[[e+1/2*n/Math.PI/2*(Math.PI-2),-r],[e+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[e+n/4,0]]}function wre(e,t,n,r,i,a,o){const s=Math.ceil(2*e/n*4)*4,A=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const l=a-e+c-e*2;A.push(["M",l,t]);let u=0;for(let f=0;f<s;++f){const d=f%4,h=bre(f*n/4,d,n,i);A.push(["C",h[0][0]+l,-h[0][1]+t,h[1][0]+l,-h[1][1]+t,h[2][0]+l,-h[2][1]+t]),f===s-1&&(u=h[2][0])}return A.push(["L",u+l,o+e]),A.push(["L",l,o+e]),A.push(["Z"]),A}function Bre(e,t,n,r,i,a,o,s,A,c,l){const{fill:u,fillOpacity:f,opacity:d}=i;for(let h=0;h<r;h++){const p=r<=1?1:h/(r-1),g=wre(s,o+s*n,A,0,s/40,e,t),v=l.createElement("path",{style:{d:g,fill:u,opacity:kE(.2,.9,p)*Number(d||f)}});a.appendChild(v);try{const y=[{transform:"translate(0, 0)"},{transform:`translate(${A*2}, 0)`}];v.animate(y,{duration:kE(.5*ME,ME,p)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function xre(e,t,n){return`
      M ${e} ${t-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function Cre(e,t,n){const i=n*.618;return`
      M ${e-i} ${t-n}
      L ${e+i} ${t-n}
      L ${e+i} ${t+n}
      L ${e-i} ${t+n}
      Z
    `}function Ere(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t}
      L ${e} ${t+n}
      L ${e-n} ${t}
      Z
    `}function Ore(e,t,n){return`
      M ${e} ${t-n}
      L ${e+n} ${t+n}
      L ${e-n} ${t+n}
      Z
    `}function Sre(e,t,n){const r=n*4/3,i=Math.max(r,n*2),a=r/2,o=e,s=a+t-i/2,A=Math.asin(a/((i-a)*.85)),c=Math.sin(A)*a,l=Math.cos(A)*a,u=o-l,f=s+c,d=e,h=s+a/Math.sin(A);return`
      M ${u} ${f}
      A ${a} ${a} 0 1 1 ${u+l*2} ${f}
      Q ${d} ${h} ${e} ${t+i/2}
      Q ${d} ${h} ${u} ${f}
      Z 
    `}const TE={pin:Sre,rect:Cre,circle:xre,diamond:Ere,triangle:Ore};var QE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Fre=(e="circle")=>TE[e]||TE.circle,SU=(e,t)=>{if(!t)return;const{coordinate:n}=t,{liquidOptions:r,styleOptions:i}=e,{liquidShape:a,percent:o}=r,{background:s,outline:A={},wave:c={}}=i,l=QE(i,["background","outline","wave"]),{border:u=2,distance:f=0}=A,d=QE(A,["border","distance"]),{length:h=192,count:p=3}=c;return(g,v,y)=>{const{document:m}=t.canvas,{color:b,fillOpacity:w}=y,B=Object.assign(Object.assign({fill:b},y),l),x=m.createElement("g",{}),[C,E]=n.getCenter(),O=n.getSize(),S=Math.min(...O)/2,_=mn(a)?a:Fre(a),F=_(C,E,S,...O),k=_(C,E,S+u/2,...O);if(Object.keys(s).length){const T=m.createElement("path",{style:Object.assign({d:F,fill:"#fff"},s)});x.appendChild(T)}if(o>0){const T=m.createElement("path",{style:{d:k}});x.appendChild(T),x.style.clipPath=T,Bre(C,E,1-o,p,B,x,T.getBBox().y,S*2,h,!0,m)}const Q=m.createElement("path",{style:{d:F,fill:"transparent",lineWidth:u+2*f,stroke:"#fff"}}),L=m.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:F,stroke:b,strokeOpacity:w,lineWidth:u},B),d),{fill:"transparent"})});return x.appendChild(Q),x.appendChild(L),x}};SU.props={};const IE=(e,t)=>Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))/2,_re=(e,t,n)=>{const r=Math.atan2(e[1]-n[1],e[0]-n[0]);let a=Math.atan2(t[1]-n[1],t[0]-n[0])-r;return a<0&&(a+=Math.PI*2),a},Mre=(e,t)=>{if(!t)return;const{coordinate:n}=t;if(!(n!=null&&n.getCenter))return;const r=n.getCenter();return(i,a,o)=>{const{document:s}=t.canvas,{color:A,index:c}=a,l=s.createElement("g",{}),u=IE(i[0],i[1]),f=IE(i[0],r)*2,d=_re(i[3],i[0],r)>Math.PI,h=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",u,u,0,1,0,...i[1]],["A",f+u*2,f+u*2,0,d?1:0,0,...i[2]],["A",u,u,0,1,c===0?0:1,...i[3]],["A",f,f,0,d?1:0,1,...i[0]],["Z"]]},o),B1(e,["shape","last","first"])),{fill:A||o.color})});return l.appendChild(h),l}},LE="main-layer",sm="label-layer",Mi="element",Kh="view",Ss="plot",UE="component",Am="label",PE="area",av="axis-breaks",FU="axis-breaks-group";var od=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},kre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Tre=.03,Qre={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},Yo=0,Ire=(e,t,n,r,i,a)=>{const o=[],s=[],A=r-1;for(let c=1;c<A;c++){const l=c/A*t,u=e+(c%2===0?n:-n);o.push(`${l},${u}`),s.push(`${l},${i?u-a:u+a}`)}return o.push(`${t},${e}`),s.push(`${t+a},${e}`),[o,s]},_U=(e,t)=>{const{context:n,selection:r,view:i}=t,a=r.select(`.${Ss}`).node(),{document:o}=n.canvas,{scale:s}=i,A=new Map,c=(u,f,d)=>od(void 0,void 0,void 0,function*(){const{update:h,setState:p}=n.externals;p("options",g=>{const{marks:v}=g;if(!v||!v.length)return g;const y=v.map(m=>{const b=We(m,"scale.y.breaks",[]),w=b.filter(B=>B.start!==f&&B.end!==d&&!B.collapsed);return b.forEach(B=>{B.start===f&&B.end===d&&(B.collapsed=!0)}),console.log("breaks group:",b,w),ee({},m,{scale:{y:{breaks:w}}})});return A.set(u,{start:f,end:d}),Object.assign(Object.assign({},g),{marks:y})}),yield h()}),l=()=>od(void 0,void 0,void 0,function*(){if(!A.size)return;const{update:u,setState:f}=n.externals;f("options",d=>{const{marks:h}=d,p=h.map(g=>{const v=We(g,"scale.y.breaks",[]);return Tp(g,"scale.y.breaks",v.map(y=>Object.assign(Object.assign({},y),{collapsed:!1}))),g});return A.clear(),Object.assign(Object.assign({},d),{marks:p})}),yield u()});return u=>{const{key:f,start:d,end:h,gap:p=Tre,vertices:g=50,lineWidth:v=.5,verticeOffset:y=3}=u,m=kre(u,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),b=o.createElement("g",{id:`break-group-${f}`,className:FU}),w=We(s,"x.sortedDomain",[]),B=s.y.getOptions(),{range:x,domain:C}=B,E=C.indexOf(d),O=C.indexOf(h),{width:S,height:_}=a.getBBox();if(E===-1||O===-1||!w.length)return b;const F=x[0]>x[1],k=x[E]*_,Q=x[O]*_;let L="",T="";for(const[I,{y:U,isLower:R}]of[{y:Q,isLower:!1},{y:k,isLower:!0}].entries()){const N=F?v:-v,[j,K]=Ire(U,S-Yo,y,g,R,N);I===0?(L=`M ${Yo},${U} L ${j.join(" L ")} `,T=`M ${Yo-v},${U+N} L ${K.join(" L ")} `):(L+=`L ${S-Yo},${U} L ${[...j].reverse().join(" L ")} L ${Yo},${U} Z`,T+=`L ${S-Yo+v+2},${U-N} L ${[...K].reverse().join(" L ")} L ${Yo-v},${U-N} Z`)}const M=Object.assign(Object.assign({},Qre),m);try{const I=new bn({style:Object.assign(Object.assign({},M),{d:L})}),U=new bn({style:Object.assign(Object.assign({},M),{d:T,lineWidth:0,cursor:"pointer"})});U.addEventListener("click",R=>od(void 0,void 0,void 0,function*(){R.stopPropagation(),R.detail===2&&(yield c(f,d,h))})),b.appendChild(I),b.appendChild(U),a.addEventListener("click",R=>od(void 0,void 0,void 0,function*(){R.detail===2&&(yield l())})),a.appendChild(b)}catch(I){console.error("Failed to create break path:",I)}return b}};_U.props={};function NE(e,t){return e.getBandWidth(e.invert(t))}const RE={rect:Hs,hollow:pg,funnel:Mb,pyramid:QI},MU=()=>(e,t,n,r)=>{const{x:i,y1:a,series:o,size:s}=n;let{y:A}=n;A=A.map(p=>p!==void 0?p:1);const c=t.x,l=t.series,[u]=r.getSize(),f=s?s.map(p=>+p/u):null,d=s?(p,g,v)=>{const y=p+g/2,m=f[v];return[y-m/2,y+m/2]}:(p,g,v)=>[p,p+g],h=Array.from(e,p=>{const g=NE(c,i[p]),v=l?NE(l,o==null?void 0:o[p]):1,y=g*v,m=(+(o==null?void 0:o[p])||0)*g,b=+i[p]+m,[w,B]=d(b,y,p),x=+A[p],C=+a[p];return[[w,x],[B,x],[B,C],[w,C]].map(F=>r.map(F))});return[e,h]};MU.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:RE,channels:[...Vn({shapes:Object.keys(RE)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Jt(),{type:Ou},{type:Oo}],postInference:[...rn(),...uc()],interaction:{shareTooltip:!0}};const HE={rect:Hs,hollow:pg},kU=()=>(e,t,n,r)=>{const{x:i,x1:a,y:o,y1:s}=n,A=Array.from(e,c=>{const l=[+i[c],+o[c]],u=[+a[c],+o[c]],f=[+a[c],+s[c]],d=[+i[c],+s[c]];return[l,u,f,d].map(h=>r.map(h))});return[e,A]};kU.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:HE,channels:[...Vn({shapes:Object.keys(HE)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt(),{type:Ou}],postInference:[...rn(),...uc()],interaction:{shareTooltip:!0}};const DE={line:II,smooth:LI,hv:UI,vh:PI,hvh:NI,trail:RI},Lre=(e,t,n,r)=>{var i,a;const{series:o,x:s,y:A}=n,{x:c,y:l}=t;if(s===void 0||A===void 0)throw new Error("Missing encode for x or y channel.");const u=o?Array.from(bt(e,g=>o[g]).values()):[e],f=u.map(g=>g[0]).filter(g=>g!==void 0),d=(((i=c==null?void 0:c.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,h=(((a=l==null?void 0:l.getBandWidth)===null||a===void 0?void 0:a.call(l))||0)/2,p=Array.from(u,g=>g.map(v=>r.map([+s[v]+d,+A[v]+h])));return[f,p,u]},Ure=(e,t,n,r)=>{const i=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");lt(r)&&i.push(i[0]);const a=Array.from(e,o=>{const s=i.map(l=>+l[o]),A=r.map(s),c=[];for(let l=0;l<A.length;l+=2)c.push([A[l],A[l+1]]);return c});return[e,a]},TU=()=>(e,t,n,r)=>(Wp(r)?Ure:Lre)(e,t,n,r);TU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:DE,channels:[...Vn({shapes:Object.keys(DE)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Jt(),{type:Rk},{type:G1}],postInference:[...rn(),...uc(),...Une()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const jE={hollow:jb,hollowDiamond:Hb,hollowHexagon:Db,hollowSquare:$b,hollowTriangleDown:Gb,hollowTriangle:Kb,hollowBowtie:Rb,hollowCircle:zb,point:ew,plus:Jb,diamond:Yb,square:tw,triangle:rw,hexagon:Xb,cross:Wb,bowtie:Vb,hyphen:qb,line:Zb,tick:nw,triangleDown:iw,circle:vg},QU=e=>(t,n,r,i)=>{const{x:a,y:o,x1:s,y1:A,size:c,dx:l,dy:u}=r,[f,d]=i.getSize(),h=ko(n,r,e),p=v=>{const y=+((l==null?void 0:l[v])||0),m=+((u==null?void 0:u[v])||0),b=s?(+a[v]+ +s[v])/2:+a[v],w=A?(+o[v]+ +A[v])/2:+o[v],B=b+y,x=w+m;return[B,x]},g=c?Array.from(t,v=>{const[y,m]=p(v),b=+c[v],w=b/f,B=b/d,x=[y-w,m-B],C=[y+w,m+B];return[i.map(h(x,v)),i.map(h(C,v))]}):Array.from(t,v=>[i.map(h(p(v),v))]);return[t,g]};QU.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:jE,channels:[...Vn({shapes:Object.keys(jE)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Jt(),{type:Oo},{type:Tu}],postInference:[...rn(),{type:K1},...Pa()]};const $E={text:YL,badge:XL,tag:qL},IU=e=>{const{cartesian:t=!1}=e;return t?vw:(n,r,i,a)=>{const{x:o,y:s}=i,A=ko(r,i,e),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};IU.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:$E,channels:[...Vn({shapes:Object.keys($E)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...Jt(),{type:$p},{type:jp}],postInference:[...rn(),...Pa()]};const KE={cell:Hs,hollow:pg},LU=()=>(e,t,n,r)=>{const{x:i,y:a}=n,o=t.x,s=t.y,A=Array.from(e,c=>{const l=o.getBandWidth(o.invert(+i[c])),u=s.getBandWidth(s.invert(+a[c])),f=+i[c],d=+a[c],h=[f,d],p=[f+l,d],g=[f+l,d+u],v=[f,d+u];return[h,p,g,v].map(y=>r.map(y))});return[e,A]};LU.props={defaultShape:"cell",defaultLabelShape:"label",shape:KE,composite:!1,channels:[...Vn({shapes:Object.keys(KE)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Jt(),{type:Oo},{type:Tu},{type:z1}],postInference:[...rn(),...Pa()]};const GE={area:ZL,smooth:JL,hvh:eU,vh:tU,hv:nU},UU=()=>(e,t,n,r)=>{var i,a;const{x:o,y:s,y1:A,series:c}=n,{x:l,y:u}=t,f=c?Array.from(bt(e,v=>c[v]).values()):[e],d=f.map(v=>v[0]).filter(v=>v!==void 0),h=(((i=l==null?void 0:l.getBandWidth)===null||i===void 0?void 0:i.call(l))||0)/2,p=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,g=Array.from(f,v=>{const y=v.length,m=new Array(y*2);for(let b=0;b<v.length;b++){const w=v[b];m[b]=r.map([+o[w]+h,+s[w]+p]),m[y+b]=r.map([+o[w]+h,+A[w]+p])}return m});return[d,g,f]};UU.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:GE,channels:[...Vn({shapes:Object.keys(GE)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Jt(),{type:G1},{type:Ou},{type:z1}],postInference:[...rn(),...uc()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const zE={link:rU,arc:oU,smooth:iU,vhv:aU},xw=e=>(t,n,r,i)=>{const{x:a,y:o,x1:s=a,y1:A=o}=r,c=ko(n,r,e),l=t.map(u=>[i.map(c([+a[u],+o[u]],u)),i.map(c([+s[u],+A[u]],u))]);return[t,l]};xw.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:zE,channels:[...Vn({shapes:Object.keys(zE)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt(),{type:Ik},{type:Lk}],postInference:[...rn(),...Pa()]};const VE={image:AU},PU=e=>{const{cartesian:t}=e;return t?vw:(n,r,i,a)=>{const{x:o,y:s}=i,A=ko(r,i,e),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};PU.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:VE,channels:[...Vn({shapes:Object.keys(VE)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Jt(),{type:$p},{type:jp}],postInference:[...rn(),...Pa()]};const WE={polygon:cU,ribbon:lU},NU=()=>(e,t,n,r)=>{const i=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=e.map(s=>{const A=[];for(let c=0;c<i.length;c++){const l=i[c][s];if(l===void 0)break;const u=a[c][s];A.push(r.map([+l,+u]))}return A});return[e,o]};NU.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:WE,channels:[...Vn({shapes:Object.keys(WE)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt()],postInference:[...rn(),...Pa()]};const YE={box:uU,violin:fU},RU=()=>(e,t,n,r)=>{const{x:i,y:a,y1:o,y2:s,y3:A,y4:c,series:l}=n,u=t.x,f=t.series,d=Array.from(e,h=>{const p=u.getBandWidth(u.invert(+i[h])),g=f?f.getBandWidth(f.invert(+(l==null?void 0:l[h]))):1,v=p*g,y=(+(l==null?void 0:l[h])||0)*p,m=+i[h]+y+v/2,[b,w,B,x,C]=[+a[h],+o[h],+s[h],+A[h],+c[h]];return[[m-v/2,C],[m+v/2,C],[m,C],[m,x],[m-v/2,x],[m+v/2,x],[m+v/2,w],[m-v/2,w],[m-v/2,B],[m+v/2,B],[m,w],[m,b],[m-v/2,b],[m+v/2,b]].map(O=>r.map(O))});return[e,d]};RU.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:YE,channels:[...Vn({shapes:Object.keys(YE)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Jt(),{type:Oo}],postInference:[...rn(),...uc()],interaction:{shareTooltip:!0}};const XE={vector:aw},HU=()=>(e,t,n,r)=>{const{x:i,y:a,size:o,rotate:s}=n,[A,c]=r.getSize(),l=e.map(u=>{const f=+s[u]/180*Math.PI,d=+o[u],h=d/A,p=d/c,g=h*Math.cos(f),v=-p*Math.sin(f);return[r.map([+i[u]-g/2,+a[u]-v/2]),r.map([+i[u]+g/2,+a[u]+v/2])]});return[e,l]};HU.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:XE,channels:[...Vn({shapes:Object.keys(XE)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Jt()],postInference:[...rn(),...Pa()]};const qE={line:mw},DU=e=>(t,n,r,i)=>{const{y:a}=r,o=ko(n,r,ee({style:{bandOffset:0}},e)),s=Array.from(t,A=>{const c=[0,a[A]],l=[1,a[A]];return[c,l].map(u=>i.map(o(u,A)))});return[t,s]};DU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:qE,channels:[...fc({shapes:Object.keys(qE)}),{name:"y",required:!0}],preInference:[...Jt(),{type:Tk}],postInference:[...rn()]};const ZE={line:mw},jU=e=>(t,n,r,i)=>{const{x:a}=r,o=ko(n,r,ee({style:{bandOffset:0}},e)),s=Array.from(t,A=>{const c=[a[A],1],l=[a[A],0];return[c,l].map(u=>i.map(o(u,A)))});return[t,s]};jU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:ZE,channels:[...fc({shapes:Object.keys(ZE)}),{name:"x",required:!0}],preInference:[...Jt(),{type:Qk}],postInference:[...rn()]};const JE={connector:dU},$U=(...e)=>xw(...e);$U.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:JE,channels:[...fc({shapes:Object.keys(JE)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt()],postInference:[...rn()]};function eO(e,t,n,r){if(t)return()=>[0,1];const{[e]:i,[`${e}1`]:a}=n;return o=>{var s;const A=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+A]}}function Cw(e={}){const{extendX:t=!1,extendY:n=!1}=e;return(r,i,a,o)=>{const s=eO("x",t,a,i.x),A=eO("y",n,a,i.y),c=Array.from(r,l=>{const[u,f]=s(l),[d,h]=A(l);return[[u,d],[f,d],[f,h],[u,h]].map(m=>o.map(m))});return[r,c]}}const tO={range:Hs},KU=()=>Cw();KU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:tO,channels:[...fc({shapes:Object.keys(tO)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt()],postInference:[...rn()]};const nO={range:Hs},GU=()=>Cw({extendY:!0});GU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:nO,channels:[...fc({shapes:Object.keys(nO)}),{name:"x",required:!0}],preInference:[...Jt(),{type:Uk}],postInference:[...rn()]};const rO={range:Hs},zU=()=>Cw({extendX:!0});zU.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:rO,channels:[...fc({shapes:Object.keys(rO)}),{name:"y",required:!0}],preInference:[...Jt(),{type:Pk}],postInference:[...rn()]};function Pre(e){return e.target.depth}function Nre(e){return e.depth}function Rre(e,t){return t-1-e.height}function Gh(e,t){return e.sourceLinks.length?e.depth:t-1}function Hre(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Or(e.sourceLinks,Pre)-1:0}function sd(e){return function(){return e}}function iO(e,t){return zh(e.source,t.source)||e.index-t.index}function aO(e,t){return zh(e.target,t.target)||e.index-t.index}function zh(e,t){return e.y0-t.y0}function ov(e){return e.value}function Dre(e){return e.index}function jre(e){return e.nodes}function $re(e){return e.links}function oO(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function sO({nodes:e}){for(const t of e){let n=t.y0,r=n;for(const i of t.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of t.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Kre(){let e=0,t=0,n=1,r=1,i=24,a=8,o,s=Dre,A=Gh,c,l,u,f=jre,d=$re,h=6;function p(L){const T={nodes:f(L),links:d(L)};return g(T),v(T),y(T),m(T),B(T),sO(T),T}p.update=function(L){return sO(L),L},p.nodeId=function(L){return arguments.length?(s=typeof L=="function"?L:sd(L),p):s},p.nodeAlign=function(L){return arguments.length?(A=typeof L=="function"?L:sd(L),p):A},p.nodeDepth=function(L){return arguments.length?(c=L,p):c},p.nodeSort=function(L){return arguments.length?(l=L,p):l},p.nodeWidth=function(L){return arguments.length?(i=+L,p):i},p.nodePadding=function(L){return arguments.length?(a=o=+L,p):a},p.nodes=function(L){return arguments.length?(f=typeof L=="function"?L:sd(L),p):f},p.links=function(L){return arguments.length?(d=typeof L=="function"?L:sd(L),p):d},p.linkSort=function(L){return arguments.length?(u=L,p):u},p.size=function(L){return arguments.length?(e=t=0,n=+L[0],r=+L[1],p):[n-e,r-t]},p.extent=function(L){return arguments.length?(e=+L[0][0],n=+L[1][0],t=+L[0][1],r=+L[1][1],p):[[e,t],[n,r]]},p.iterations=function(L){return arguments.length?(h=+L,p):h};function g({nodes:L,links:T}){L.forEach((I,U)=>{I.index=U,I.sourceLinks=[],I.targetLinks=[]});const M=new Map(L.map(I=>[s(I),I]));if(T.forEach((I,U)=>{I.index=U;let{source:R,target:N}=I;typeof R!="object"&&(R=I.source=oO(M,R)),typeof N!="object"&&(N=I.target=oO(M,N)),R.sourceLinks.push(I),N.targetLinks.push(I)}),u!=null)for(const{sourceLinks:I,targetLinks:U}of L)I.sort(u),U.sort(u)}function v({nodes:L}){for(const T of L)T.value=T.fixedValue===void 0?Math.max(zr(T.sourceLinks,ov),zr(T.targetLinks,ov)):T.fixedValue}function y({nodes:L}){const T=L.length;let M=new Set(L),I=new Set,U=0;for(;M.size;){if(M.forEach(R=>{R.depth=U;for(const{target:N}of R.sourceLinks)I.add(N)}),++U>T)throw new Error("circular link");M=I,I=new Set}if(c){const R=Math.max(ct(L,j=>j.depth)+1,0);let N;for(let j=0;j<L.length;j++)N=L[j],N.depth=c.call(null,N,R)}}function m({nodes:L}){const T=L.length;let M=new Set(L),I=new Set,U=0;for(;M.size;){if(M.forEach(R=>{R.height=U;for(const{source:N}of R.targetLinks)I.add(N)}),++U>T)throw new Error("circular link");M=I,I=new Set}}function b({nodes:L}){const T=Math.max(ct(L,U=>U.depth)+1,0),M=(n-e-i)/(T-1),I=new Array(T).fill(0).map(()=>[]);for(const U of L){const R=Math.max(0,Math.min(T-1,Math.floor(A.call(null,U,T))));U.layer=R,U.x0=e+R*M,U.x1=U.x0+i,I[R]?I[R].push(U):I[R]=[U]}if(l)for(const U of I)U.sort(l);return I}function w(L){const T=Or(L,M=>(r-t-(M.length-1)*o)/zr(M,ov));for(const M of L){let I=t;for(const U of M){U.y0=I,U.y1=I+U.value*T,I=U.y1+o;for(const R of U.sourceLinks)R.width=R.value*T}I=(r-I+o)/(M.length+1);for(let U=0;U<M.length;++U){const R=M[U];R.y0+=I*(U+1),R.y1+=I*(U+1)}F(M)}}function B(L){const T=b(L);o=Math.min(a,(r-t)/(ct(T,M=>M.length)-1)),w(T);for(let M=0;M<h;++M){const I=Math.pow(.99,M),U=Math.max(1-I,(M+1)/h);C(T,I,U),x(T,I,U)}}function x(L,T,M){for(let I=1,U=L.length;I<U;++I){const R=L[I];for(const N of R){let j=0,K=0;for(const{source:V,value:W}of N.targetLinks){const z=W*(N.layer-V.layer);j+=k(V,N)*z,K+=z}if(!(K>0))continue;const $=(j/K-N.y0)*T;N.y0+=$,N.y1+=$,_(N)}l===void 0&&R.sort(zh),R.length&&E(R,M)}}function C(L,T,M){for(let I=L.length,U=I-2;U>=0;--U){const R=L[U];for(const N of R){let j=0,K=0;for(const{target:V,value:W}of N.sourceLinks){const z=W*(V.layer-N.layer);j+=Q(N,V)*z,K+=z}if(!(K>0))continue;const $=(j/K-N.y0)*T;N.y0+=$,N.y1+=$,_(N)}l===void 0&&R.sort(zh),R.length&&E(R,M)}}function E(L,T){const M=L.length>>1,I=L[M];S(L,I.y0-o,M-1,T),O(L,I.y1+o,M+1,T),S(L,r,L.length-1,T),O(L,t,0,T)}function O(L,T,M,I){for(;M<L.length;++M){const U=L[M],R=(T-U.y0)*I;R>1e-6&&(U.y0+=R,U.y1+=R),T=U.y1+o}}function S(L,T,M,I){for(;M>=0;--M){const U=L[M],R=(U.y1-T)*I;R>1e-6&&(U.y0-=R,U.y1-=R),T=U.y0-o}}function _({sourceLinks:L,targetLinks:T}){if(u===void 0){for(const{source:{sourceLinks:M}}of T)M.sort(aO);for(const{target:{targetLinks:M}}of L)M.sort(iO)}}function F(L){if(u===void 0)for(const{sourceLinks:T,targetLinks:M}of L)T.sort(aO),M.sort(iO)}function k(L,T){let M=L.y0-(L.sourceLinks.length-1)*o/2;for(const{target:I,width:U}of L.sourceLinks){if(I===T)break;M+=U+o}for(const{source:I,width:U}of T.targetLinks){if(I===L)break;M-=U}return M}function Q(L,T){let M=T.y0-(T.targetLinks.length-1)*o/2;for(const{source:I,width:U}of T.targetLinks){if(I===L)break;M+=U+o}for(const{target:I,width:U}of L.sourceLinks){if(I===T)break;M-=U}return M}return p}const Gre={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},zre={left:Nre,right:Rre,center:Hre,justify:Gh};function Vre(e){const t=typeof e;return t==="string"?zre[e]||Gh:t==="function"?e:Gh}const VU=e=>t=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:A,links:c,linkSort:l,iterations:u}=Object.assign({},Gre,e),f=Kre().nodeSort(r).linkSort(l).links(c).nodes(A).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(Vre(i)).iterations(u).extent([[0,0],[1,1]]);typeof n=="function"&&f.nodeId(n);const d=f(t),{nodes:h,links:p}=d,g=h.map(y=>{const{x0:m,x1:b,y0:w,y1:B}=y;return Object.assign(Object.assign({},y),{x:[m,b,b,m],y:[w,w,B,B]})}),v=p.map(y=>{const{source:m,target:b}=y,w=m.x1,B=b.x0,x=y.width/2;return Object.assign(Object.assign({},y),{x:[w,w,B,B],y:[y.y0+x,y.y0-x,y.y1+x,y.y1-x]})});return{nodes:g,links:v}};VU.props={};function ea(e,t,n={},r=!1){if(Ta(e)||Array.isArray(e)&&r)return e;const i=de(e,t);return ee(n,i)}function Vh(e,t={}){return Ta(e)||Array.isArray(e)||!WU(e)?e:ee(t,e)}function WU(e){if(Object.keys(e).length===0)return!0;const{title:t,items:n}=e;return t!==void 0||n!==void 0}function ta(e,t){return typeof e=="object"?de(e,t):e}var Wre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yre={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},AO={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},cO={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},Xre={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},YU=e=>{const{data:t,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={},interaction:l,state:u={},viewStyle:f={}}=e,{links:d,nodes:h}=yw(t,n);if(!d||d.length===0)return[ee({},AO,{data:[],encode:{},scale:r,style:de(i,"node"),viewStyle:f,labels:[],tooltip:!1,animate:!1,axis:!1,interaction:l,state:{}}),ee({},cO,{data:[],encode:{},labels:[],style:de(i,"link"),tooltip:!1,animate:!1,interaction:l,state:{}})];const p=de(n,"node"),g=de(n,"link"),{key:v=k=>k.key,color:y=v}=p,{links:m,nodes:b}=VU(Object.assign(Object.assign(Object.assign({},Yre),{nodeId:zi(v)}),a))({links:d,nodes:h}),w=de(i,"label"),{text:B=v,spacing:x=5}=w,C=Wre(w,["text","spacing"]),E=zi(v),O=ea(c,"node",{title:E,items:[{field:"value"}]},!0),S=ea(c,"link",{title:"",items:[k=>({name:"source",value:E(k.source)}),k=>({name:"target",value:E(k.target)})]}),[_,F]=Object.entries(u).reduce((k,[Q,L])=>{const T=Td(L,"node","link"),M=de(L,"node");k[0][Q]=Object.assign(Object.assign({},T),M);const I=de(L,"link");return k[1][Q]=Object.assign(Object.assign({},T),I),k},[{},{}]);return[ee({},AO,{data:b,encode:Object.assign(Object.assign({},p),{color:y}),scale:r,style:de(i,"node"),viewStyle:f,labels:[Object.assign(Object.assign(Object.assign({},Xre),{text:B,dx:k=>k.x[0]<.5?x:-x}),C),...o],tooltip:O,animate:ta(A,"node"),axis:!1,interaction:l,state:_}),ee({},cO,{data:m,encode:g,labels:s,style:Object.assign({fill:g.color?void 0:"#aaa",lineWidth:0},de(i,"link")),tooltip:S,animate:ta(A,"link"),interaction:l,state:F})]};YU.props={};function qre(e,t){return t.value-e.value}function Zre(e,t){return t.frequency-e.frequency}function Jre(e,t){return`${e.id}`.localeCompare(`${t.id}`)}function eie(e,t){return`${e.name}`.localeCompare(`${t.name}`)}const tie=Object.freeze(Object.defineProperty({__proto__:null,frequency:Zre,id:Jre,name:eie,weight:qre},Symbol.toStringTag,{value:"Module"})),nie={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null};function rie(e){const{y:t,thickness:n,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:A,targetWeight:c,sortBy:l}=Object.assign(Object.assign({},nie),e);function u(g){const v=g.nodes.map(m=>Object.assign({},m)),y=g.edges.map(m=>Object.assign({},m));return f(v,y),d(v),h(v,y),p(v,y),{nodes:v,edges:y}}function f(g,v){v.forEach(b=>{b.source=o(b),b.target=s(b),b.sourceWeight=A(b),b.targetWeight=c(b)});const y=bt(v,b=>b.source),m=bt(v,b=>b.target);return g.forEach(b=>{b.id=a(b);const w=y.has(b.id)?y.get(b.id):[],B=m.has(b.id)?m.get(b.id):[];b.frequency=w.length+B.length,b.value=zr(w,x=>x.sourceWeight)+zr(B,x=>x.targetWeight)}),{nodes:g,edges:v}}function d(g,v){const y=typeof l=="function"?l:tie[l];y&&g.sort(y)}function h(g,v){const y=g.length;if(!y)throw HA("Invalid nodes: it's empty!");if(!r){const w=1/y;return g.forEach((B,x)=>{B.x=(x+.5)*w,B.y=t}),{nodes:g,edges:v}}const m=i/(2*y),b=g.reduce((w,B)=>w+=B.value,0);return g.reduce((w,B)=>{B.weight=B.value/b,B.width=B.weight*(1-i),B.height=n;const x=m+w,C=x+B.width,E=t-n/2,O=E+n;return B.x=[x,C,C,x],B.y=[E,E,O,O],w+B.width+2*m},0),{nodes:g,edges:v}}function p(g,v){const y=new Map(g.map(w=>[w.id,w]));if(!r)return v.forEach(w=>{const B=o(w),x=s(w),C=y.get(B),E=y.get(x);C&&E&&(w.x=[C.x,E.x],w.y=[C.y,E.y])}),{nodes:g,edges:v};v.forEach(w=>{w.x=[0,0,0,0],w.y=[t,t,t,t]});const m=bt(v,w=>w.source),b=bt(v,w=>w.target);g.forEach(w=>{const{edges:B,width:x,x:C,y:E,value:O,id:S}=w,_=m.get(S)||[],F=b.get(S)||[];let k=0;_.map(Q=>{const L=Q.sourceWeight/O*x;Q.x[0]=C[0]+k,Q.x[1]=C[0]+k+L,k+=L}),F.forEach(Q=>{const L=Q.targetWeight/O*x;Q.x[3]=C[0]+k,Q.x[2]=C[0]+k+L,k+=L})})}return u}const Ew=e=>t=>rie(e)(t);Ew.props={};var lO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sv={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},iie={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},aie={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},oie={position:"outside",fontSize:10},XU=(e,t)=>{const{data:n,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:A=[],animate:c={},tooltip:l={}}=e,{nodes:u,links:f}=yw(n,r),d=de(r,"node"),h=de(r,"link"),{key:p=Q=>Q.key,color:g=p}=d,{linkEncodeColor:v=Q=>Q.source}=h,{nodeWidthRatio:y=sv.thickness,nodePaddingRatio:m=sv.marginRatio}=o,b=lO(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:w,edges:B}=Ew(Object.assign(Object.assign(Object.assign(Object.assign({},sv),{id:zi(p),thickness:y,marginRatio:m}),b),{weight:!0}))({nodes:u,edges:f}),x=de(a,"label"),{text:C=p}=x,E=lO(x,["text"]),O=ea(l,"node",{title:"",items:[Q=>({name:Q.key,value:Q.value})]},!0),S=ea(l,"link",{title:"",items:[Q=>({name:`${Q.source} -> ${Q.target}`,value:Q.value})]}),{height:_,width:F}=t,k=Math.min(_,F);return[ee({},aie,{data:B,encode:Object.assign(Object.assign({},h),{color:v}),labels:A,style:Object.assign({fill:v?void 0:"#aaa"},de(a,"link")),tooltip:S,animate:ta(c,"link")}),ee({},iie,{data:w,encode:Object.assign(Object.assign({},d),{color:g}),scale:i,style:de(a,"node"),coordinate:{type:"polar",outerRadius:(k-20)/k,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},oie),{text:C}),E),...s],tooltip:O,animate:ta(c,"node"),axis:!1})]};XU.props={};const uO={path:bU,hollow:wU},qU=e=>(t,n,r,i)=>[t,t.map(()=>[[0,0]])];qU.props={defaultShape:"path",defaultLabelShape:"label",shape:uO,composite:!1,channels:[...Vn({shapes:Object.keys(uO)}),{name:"d",scale:"identity"}],preInference:[...Jt()],postInference:[...rn()]};function sie(e,t){return e.parent===t.parent?1:2}function Aie(e){return e.reduce(cie,0)/e.length}function cie(e,t){return e+t.x}function lie(e){return 1+e.reduce(uie,0)}function uie(e,t){return Math.max(e,t.y)}function fie(e){for(var t;t=e.children;)e=t[0];return e}function die(e){for(var t;t=e.children;)e=t[t.length-1];return e}function hie(){var e=sie,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=Aie(d),f.y=lie(d)):(f.x=o?s+=e(f,o):0,f.y=0,o=f)});var A=fie(a),c=die(a),l=A.x-e(A,c)/2,u=c.x+e(c,A)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*t,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-l)/(u-l)*t,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function pie(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function gie(){return this.eachAfter(pie)}function vie(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function yie(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function mie(e,t){for(var n=this,r=[n],i=[],a,o,s,A=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++A,this);return this}function bie(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function wie(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Bie(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function xie(e){for(var t=this,n=Cie(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Cie(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Eie(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Oie(){return Array.from(this)}function Sie(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Fie(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*_ie(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Du(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Tie)):t===void 0&&(t=kie);for(var n=new XA(e),r,i=[n],a,o,s,A;r=i.pop();)if((o=t(r.data))&&(A=(o=Array.from(o)).length))for(r.children=o,s=A-1;s>=0;--s)i.push(a=o[s]=new XA(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(ZU)}function Mie(){return Du(this).eachBefore(Qie)}function kie(e){return e.children}function Tie(e){return Array.isArray(e)?e[1]:null}function Qie(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ZU(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function XA(e){this.data=e,this.depth=this.height=0,this.parent=null}XA.prototype=Du.prototype={constructor:XA,count:gie,each:vie,eachAfter:mie,eachBefore:yie,find:bie,sum:wie,sort:Bie,path:xie,ancestors:Eie,descendants:Oie,leaves:Sie,links:Fie,copy:Mie,[Symbol.iterator]:_ie};function Hd(e){return e==null?null:JU(e)}function JU(e){if(typeof e!="function")throw new Error;return e}function Jo(){return 0}function cA(e){return function(){return e}}const Iie=1664525,Lie=1013904223,fO=4294967296;function Uie(){let e=1;return()=>(e=(Iie*e+Lie)%fO)/fO}function Pie(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nie(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Rie(e,t){for(var n=0,r=(e=Nie(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&eP(o,a)?++n:(o=Die(i=Hie(i,a)),n=0);return o}function Hie(e,t){var n,r;if(Av(t,e))return[t];for(n=0;n<e.length;++n)if(Ad(t,e[n])&&Av(Zc(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Ad(Zc(e[n],e[r]),t)&&Ad(Zc(e[n],t),e[r])&&Ad(Zc(e[r],t),e[n])&&Av(tP(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Ad(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function eP(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Av(e,t){for(var n=0;n<t.length;++n)if(!eP(e,t[n]))return!1;return!0}function Die(e){switch(e.length){case 1:return jie(e[0]);case 2:return Zc(e[0],e[1]);case 3:return tP(e[0],e[1],e[2])}}function jie(e){return{x:e.x,y:e.y,r:e.r}}function Zc(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,A=a-n,c=o-r,l=s-i,u=Math.sqrt(A*A+c*c);return{x:(n+a+A/u*l)/2,y:(r+o+c/u*l)/2,r:(u+i+s)/2}}function tP(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,A=t.r,c=n.x,l=n.y,u=n.r,f=r-o,d=r-c,h=i-s,p=i-l,g=A-a,v=u-a,y=r*r+i*i-a*a,m=y-o*o-s*s+A*A,b=y-c*c-l*l+u*u,w=d*h-f*p,B=(h*b-p*m)/(w*2)-r,x=(p*g-h*v)/w,C=(d*m-f*b)/(w*2)-i,E=(f*v-d*g)/w,O=x*x+E*E-1,S=2*(a+B*x+C*E),_=B*B+C*C-a*a,F=-(Math.abs(O)>1e-6?(S+Math.sqrt(S*S-4*O*_))/(2*O):_/S);return{x:r+B+x*F,y:i+C+E*F,r:F}}function dO(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,A,c=r*r+o*o;c?(a=t.r+n.r,a*=a,A=e.r+n.r,A*=A,a>A?(i=(c+A-a)/(2*c),s=Math.sqrt(Math.max(0,A/c-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(c+a-A)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function hO(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function pO(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function cd(e){this._=e,this.next=null,this.previous=null}function $ie(e,t){if(!(a=(e=Pie(e)).length))return 0;var n,r,i,a,o,s,A,c,l,u,f;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;dO(r,n,i=e[2]),n=new cd(n),r=new cd(r),i=new cd(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(A=3;A<a;++A){dO(n._,r._,i=e[A]),i=new cd(i),c=r.next,l=n.previous,u=r._.r,f=n._.r;do if(u<=f){if(hO(c._,i._)){r=c,n.next=r,r.previous=n,--A;continue e}u+=c._.r,c=c.next}else{if(hO(l._,i._)){n=l,n.next=r,r.previous=n,--A;continue e}f+=l._.r,l=l.previous}while(c!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=pO(n);(i=i.next)!==r;)(s=pO(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Rie(n,t),A=0;A<a;++A)n=e[A],n.x-=i.x,n.y-=i.y;return i.r}function Kie(e){return Math.sqrt(e.value)}function Gie(){var e=null,t=1,n=1,r=Jo;function i(a){const o=Uie();return a.x=t/2,a.y=n/2,e?a.eachBefore(gO(e)).eachAfter(cv(r,.5,o)).eachBefore(vO(1)):a.eachBefore(gO(Kie)).eachAfter(cv(Jo,1,o)).eachAfter(cv(r,a.r/Math.min(t,n),o)).eachBefore(vO(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=Hd(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:cA(+a),i):r},i}function gO(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function cv(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,A;if(s)for(a=0;a<o;++a)i[a].r+=s;if(A=$ie(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=A+s}}}function vO(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function zie(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cg(e,t,n,r,i){for(var a=e.children,o,s=-1,A=a.length,c=e.value&&(r-t)/e.value;++s<A;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}var Vie={depth:-1},yO={},lv={};function Wie(e){return e.id}function Yie(e){return e.parentId}function cm(){var e=Wie,t=Yie,n;function r(i){var a=Array.from(i),o=e,s=t,A,c,l,u,f,d,h,p,g=new Map;if(n!=null){const v=a.map((b,w)=>Xie(n(b,w,i))),y=v.map(mO),m=new Set(v).add("");for(const b of y)m.has(b)||(m.add(b),v.push(b),y.push(mO(b)),a.push(lv));o=(b,w)=>v[w],s=(b,w)=>y[w]}for(l=0,A=a.length;l<A;++l)c=a[l],d=a[l]=new XA(c),(h=o(c,l,i))!=null&&(h+="")&&(p=d.id=h,g.set(p,g.has(p)?yO:d)),(h=s(c,l,i))!=null&&(h+="")&&(d.parent=h);for(l=0;l<A;++l)if(d=a[l],h=d.parent){if(f=g.get(h),!f)throw new Error("missing: "+h);if(f===yO)throw new Error("ambiguous: "+h);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(u)throw new Error("multiple roots");u=d}if(!u)throw new Error("no root");if(n!=null){for(;u.data===lv&&u.children.length===1;)u=u.children[0],--A;for(let v=a.length-1;v>=0&&(d=a[v],d.data===lv);--v)d.data=null}if(u.parent=Vie,u.eachBefore(function(v){v.depth=v.parent.depth+1,--A}).eachBefore(ZU),u.parent=null,A>0)throw new Error("cycle");return u}return r.id=function(i){return arguments.length?(e=Hd(i),r):e},r.parentId=function(i){return arguments.length?(t=Hd(i),r):t},r.path=function(i){return arguments.length?(n=Hd(i),r):n},r}function Xie(e){e=`${e}`;let t=e.length;return lm(e,t-1)&&!lm(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function mO(e){let t=e.length;if(t<2)return"";for(;--t>1&&!lm(e,t););return e.slice(0,t)}function lm(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function qie(e,t){return e.parent===t.parent?1:2}function uv(e){var t=e.children;return t?t[0]:e.t}function fv(e){var t=e.children;return t?t[t.length-1]:e.t}function Zie(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Jie(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function eae(e,t,n){return e.a.parent===t.parent?e.a:n}function Dd(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Dd.prototype=Object.create(XA.prototype);function tae(e){for(var t=new Dd(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new Dd(a[o],o)),i.parent=n;return(t.parent=new Dd(null,0)).children=[t],t}function nae(){var e=qie,t=1,n=1,r=null;function i(c){var l=tae(c);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)c.eachBefore(A);else{var u=c,f=c,d=c;c.eachBefore(function(y){y.x<u.x&&(u=y),y.x>f.x&&(f=y),y.depth>d.depth&&(d=y)});var h=u===f?1:e(u,f)/2,p=h-u.x,g=t/(f.x+h+p),v=n/(d.depth||1);c.eachBefore(function(y){y.x=(y.x+p)*g,y.y=y.depth*v})}return c}function a(c){var l=c.children,u=c.parent.children,f=c.i?u[c.i-1]:null;if(l){Jie(c);var d=(l[0].z+l[l.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-d):c.z=d}else f&&(c.z=f.z+e(c._,f._));c.parent.A=s(c,f,c.parent.A||u[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,l,u){if(l){for(var f=c,d=c,h=l,p=f.parent.children[0],g=f.m,v=d.m,y=h.m,m=p.m,b;h=fv(h),f=uv(f),h&&f;)p=uv(p),d=fv(d),d.a=c,b=h.z+y-f.z-g+e(h._,f._),b>0&&(Zie(eae(h,c,u),c,b),g+=b,v+=b),y+=h.m,g+=f.m,m+=p.m,v+=d.m;h&&!fv(d)&&(d.t=h,d.m+=y-v),f&&!uv(p)&&(p.t=f,p.m+=g-m,u=c)}return u}function A(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function Eg(e,t,n,r,i){for(var a=e.children,o,s=-1,A=a.length,c=e.value&&(i-n)/e.value;++s<A;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var nP=(1+Math.sqrt(5))/2;function rP(e,t,n,r,i,a){for(var o=[],s=t.children,A,c,l=0,u=0,f=s.length,d,h,p=t.value,g,v,y,m,b,w,B;l<f;){d=i-n,h=a-r;do g=s[u++].value;while(!g&&u<f);for(v=y=g,w=Math.max(h/d,d/h)/(p*e),B=g*g*w,b=Math.max(y/B,B/v);u<f;++u){if(g+=c=s[u].value,c<v&&(v=c),c>y&&(y=c),B=g*g*w,m=Math.max(y/B,B/v),m>b){g-=c;break}b=m}o.push(A={value:g,dice:d<h,children:s.slice(l,u)}),A.dice?Cg(A,n,r,i,p?r+=h*g/p:a):Eg(A,n,r,p?n+=d*g/p:i,a),p-=g,l=u}return o}const iP=function e(t){function n(r,i,a,o,s){rP(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nP);function rae(){var e=iP,t=!1,n=1,r=1,i=[0],a=Jo,o=Jo,s=Jo,A=Jo,c=Jo;function l(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(u),i=[0],t&&f.eachBefore(zie),f}function u(f){var d=i[f.depth],h=f.x0+d,p=f.y0+d,g=f.x1-d,v=f.y1-d;g<h&&(h=g=(h+g)/2),v<p&&(p=v=(p+v)/2),f.x0=h,f.y0=p,f.x1=g,f.y1=v,f.children&&(d=i[f.depth+1]=a(f)/2,h+=c(f)-d,p+=o(f)-d,g-=s(f)-d,v-=A(f)-d,g<h&&(h=g=(h+g)/2),v<p&&(p=v=(p+v)/2),e(f,h,p,g,v))}return l.round=function(f){return arguments.length?(t=!!f,l):t},l.size=function(f){return arguments.length?(n=+f[0],r=+f[1],l):[n,r]},l.tile=function(f){return arguments.length?(e=JU(f),l):e},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:cA(+f),l):a},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:cA(+f),l):o},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:cA(+f),l):s},l.paddingBottom=function(f){return arguments.length?(A=typeof f=="function"?f:cA(+f),l):A},l.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:cA(+f),l):c},l}function iae(e,t,n,r,i){var a=e.children,o,s=a.length,A,c=new Array(s+1);for(c[0]=A=o=0;o<s;++o)c[o+1]=A+=a[o].value;l(0,s,e.value,t,n,r,i);function l(u,f,d,h,p,g,v){if(u>=f-1){var y=a[u];y.x0=h,y.y0=p,y.x1=g,y.y1=v;return}for(var m=c[u],b=d/2+m,w=u+1,B=f-1;w<B;){var x=w+B>>>1;c[x]<b?w=x+1:B=x}b-c[w-1]<c[w]-b&&u+1<w&&--w;var C=c[w]-m,E=d-C;if(g-h>v-p){var O=d?(h*E+g*C)/d:g;l(u,w,C,h,p,O,v),l(w,f,E,O,p,g,v)}else{var S=d?(p*E+v*C)/d:v;l(u,w,C,h,p,g,S),l(w,f,E,h,S,g,v)}}}function aae(e,t,n,r,i){(e.depth&1?Eg:Cg)(e,t,n,r,i)}const oae=function e(t){function n(r,i,a,o,s){if((A=r._squarify)&&A.ratio===t)for(var A,c,l,u,f=-1,d,h=A.length,p=r.value;++f<h;){for(c=A[f],l=c.children,u=c.value=0,d=l.length;u<d;++u)c.value+=l[u].value;c.dice?Cg(c,i,a,o,p?a+=(s-a)*c.value/p:s):Eg(c,i,a,p?i+=(o-i)*c.value/p:o,s),p-=c.value}else r._squarify=A=rP(t,r,i,a,o,s),A.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nP);function sae(e,t){return Array.isArray(e)?typeof t=="function"?cm().path(t)(e):cm()(e):Du(e)}function aP(e,t=[e.data.name]){e.id=e.id||e.data.name,e.path=t,e.children&&e.children.forEach(n=>{n.id=`${e.id}/${n.data.name}`,n.path=[...t,n.data.name],aP(n,n.path)})}function oP(e){const t=We(e,["data","name"]);t.replaceAll&&(e.path=t.replaceAll(".","/").split("/")),e.children&&e.children.forEach(n=>{oP(n)})}function Aae(e,t){const n={treemapBinary:iae,treemapDice:Cg,treemapSlice:Eg,treemapSliceDice:aae,treemapSquarify:iP,treemapResquarify:oae},r=e==="treemapSquarify"?n[e].ratio(t):n[e];if(!r)throw new TypeError("Invalid tile method!");return r}function sP(e,t,n){const{value:r}=n,i=Aae(t.tile,t.ratio),a=sae(e,t.path);Cn(e)?oP(a):aP(a),r?a.sum(A=>t.ignoreParentValue&&A.children?0:zi(r)(A)).sort(t.sort):a.count(),rae().tile(i).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(a);const o=a.descendants().map(A=>Object.assign(A,{id:A.id.replace(/^\//,""),x:[A.x0,A.x1],y:[A.y0,A.y1]}));return[o.filter(typeof t.layer=="function"?t.layer:A=>A.height===t.layer),o]}var cae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const lae=(e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),uae=(e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),fae={fontSize:10,text:e=>Br(e.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0,isTreemapLabel:!0},dae={title:e=>{var t,n;return(n=(t=e.path)===null||t===void 0?void 0:t.join)===null||n===void 0?void 0:n.call(t,".")},items:[{field:"value"}]},hae={title:e=>Br(e.path),items:[{field:"value"}]},AP=(e,t)=>{const{width:n,height:r,options:i}=t,{data:a,encode:o={},scale:s,style:A={},layout:c={},labels:l=[],tooltip:u={}}=e,f=cae(e,["data","encode","scale","style","layout","labels","tooltip"]),d=We(i,["interaction","treemapDrillDown"])||We(i,["marks",0,"interaction","treemapDrillDown"]),h=ee({},lae(n,r),c,{layer:d?y=>y.depth===1:c.layer}),[p,g]=sP(a,h,o),v=de(A,"label");return ee({},uae(n,r),Object.assign(Object.assign({data:p,scale:s,style:A,labels:[Object.assign(Object.assign(Object.assign({},fae),v),d&&{cursor:"pointer"}),...l]},f),{encode:o,tooltip:Vh(u,dae),axis:!1}),d?{interaction:Object.assign(Object.assign({},f.interaction),{treemapDrillDown:d?Object.assign(Object.assign({},d),{originData:g,layout:h}):void 0}),encode:Object.assign({color:y=>Br(y.path)},o),tooltip:Vh(u,hae)}:{})};AP.props={};var pae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gae=(e,t)=>({size:[e,t],padding:0,sort:(n,r)=>r.value-n.value}),vae=(e,t,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),yae={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.r*2},mae={title:e=>e.data.name,items:[{field:"value"}]},bae=(e,t,n)=>{const{value:r}=n,i=Cn(e)?cm().path(t.path)(e):Du(e);return r?i.sum(a=>zi(r)(a)).sort(t.sort):i.count(),Gie().size(t.size).padding(t.padding)(i),i.descendants()},cP=(e,t)=>{const{width:n,height:r}=t,{data:i,encode:a={},scale:o={},style:s={},layout:A={},labels:c=[],tooltip:l={}}=e,u=pae(e,["data","encode","scale","style","layout","labels","tooltip"]),f=vae(n,r,a),d=bae(i,ee({},gae(n,r),A),ee({},f.encode,a)),h=de(s,"label");return ee({},f,Object.assign(Object.assign({data:d,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},yae),h),...c]},u),{tooltip:Vh(l,mae),axis:!1}))};cP.props={};var bO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function wae(e,t){return Or(e,n=>t[n])}function Bae(e,t){return ct(e,n=>t[n])}function lP(e,t){const n=Ow(e,t)*2.5-Sw(e,t)*1.5;return Or(e,r=>t[r]>=n?t[r]:NaN)}function Ow(e,t){return Ip(e,.25,n=>t[n])}function xae(e,t){return Ip(e,.5,n=>t[n])}function Sw(e,t){return Ip(e,.75,n=>t[n])}function uP(e,t){const n=Sw(e,t)*2.5-Ow(e,t)*1.5;return ct(e,r=>t[r]<=n?t[r]:NaN)}function Cae(){return(e,t)=>{const{encode:n}=t,{y:r,x:i}=n,{value:a}=r,{value:o}=i;return[Array.from(bt(e,c=>o[+c]).values()).flatMap(c=>{const l=lP(c,a),u=uP(c,a);return c.filter(f=>a[f]<l||a[f]>u)}),t]}}const fP=e=>{const{data:t,encode:n,style:r={},tooltip:i={},transform:a,animate:o}=e,s=bO(e,["data","encode","style","tooltip","transform","animate"]),{point:A=!0}=r,c=bO(r,["point"]),{y:l}=n,u={y:l,y1:l,y2:l,y3:l,y4:l},f={y1:Ow,y2:xae,y3:Sw},d=ea(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),h=ea(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!A)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:wae},f),{y4:Bae})],encode:Object.assign(Object.assign({},n),u),style:c,tooltip:d},s);const p=de(c,"box"),g=de(c,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:lP},f),{y4:uP})],encode:Object.assign(Object.assign({},n),u),style:p,tooltip:d,animate:ta(o,"box")},s),{type:"point",data:t,transform:[{type:Cae}],encode:n,style:Object.assign({},g),tooltip:h,animate:ta(o,"point")}]};fP.props={};const Eae={shape:OU},dP=e=>{const{cartesian:t}=e;return t?vw:(n,r,i,a)=>{const{x:o,y:s}=i,A=ko(r,i,e),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};dP.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:Eae,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Jt(),{type:$p},{type:jp},{type:Nk}]};function Oae(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,A=0,c=0;for(a=0;a<o;++a)s=n[a],A+=s.x,c+=s.y;for(A=(A/o-e)*r,c=(c/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=A,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Sae(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return hP(this.cover(t,n),t,n,e)}function hP(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,A=e._y0,c=e._x1,l=e._y1,u,f,d,h,p,g,v,y;if(!a)return e._root=o,e;for(;a.length;)if((p=t>=(u=(s+c)/2))?s=u:c=u,(g=n>=(f=(A+l)/2))?A=f:l=f,i=a,!(a=a[v=g<<1|p]))return i[v]=o,e;if(d=+e._x.call(null,a.data),h=+e._y.call(null,a.data),t===d&&n===h)return o.next=a,i?i[v]=o:e._root=o,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(p=t>=(u=(s+c)/2))?s=u:c=u,(g=n>=(f=(A+l)/2))?A=f:l=f;while((v=g<<1|p)===(y=(h>=f)<<1|d>=u));return i[y]=a,i[v]=o,e}function Fae(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),A=1/0,c=1/0,l=-1/0,u=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<A&&(A=i),i>l&&(l=i),a<c&&(c=a),a>u&&(u=a));if(A>l||c>u)return this;for(this.cover(A,c).cover(l,u),n=0;n<r;++n)hP(this,o[n],s[n],e[n]);return this}function _ae(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,A,c;n>e||e>=i||r>t||t>=a;)switch(c=(t<r)<<1|e<n,A=new Array(4),A[c]=s,s=A,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Mae(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function kae(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function er(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Tae(e,t,n){var r,i=this._x0,a=this._y0,o,s,A,c,l=this._x1,u=this._y1,f=[],d=this._root,h,p;for(d&&f.push(new er(d,i,a,l,u)),n==null?n=1/0:(i=e-n,a=t-n,l=e+n,u=t+n,n*=n);h=f.pop();)if(!(!(d=h.node)||(o=h.x0)>l||(s=h.y0)>u||(A=h.x1)<i||(c=h.y1)<a))if(d.length){var g=(o+A)/2,v=(s+c)/2;f.push(new er(d[3],g,v,A,c),new er(d[2],o,v,g,c),new er(d[1],g,s,A,v),new er(d[0],o,s,g,v)),(p=(t>=v)<<1|e>=g)&&(h=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=h)}else{var y=e-+this._x.call(null,d.data),m=t-+this._y.call(null,d.data),b=y*y+m*m;if(b<n){var w=Math.sqrt(n=b);i=e-w,a=t-w,l=e+w,u=t+w,r=d.data}}return r}function Qae(e){if(isNaN(l=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,A=this._x1,c=this._y1,l,u,f,d,h,p,g,v;if(!n)return this;if(n.length)for(;;){if((h=l>=(f=(o+A)/2))?o=f:A=f,(p=u>=(d=(s+c)/2))?s=d:c=d,t=n,!(n=n[g=p<<1|h]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,v=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[g]=a:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=a,this)}function Iae(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Lae(){return this._root}function Uae(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Pae(e){var t=[],n,r=this._root,i,a,o,s,A;for(r&&t.push(new er(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,A=n.y1)&&r.length){var c=(a+s)/2,l=(o+A)/2;(i=r[3])&&t.push(new er(i,c,l,s,A)),(i=r[2])&&t.push(new er(i,a,l,c,A)),(i=r[1])&&t.push(new er(i,c,o,s,l)),(i=r[0])&&t.push(new er(i,a,o,c,l))}return this}function Nae(e){var t=[],n=[],r;for(this._root&&t.push(new er(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,A=r.x1,c=r.y1,l=(o+A)/2,u=(s+c)/2;(a=i[0])&&t.push(new er(a,o,s,l,u)),(a=i[1])&&t.push(new er(a,l,s,A,u)),(a=i[2])&&t.push(new er(a,o,u,l,c)),(a=i[3])&&t.push(new er(a,l,u,A,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Rae(e){return e[0]}function Hae(e){return arguments.length?(this._x=e,this):this._x}function Dae(e){return e[1]}function jae(e){return arguments.length?(this._y=e,this):this._y}function Fw(e,t,n){var r=new _w(t??Rae,n??Dae,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function _w(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function wO(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ar=Fw.prototype=_w.prototype;ar.copy=function(){var e=new _w(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=wO(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=wO(r));return e};ar.add=Sae;ar.addAll=Fae;ar.cover=_ae;ar.data=Mae;ar.extent=kae;ar.find=Tae;ar.remove=Qae;ar.removeAll=Iae;ar.root=Lae;ar.size=Uae;ar.visit=Pae;ar.visitAfter=Nae;ar.x=Hae;ar.y=jae;function tr(e){return function(){return e}}function io(e){return(e()-.5)*1e-6}function $ae(e){return e.x+e.vx}function Kae(e){return e.y+e.vy}function Gae(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=tr(e==null?1:+e));function o(){for(var c,l=t.length,u,f,d,h,p,g,v=0;v<a;++v)for(u=Fw(t,$ae,Kae).visitAfter(s),c=0;c<l;++c)f=t[c],p=n[f.index],g=p*p,d=f.x+f.vx,h=f.y+f.vy,u.visit(y);function y(m,b,w,B,x){var C=m.data,E=m.r,O=p+E;if(C){if(C.index>f.index){var S=d-C.x-C.vx,_=h-C.y-C.vy,F=S*S+_*_;F<O*O&&(S===0&&(S=io(r),F+=S*S),_===0&&(_=io(r),F+=_*_),F=(O-(F=Math.sqrt(F)))/F*i,f.vx+=(S*=F)*(O=(E*=E)/(g+E)),f.vy+=(_*=F)*O,C.vx-=S*(O=1-O),C.vy-=_*O)}return}return b>d+O||B<d-O||w>h+O||x<h-O}}function s(c){if(c.data)return c.r=n[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function A(){if(t){var c,l=t.length,u;for(n=new Array(l),c=0;c<l;++c)u=t[c],n[u.index]=+e(u,c,t)}}return o.initialize=function(c,l){t=c,r=l,A()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:tr(+c),A(),o):e},o}function zae(e){return e.index}function BO(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Vae(e){var t=zae,n=u,r,i=tr(30),a,o,s,A,c,l=1;e==null&&(e=[]);function u(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function f(g){for(var v=0,y=e.length;v<l;++v)for(var m=0,b,w,B,x,C,E,O;m<y;++m)b=e[m],w=b.source,B=b.target,x=B.x+B.vx-w.x-w.vx||io(c),C=B.y+B.vy-w.y-w.vy||io(c),E=Math.sqrt(x*x+C*C),E=(E-a[m])/E*g*r[m],x*=E,C*=E,B.vx-=x*(O=A[m]),B.vy-=C*O,w.vx+=x*(O=1-O),w.vy+=C*O}function d(){if(o){var g,v=o.length,y=e.length,m=new Map(o.map((w,B)=>[t(w,B,o),w])),b;for(g=0,s=new Array(v);g<y;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=BO(m,b.source)),typeof b.target!="object"&&(b.target=BO(m,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(g=0,A=new Array(y);g<y;++g)b=e[g],A[g]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(y),h(),a=new Array(y),p()}}function h(){if(o)for(var g=0,v=e.length;g<v;++g)r[g]=+n(e[g],g,e)}function p(){if(o)for(var g=0,v=e.length;g<v;++g)a[g]=+i(e[g],g,e)}return f.initialize=function(g,v){o=g,c=v,d()},f.links=function(g){return arguments.length?(e=g,d(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(l=+g,f):l},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:tr(+g),h(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:tr(+g),p(),f):i},f}var Wae={value:()=>{}};function pP(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jd(n)}function jd(e){this._=e}function Yae(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jd.prototype=pP.prototype={constructor:jd,on:function(e,t){var n=this._,r=Yae(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Xae(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=xO(n[i],e.name,t);else if(t==null)for(i in n)n[i]=xO(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new jd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Xae(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function xO(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Wae,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qA=0,Jc=0,Qc=0,gP=1e3,Wh,el,Yh=0,Fs=0,Og=0,iu=typeof performance=="object"&&performance.now?performance:Date,vP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yP(){return Fs||(vP(qae),Fs=iu.now()+Og)}function qae(){Fs=0}function um(){this._call=this._time=this._next=null}um.prototype=mP.prototype={constructor:um,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yP():+n)+(t==null?0:+t),!this._next&&el!==this&&(el?el._next=this:Wh=this,el=this),this._call=e,this._time=n,fm()},stop:function(){this._call&&(this._call=null,this._time=1/0,fm())}};function mP(e,t,n){var r=new um;return r.restart(e,t,n),r}function Zae(){yP(),++qA;for(var e=Wh,t;e;)(t=Fs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qA}function CO(){Fs=(Yh=iu.now())+Og,qA=Jc=0;try{Zae()}finally{qA=0,eoe(),Fs=0}}function Jae(){var e=iu.now(),t=e-Yh;t>gP&&(Og-=t,Yh=e)}function eoe(){for(var e,t=Wh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wh=n);el=e,fm(r)}function fm(e){if(!qA){Jc&&(Jc=clearTimeout(Jc));var t=e-Fs;t>24?(e<1/0&&(Jc=setTimeout(CO,e-iu.now()-Og)),Qc&&(Qc=clearInterval(Qc))):(Qc||(Yh=iu.now(),Qc=setInterval(Jae,gP)),qA=1,vP(CO))}}const toe=1664525,noe=1013904223,EO=4294967296;function roe(){let e=1;return()=>(e=(toe*e+noe)%EO)/EO}function ioe(e){return e.x}function aoe(e){return e.y}var ooe=10,soe=Math.PI*(3-Math.sqrt(5));function bP(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,A=mP(u),c=pP("tick","end"),l=roe();e==null&&(e=[]);function u(){f(),c.call("tick",t),n<r&&(A.stop(),c.call("end",t))}function f(p){var g,v=e.length,y;p===void 0&&(p=1);for(var m=0;m<p;++m)for(n+=(a-n)*i,s.forEach(function(b){b(n)}),g=0;g<v;++g)y=e[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return t}function d(){for(var p=0,g=e.length,v;p<g;++p){if(v=e[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=ooe*Math.sqrt(.5+p),m=p*soe;v.x=y*Math.cos(m),v.y=y*Math.sin(m)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function h(p){return p.initialize&&p.initialize(e,l),p}return d(),t={tick:f,restart:function(){return A.restart(u),t},stop:function(){return A.stop(),t},nodes:function(p){return arguments.length?(e=p,d(),s.forEach(h),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(a=+p,t):a},velocityDecay:function(p){return arguments.length?(o=1-p,t):1-o},randomSource:function(p){return arguments.length?(l=p,s.forEach(h),t):l},force:function(p,g){return arguments.length>1?(g==null?s.delete(p):s.set(p,h(g)),t):s.get(p)},find:function(p,g,v){var y=0,m=e.length,b,w,B,x,C;for(v==null?v=1/0:v*=v,y=0;y<m;++y)x=e[y],b=p-x.x,w=g-x.y,B=b*b+w*w,B<v&&(C=x,v=B);return C},on:function(p,g){return arguments.length>1?(c.on(p,g),t):c.on(p)}}}function Aoe(){var e,t,n,r,i=tr(-30),a,o=1,s=1/0,A=.81;function c(d){var h,p=e.length,g=Fw(e,ioe,aoe).visitAfter(u);for(r=d,h=0;h<p;++h)t=e[h],g.visit(f)}function l(){if(e){var d,h=e.length,p;for(a=new Array(h),d=0;d<h;++d)p=e[d],a[p.index]=+i(p,d,e)}}function u(d){var h=0,p,g,v=0,y,m,b;if(d.length){for(y=m=b=0;b<4;++b)(p=d[b])&&(g=Math.abs(p.value))&&(h+=p.value,v+=g,y+=g*p.x,m+=g*p.y);d.x=y/v,d.y=m/v}else{p=d,p.x=p.data.x,p.y=p.data.y;do h+=a[p.data.index];while(p=p.next)}d.value=h}function f(d,h,p,g){if(!d.value)return!0;var v=d.x-t.x,y=d.y-t.y,m=g-h,b=v*v+y*y;if(m*m/A<b)return b<s&&(v===0&&(v=io(n),b+=v*v),y===0&&(y=io(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)),t.vx+=v*d.value*r/b,t.vy+=y*d.value*r/b),!0;if(d.length||b>=s)return;(d.data!==t||d.next)&&(v===0&&(v=io(n),b+=v*v),y===0&&(y=io(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)));do d.data!==t&&(m=a[d.data.index]*r/b,t.vx+=v*m,t.vy+=y*m);while(d=d.next)}return c.initialize=function(d,h){e=d,n=h,l()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:tr(+d),l(),c):i},c.distanceMin=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.distanceMax=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.theta=function(d){return arguments.length?(A=d*d,c):Math.sqrt(A)},c}function wP(e){var t=tr(.1),n,r,i;typeof e!="function"&&(e=tr(e==null?0:+e));function a(s){for(var A=0,c=n.length,l;A<c;++A)l=n[A],l.vx+=(i[A]-l.x)*r[A]*s}function o(){if(n){var s,A=n.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:tr(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:tr(+s),o(),a):e},a}function BP(e){var t=tr(.1),n,r,i;typeof e!="function"&&(e=tr(e==null?0:+e));function a(s){for(var A=0,c=n.length,l;A<c;++A)l=n[A],l.vy+=(i[A]-l.y)*r[A]*s}function o(){if(n){var s,A=n.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:tr(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:tr(+s),o(),a):e},a}var coe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const loe={joint:!0},uoe={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},foe={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},doe={text:""};function hoe(e,t,n){const{nodes:r,links:i}=e,{joint:a,nodeStrength:o,linkStrength:s}=t,{nodeKey:A=h=>h.id,linkKey:c=h=>h.id}=n,l=Aoe(),u=Vae(i).id(zi(c));typeof o=="function"&&l.strength(o),typeof s=="function"&&u.strength(s);const f=bP(r).force("link",u).force("charge",l);a?f.force("center",Oae()):f.force("x",wP()).force("y",BP()),f.stop();const d=Math.ceil(Math.log(f.alphaMin())/Math.log(1-f.alphaDecay()));for(let h=0;h<d;h++)f.tick();return{nodesData:r,linksData:i}}const xP=e=>{const{data:t,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=e,{nodeKey:l=B=>B.id,linkKey:u=B=>B.id}=n,f=coe(n,["nodeKey","linkKey"]),d=Object.assign({nodeKey:l,linkKey:u},f),h=de(d,"node"),p=de(d,"link"),{links:g,nodes:v}=yw(t,d),{nodesData:y,linksData:m}=hoe({links:g,nodes:v},ee({},loe,a),d),b=ea(c,"link",{items:[B=>({name:"source",value:zi(u)(B.source)}),B=>({name:"target",value:zi(u)(B.target)})]}),w=ea(c,"node",{items:[B=>({name:"key",value:zi(l)(B)})]},!0);return[ee({},uoe,{data:m,encode:p,labels:s,style:de(i,"link"),tooltip:b,animate:ta(A,"link")}),ee({},foe,{data:y,encode:Object.assign({},h),scale:r,style:de(i,"node"),tooltip:w,labels:[Object.assign(Object.assign({},doe),de(i,"label")),...o],animate:ta(A,"link")})]};xP.props={};const CP=e=>t=>n=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=t,[A,c]=s,l=Du(n,h=>h.children).sum(h=>h[r]).sort(o),u=e();u.size([1,1]),i&&u.nodeSize(i),a&&u.separation(a),u(l);const f=[];l.each(h=>{h[A]=h.x,h[c]=h.y,h.name=h.data.name,f.push(h)});const d=l.links();return d.forEach(h=>{h[A]=[h.source[A],h.target[A]],h[c]=[h.source[c],h.target[c]]}),{nodes:f,edges:d}},EP=e=>CP(hie)(e);EP.props={};const OP=e=>CP(nae)(e);OP.props={};const poe={sortBy:(e,t)=>t.value-e.value},goe={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},voe={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},yoe={text:"",fontSize:10},SP=e=>{const{data:t,encode:n={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=e,l=n==null?void 0:n.value,{nodes:u,edges:f}=OP(Object.assign(Object.assign(Object.assign({},poe),a),{field:l}))(t),d=ea(c,"node",{title:"name",items:["value"]},!0),h=ea(c,"link",{title:"",items:[p=>({name:"source",value:p.source.name}),p=>({name:"target",value:p.target.name})]});return[ee({},voe,{data:f,encode:de(n,"link"),scale:de(r,"link"),labels:s,style:Object.assign({stroke:"#999"},de(i,"link")),tooltip:h,animate:ta(A,"link")}),ee({},goe,{data:u,scale:de(r,"node"),encode:de(n,"node"),labels:[Object.assign(Object.assign({},yoe),de(i,"label")),...o],style:Object.assign({},de(i,"node")),tooltip:d,animate:ta(A,"node")})]};SP.props={};var moe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},boe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function woe(e,t){const{text:n="text",value:r="value"}=t;return e.map(i=>Object.assign(Object.assign({},i),{text:i[n],value:i[r]}))}const Boe=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:e=>e.fontFamily},tooltip:{items:[e=>({name:e.text,value:e.value})]}}),Mw=(e,t)=>moe(void 0,void 0,void 0,function*(){const{width:n,height:r}=t,{data:i,encode:a={},scale:o,style:s={},layout:A={}}=e,c=boe(e,["data","encode","scale","style","layout"]),l=woe(i,a);return ee({},Boe(),Object.assign(Object.assign({data:{value:l,transform:[Object.assign({type:"wordCloud",size:[n,r]},A)]},encode:a,scale:o,style:s},c),{axis:!1}))});Mw.props={};var Cl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xoe=(e,t)=>{const{shape:n,radius:r}=e,i=Cl(e,["shape","radius"]),a=de(i,"pointer"),o=de(i,"pin"),{shape:s}=a,A=Cl(a,["shape"]),{shape:c}=o,l=Cl(o,["shape"]),{coordinate:u,theme:f}=t;return(d,h)=>{const p=d.map(k=>u.invert(k)),[g,v,y]=_K(u,"polar"),m=u.clone(),{color:b}=h,w=v1({startAngle:g,endAngle:v,innerRadius:y,outerRadius:r});w.push(["cartesian"]),m.update({transformations:w});const B=p.map(k=>m.map(k)),[x,C]=_b(B),[E,O]=u.getCenter(),S=Object.assign(Object.assign({x1:x,y1:C,x2:E,y2:O,stroke:b},A),i),_=Object.assign(Object.assign({cx:E,cy:O,stroke:b},l),i),F=_e(new xn);return Ta(s)||(typeof s=="function"?F.append(()=>s(B,h,m,f)):F.append("line").call(we,S).node()),Ta(c)||(typeof c=="function"?F.append(()=>c(B,h,m,f)):F.append("circle").call(we,_).node()),F.node()}},OO={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Coe={style:{shape:xoe,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},Eoe={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function Ooe(e){if(Et(e)){const t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}function Soe(e,t){const{name:n="score",target:r,total:i,percent:a,thresholds:o=[]}=Ooe(e),s=a||r,A=a?1:i,c=Object.assign({y:{domain:[0,A]}},t);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((l,u)=>({x:n,y:u>=1?l-o[u-1]:l,color:u})),target:s,total:A,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:A-s,color:"total"}],target:s,total:A,scale:c}}function Foe(e,{target:t,total:n}){const{content:r}=e;return r?r(t,n):t.toString()}const FP=e=>{const{data:t={},scale:n={},style:r={},animate:i={},transform:a=[]}=e,o=Cl(e,["data","scale","style","animate","transform"]),{targetData:s,totalData:A,target:c,total:l,scale:u}=Soe(t,n),f=de(r,"text"),{tooltip:d}=f,h=Cl(f,["tooltip"]),p=w$(r,["pointer","pin"]),g=de(r,"arc"),v=g.shape;return[ee({},OO,Object.assign({type:"interval",transform:[{type:"stackY"}],data:A,scale:u,style:v==="round"?Object.assign(Object.assign({},g),{shape:Mre}):g,animate:typeof i=="object"?de(i,"arc"):i},o)),ee({},OO,Coe,Object.assign({type:"point",data:s,scale:u,style:p,animate:typeof i=="object"?de(i,"indicator"):i},o)),ee({},Eoe,{style:Object.assign({text:Foe(h,{target:c,total:l})},h),tooltip:d,animate:typeof i=="object"?de(i,"text"):i})]};FP.props={};const SO={density:BU},_P=()=>(e,t,n,r)=>{const{x:i,series:a}=n,o=Object.entries(n).filter(([u])=>u.startsWith("y")).map(([,u])=>u),s=Object.entries(n).filter(([u])=>u.startsWith("size")).map(([,u])=>u);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const A=t.x,c=t.series,l=Array.from(e,u=>{const f=A.getBandWidth(A.invert(+i[u])),d=c?c.getBandWidth(c.invert(+(a==null?void 0:a[u]))):1,h=f*d,p=(+(a==null?void 0:a[u])||0)*f,g=+i[u]+p+h/2;return[...o.map((y,m)=>[g+ +s[m][u]/e.length,+o[m][u]]),...o.map((y,m)=>[g-+s[m][u]/e.length,+o[m][u]]).reverse()].map(y=>r.map(y))});return[e,l]};_P.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:SO,channels:[...Vn({shapes:Object.keys(SO)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Jt(),{type:Ou},{type:Oo}],postInference:[...rn(),...uc()],interaction:{shareTooltip:!0}};const FO={heatmap:EU},MP=e=>(t,n,r,i)=>{const{x:a,y:o,size:s,color:A}=r,c=Array.from(t,l=>{const u=s?+s[l]:40;return[...i.map([+a[l],+o[l]]),A[l],u]});return[[0],[c]]};MP.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:FO,channels:[...Vn({shapes:Object.keys(FO)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Jt(),{type:Oo},{type:Tu}],postInference:[...rn(),...Pa()]};var _oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Moe={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:SU},animate:{enter:{type:"fadeIn"}}},koe={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},kP=e=>{const{data:t={},style:n={},animate:r}=e,i=_oe(e,["data","style","animate"]),a=Math.max(0,Et(t)?t:t==null?void 0:t.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},de(n,"text")),de(n,"content")),A=de(n,"outline"),c=de(n,"wave"),l=de(n,"background");return[ee({},Moe,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:n==null?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:A,wave:c,background:l})},animate:r},i)),ee({},koe,{style:Object.assign({text:`${Ph(a*100)} %`},s),animate:r})]};kP.props={};const _O={hollow:jb,hollowDiamond:Hb,hollowHexagon:Db,hollowSquare:$b,hollowTriangleDown:Gb,hollowTriangle:Kb,hollowBowtie:Rb,hollowCircle:zb,point:ew,plus:Jb,diamond:Yb,square:tw,triangle:rw,hexagon:Xb,cross:Wb,bowtie:Vb,hyphen:qb,line:Zb,tick:nw,triangleDown:iw,circle:vg},Toe=4,Qoe=200,TP=e=>(t,n,r,i)=>{const{x:a,y:o,size:s}=r;if(!a.length||!o.length)return[t,o.map(()=>[[]])];const[A,c]=i.getSize(),l=ko(n,r,e),u=Array.from(t,p=>{const g=+a[p]*A,v=+o[p]*c,y=+s[p]||Toe;return{i:p,x:g,y:v,r:y}}),f=bP(u).stop().force("collide",Gae().radius(p=>p.r+1).strength(1));f.force("x",wP(p=>p.x).strength(0)),f.force("y",BP(p=>p.y).strength(5));for(let p=0;p<Qoe;p++)f.tick();f.stop();const d=p=>{const g=u.find(v=>v.i===p);return[g.x/A,g.y/c]},h=s?Array.from(t,p=>{const[g,v]=d(p),y=+s[p],m=y/A,b=y/c,w=[g-m,v-b],B=[g+m,v+b];return[i.map(l(w,p)),i.map(l(B,p))]}):Array.from(t,p=>[i.map(l(d(p),p))]);return[t,h]};TP.props={defaultShape:"point",defaultLabelShape:"label",composite:!1,shape:_O,channels:[...Vn({shapes:Object.keys(_O)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"}],preInference:[...Jt(),{type:Oo},{type:Tu}],postInference:[...rn(),{type:K1},...Pa()]};var Ioe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Loe(e,t={}){const{valueField:n="value",sort:r,fillParent:i=!0,nameField:a="name"}=t;if(!e||e.length===0)return[];const o=(c,l=null,u=0)=>{const f={data:c,depth:u,parent:l,children:[],x0:0,x1:0,value:c[n]||0};return c.children&&c.children.length>0&&(f.children=c.children.map(d=>o(d,f,u+1))),f},s=[];let A=0;return e.forEach(c=>{const l=o(c),u=(h,p=0,g=!1,v=0)=>{if(g||h.depth===0)h.x0=g?p:0,h.x1=h.x0+h.value;else if(h.x0=p,i&&v>0){const w=h.parent?h.parent.children.reduce((C,E)=>C+E.value,0):h.value,B=h.parent?h.parent.children.length:1,x=w>0?h.value/w:1/B;h.x1=p+v*x}else h.x1=p+h.value;let y=h.x0;const m=h.x1-h.x0,b=r?[...h.children].sort((w,B)=>r(w.data,B.data)):h.children;if(i&&b.length>0){const w=h.children.reduce((B,x)=>B+x.value,0);b.forEach(B=>{u(B,y,!1,m);const x=w>0?B.value/w:1/b.length;y+=m*x})}else b.forEach(w=>{u(w,y,!1,0),y+=w.x1-w.x0})};u(l,A,!0),A+=l.value;const f=h=>{var p,g,v;const y=w=>{var B;return(B=w[a])!==null&&B!==void 0?B:w.name},m=[y(h.data)];let b=h;for(;b.parent;)m.unshift(y(b.parent.data)),b=b.parent;return Object.assign(Object.assign({},w1(h.data,[n])),{[QP]:m,[Tw]:(v=(g=(p=b.parent)===null||p===void 0?void 0:p.data)===null||g===void 0?void 0:g[a])!==null&&v!==void 0?v:h.data[a],name:h.data[a],depth:h.depth,value:h.value,x:[h.x0,h.x1],y:[h.depth,h.depth+1],[Xh]:h.children.length})},d=h=>{s.push(f(h)),h.children.forEach(d)};d(l)}),s}const SA="partition",kw="markType",QP="path",Tw="ancestor-node",Xh="childNodeCount";function Uoe(e){const{data:t,encode:n,fillParent:r,sort:i}=e,{color:a,value:o,name:s}=n;return Loe(t,{valueField:o,fillParent:r,nameField:s,sort:i}).map(c=>{const l=Object.assign({},c);return a&&a!==Tw&&(l[a]=c[a]),l})}const MO={id:SA,encode:{x:"x",y:"y",key:QP,color:Tw,value:"value",name:"name"},labels:[{style:{pointerEvents:"none"},text:"value",position:"inside",transform:[{type:"overflowHide"}]}],axis:{x:{title:"Time/Order",label:!0},y:!1},style:{[kw]:SA,[Xh]:"childNodeCount"},state:{active:{zIndex:2},inactive:{zIndex:1}},legend:!1,coordinate:{type:"cartesian",grid:!1},interaction:{drillDown:!0}},IP=e=>{const{encode:t,data:n=[],layout:r={}}=e,i=Ioe(e,["encode","data","layout"]),{fillParent:a=!0,sort:o}=r,s=Object.assign(Object.assign({},MO.encode),t),{value:A}=s,c=Uoe({encode:s,data:n,fillParent:a,sort:o});return[ee({},MO,Object.assign({type:"rect",data:c,encode:s,tooltip:{title:"path",items:[l=>({name:A,value:l[A]})]},interaction:{elementHighlight:!0}},i))]};IP.props={};const LP=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];LP.props={};const UP=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];UP.props={};const PP=e=>new zl(e);PP.props={};const NP=e=>new ka(e);NP.props={};const RP=e=>new tk(e);RP.props={};const HP=e=>new ak(e);HP.props={};const DP=e=>new Gj(e);DP.props={};const jP=e=>new l$(e);jP.props={};const $P=e=>new qj(e);$P.props={};const KP=e=>new ck(e);KP.props={};const GP=e=>new Pp(e);GP.props={};const zP=e=>new gk(e);zP.props={};const VP=e=>new hk(e);VP.props={};const WP=e=>new Yj(e);WP.props={};const YP=e=>new uy(e);YP.props={};const XP=e=>new R1(e);XP.props={};const Na="g2-";function ns(e){return`.${Na}${e}`}const Poe=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],Qw=["lineX","lineY","rangeX","rangeY","range","connector"];function Iw({colorDefault:e,colorBlack:t,colorWhite:n,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:A,alpha65:c,alpha45:l,alpha25:u,alpha10:f,category10:d,category20:h,sizeDefault:p=1,padding:g="auto",margin:v=16}){return{padding:g,margin:v,size:p,color:e,category10:d,category20:h,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:f,labelAlign:"horizontal",labelFill:t,labelOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:l,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:l,titleFill:t,titleOpacity:A,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:A,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[a,a,a/2],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:l,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:A,tickStroke:t,tickStrokeOpacity:l},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:A,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{[ns("tooltip")]:{"font-family":"sans-serif"}}}}}const Noe={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Roe=Iw(Noe),Lw=e=>ee({},Roe,e);Lw.props={};const qP=e=>ee({},Lw(),{category10:"category10",category20:"category20"},e);qP.props={};const Hoe={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},Doe=Iw(Hoe),ZP=e=>ee({},Doe,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{[ns("tooltip")]:{background:"#1f1f1f",opacity:.95},[ns("tooltip-title")]:{color:"#A6A6A6"},[ns("tooltip-list-item-name-label")]:{color:"#A6A6A6"},[ns("tooltip-list-item-value")]:{color:"#A6A6A6"}}}},e),JP=e=>Object.assign({},ZP(),{category10:"category10",category20:"category20"},e);JP.props={};const joe={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},$oe=Iw(joe),e4=e=>ee({},$oe,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(t,n)=>n!==0},axisRight:{gridFilter:(t,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);e4.props={};function Koe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Goe(e){return e=qh(Math.abs(e)),e?e[1]:NaN}function zoe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],A=0;i>0&&s>0&&(A+s+1>r&&(s=Math.max(1,r-A)),a.push(n.substring(i-=s,i+s)),!((A+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Voe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Woe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(e){if(!(t=Woe.exec(e)))throw new Error("invalid format: "+e);var t;return new Uw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dm.prototype=Uw.prototype;function Uw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yoe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var t4;function Xoe(e,t){var n=qh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(t4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+qh(e,Math.max(0,t+a-1))[0]}function kO(e,t){var n=qh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Koe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kO(e*100,t),r:kO,s:Xoe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QO(e){return e}var IO=Array.prototype.map,LO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qoe(e){var t=e.grouping===void 0||e.thousands===void 0?QO:zoe(IO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?QO:Voe(IO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",A=e.nan===void 0?"NaN":e.nan+"";function c(u){u=dm(u);var f=u.fill,d=u.align,h=u.sign,p=u.symbol,g=u.zero,v=u.width,y=u.comma,m=u.precision,b=u.trim,w=u.type;w==="n"?(y=!0,w="g"):TO[w]||(m===void 0&&(m=12),b=!0,w="g"),(g||f==="0"&&d==="=")&&(g=!0,f="0",d="=");var B=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",x=p==="$"?r:/[%p]/.test(w)?o:"",C=TO[w],E=/[defgprs%]/.test(w);m=m===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function O(S){var _=B,F=x,k,Q,L;if(w==="c")F=C(S)+F,S="";else{S=+S;var T=S<0||1/S<0;if(S=isNaN(S)?A:C(Math.abs(S),m),b&&(S=Yoe(S)),T&&+S==0&&h!=="+"&&(T=!1),_=(T?h==="("?h:s:h==="-"||h==="("?"":h)+_,F=(w==="s"?LO[8+t4/3]:"")+F+(T&&h==="("?")":""),E){for(k=-1,Q=S.length;++k<Q;)if(L=S.charCodeAt(k),48>L||L>57){F=(L===46?i+S.slice(k+1):S.slice(k))+F,S=S.slice(0,k);break}}}y&&!g&&(S=t(S,1/0));var M=_.length+S.length+F.length,I=M<v?new Array(v-M+1).join(f):"";switch(y&&g&&(S=t(I+S,I.length?v-F.length:1/0),I=""),d){case"<":S=_+S+F+I;break;case"=":S=_+I+S+F;break;case"^":S=I.slice(0,M=I.length>>1)+_+S+F+I.slice(M);break;default:S=I+_+S+F;break}return a(S)}return O.toString=function(){return u+""},O}function l(u,f){var d=c((u=dm(u),u.type="f",u)),h=Math.max(-8,Math.min(8,Math.floor(Goe(f)/3)))*3,p=Math.pow(10,-h),g=LO[8+h/3];return function(v){return d(p*v)+g}}return{format:c,formatPrefix:l}}var ld,Ra;Zoe({thousands:",",grouping:[3],currency:["$",""]});function Zoe(e){return ld=qoe(e),Ra=ld.format,ld.formatPrefix,ld}var Joe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ese(e){return class extends sc{constructor(t){super(t),this.descriptor=e}connectedCallback(){var t,n;(n=(t=this.descriptor).render)===null||n===void 0||n.call(t,this.attributes,this)}update(t={}){var n,r;this.attr(ee({},this.attributes,t)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function UO(e,t,n){return e.querySelector(t)?_e(e).select(t):_e(e).append(n)}function Sg(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function n4(e,t){const n={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in o&&([r,i,a]=o[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},t)}class r4 extends Ene{get child(){var t;return(t=this.children)===null||t===void 0?void 0:t[0]}update(t){var n;const{subOptions:r}=t;(n=this.child)===null||n===void 0||n.update(r),this.attr(t)}}class tse extends r4{update(t){var n;const{subOptions:r}=t;(n=this.child)===null||n===void 0||n.update(r),this.attr(t)}}function Vi(e,t){var n;return(n=e.filter(r=>r.getOptions().name===t))===null||n===void 0?void 0:n[0]}function nse(e){return e==="horizontal"||e===0}function rse(e){return e==="vertical"||e===-Math.PI/2}function i4(e,t,n){const{bbox:r}=e,{position:i="top",size:a,length:o}=t,s=["top","bottom","center"].includes(i),[A,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:l,defaultLength:u}=n.props,f=a||l||A,d=o||u||c,h=s?"horizontal":"vertical",[p,g]=s?[d,f]:[f,d];return{orientation:h,width:p,height:g,size:f,length:d}}function ise(e){return e.find(t=>t.getOptions().domain.length>0).getOptions().domain}function Fg(e){const t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=e,r=Joe(e,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{t.includes(a)?i[`show${Co(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),n)}var a4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function o4(e,t){const{eulerAngles:n,origin:r}=t;r&&e.setOrigin(r),n&&e.rotate(n[0],n[1],n[2])}function s4(e){const{innerWidth:t,innerHeight:n,depth:r}=e.getOptions();return[t,n,r]}function ase(e,t){const{width:n,height:r}=t.getOptions();return i=>{if(!_T(t))return i;const a=e==="bottom"?[i,1]:[0,i],o=t.map(a);if(e==="bottom"){const s=o[0];return new ka({domain:[0,n],range:[0,1]}).map(s)}else if(e==="left"){const s=o[1];return new ka({domain:[0,r],range:[0,1]}).map(s)}return i}}function ose(e,t,n){if(e.getTicks)return e.getTicks();if(!n)return t;const[r,i]=Ca(t,o=>+o),{tickCount:a}=e.getOptions();return n(r,i,a)}function sse(e,t){if(lt(t))return d=>d;const n=t.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:A}=n,[c,l,u]=e==="left"||e==="right"?[a,o,i]:[s,A,r],f=new ka({domain:[0,1],range:[c/u,1-l/u]});return d=>f.map(d)}function A4(e,t,n,r,i,a,o,s){var A;(n!==void 0||a!==void 0)&&e.update(Object.assign(Object.assign({},n&&{tickCount:n}),a&&{tickMethod:a}));const c=ose(e,t,a),l=i?c.filter(i):c,u=v=>v instanceof Date?String(v):typeof v=="object"&&v?v:String(v),f=r||((A=e.getFormatter)===null||A===void 0?void 0:A.call(e))||u,d=sse(o,s),h=ase(o,s),p=v=>["top","bottom","center","outer"].includes(v),g=v=>["left","right"].includes(v);return lt(s)||Ct(s)?l.map((v,y,m)=>{var b,w;const B=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,v))/2||0,x=d(e.map(v)+B);return{value:Vp(s)&&o==="center"||Ct(s)&&((w=e.getTicks)===null||w===void 0?void 0:w.call(e))&&p(o)||Ct(s)&&g(o)?1-x:x,label:u(f(Ph(v),y,m)),id:String(y)}}):l.map((v,y,m)=>{var b;const w=((b=e.getBandWidth)===null||b===void 0?void 0:b.call(e,v))/2||0,B=h(d(e.map(v)+w));return{value:g(o)?1-B:B,label:u(f(Ph(v),y,m)),id:String(y)}})}function Ase(e,t,n="xy"){const[r,i,a]=s4(t);return n==="xy"?e.includes("bottom")||e.includes("top")?i:r:n==="xz"?e.includes("bottom")||e.includes("top")?a:r:e.includes("bottom")||e.includes("top")?i:a}function cse(e=[],t){if(e.length>0)return e;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=t,o=[],s=(A,c)=>{c&&o.push(Object.assign(Object.assign({},A),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function lse(e,t,n,r,i){const{x:a,y:o,width:s,height:A}=t,c=[a+s/2,o+A/2],l=Math.min(s,A)/2,[u,f]=rb(i),[d,h]=s4(i),p=Math.min(d,h)/2,g={center:c,radius:l,startAngle:u,endAngle:f,gridLength:(r-n)*p};if(e==="inner"){const{insetLeft:v,insetTop:y}=i.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-v,c[1]-y],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function use(e,t,n){return SK(t)||Wp(t)?!1:e===void 0?!!n.getTicks:e}function fse(e){const{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function dse(e,t,n,r,i){const{x:a,y:o,width:s,height:A}=n;if(e==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(e==="left")return{startPos:[a+s,o+A],endPos:[a+s,o]};if(e==="right")return{startPos:[a,o+A],endPos:[a,o]};if(e==="top")return{startPos:[a,o+A],endPos:[a+s,o+A]};if(e==="center"){if(t==="vertical")return{startPos:[a,o],endPos:[a,o+A]};if(t==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof t=="number"){const[c,l]=r.getCenter(),[u,f]=Yp(r),[d,h]=rb(r),p=Math.min(s,A)/2,{insetLeft:g,insetTop:v}=r.getOptions(),y=u*p,m=f*p,[b,w]=[c+a-g,l+o-v],[B,x]=[Math.cos(t),Math.sin(t)],C=[b+m*B,w+m*x],E=[b+y*B,w+y*x],O=()=>{const{domain:_}=i.getOptions();return _.length},S=lt(r)&&i?O():3;return{startPos:C,endPos:E,gridClosed:Math.abs(h-d-360)<1e-6,gridCenter:[b,w],gridControlAngles:new Array(S).fill(0).map((_,F,k)=>(h-d)/S*F)}}}return{}}const hse=e=>{const{order:t,size:n,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:A,tickLength:c,important:l={},style:u={},indexBBox:f,title:d,grid:h=!1}=e,p=a4(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[g],value:v,coordinate:y,theme:m})=>{const{bbox:b}=v,{domain:w}=g.getOptions(),B=A4(g,w,s,a,o,A,r,y),x=f?B.map((k,Q)=>{const L=f.get(Q);return!L||L[0]!==k.label?k:Object.assign(Object.assign({},k),{bbox:L[1]})}):B,[C,E]=Yp(y),O=lse(r,b,C,E,y),{axis:S,axisArc:_={}}=m,F=Fg(ee({},S,_,O,Object.assign(Object.assign(Object.assign({type:"arc",data:x,titleText:Sg(d),grid:h,classNamePrefix:Na},c!==void 0?{tickLength:c}:null),p),l)));return new gw({style:B1(F,["transform"])})}};function pse(e,t,n,r,i,a){const o=n.axis,s=["top","right","bottom","left"].includes(i)?n[`axis${$1(i)}`]:n.axisLinear,A=e.getOptions().name,c=n[`axis${Co(A)}`]||{};return Object.assign({},o,s,c)}function gse(e,t,n,r,i,a){const o=pse(e,t,n,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:rse(a)?10:0,tick:r==="center"?!1:void 0}):o}const vse=e=>{const{direction:t="left",important:n={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:A,style:c={},title:l,tickCount:u,tickFilter:f,tickMethod:d,tickLength:h,transform:p,indexBBox:g}=e,v=a4(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:y,value:m,coordinate:b,theme:w})=>{const{bbox:B}=m,[x]=y,{domain:C,xScale:E}=x.getOptions(),O=gse(x,b,w,t,s,a),S=Object.assign(Object.assign(Object.assign({},O),c),v),_=Ase(o||s,b,e.plane),F=dse(s,a,B,b,E),k=fse(b),Q=A4(x,C,u,r,f,d,s,b),L=g?Q.map((I,U)=>{const R=g.get(U);return!R||R[0]!==I.label?I:Object.assign(Object.assign({},I),{bbox:R[1]})}):Q,T=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},S),{type:"linear",data:L,crossSize:A,titleText:Sg(l),labelOverlap:cse(p,S),grid:use(S.grid,b,x),gridLength:_,line:!0,indexBBox:g,classNamePrefix:Na}),h!==void 0?{tickLength:h}:null),S.line?null:{lineOpacity:0}),F),k),n);return T.labelOverlap.find(I=>I.type==="hide")&&(T.crossSize=!1),new gw({className:"axis",style:Fg(T)})}},c4=e=>t=>{const{labelFormatter:n,labelFilter:r=()=>!0}=t;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,A=typeof n=="string"?Ra(n):n,c=(u,f,d)=>r(s[f],f,s),l=Object.assign(Object.assign({},t),{labelFormatter:A,labelFilter:c,scale:o});return e(l)(i)}},To=c4(vse),l4=c4(hse);To.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};l4.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const u4=e=>(...t)=>{const n=To(Object.assign({},{crossPadding:50},e))(...t);return o4(n,e),n};u4.props=Object.assign(Object.assign({},To.props),{defaultPosition:"bottom"});const f4=e=>(...t)=>{const n=To(Object.assign({},{crossPadding:10},e))(...t);return o4(n,e),n};f4.props=Object.assign(Object.assign({},To.props),{defaultPosition:"left"});var yse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mse(e){const t=e%(Math.PI*2);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function bse(e,t,n,r){const{radar:i}=e,[a]=r,o=a.getOptions().name,[s,A]=rb(n),{axisRadar:c={}}=t;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((l,u)=>(A-s)/i.count*u)})}const d4=e=>{const{important:t={}}=e,n=yse(e,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return To(Object.assign(Object.assign(Object.assign({},n),mse(e.orientation)),{important:Object.assign(Object.assign({},bse(e,i,a,o)),t)}))(r)}};d4.props=Object.assign(Object.assign({},To.props),{defaultPosition:"center"});function xi(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var wse=0;function Bse(e){return"__private_"+wse+++"_"+e}/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.2.0
 * @date 12/24/2025, 11:55:53 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var on=Bse("renderState"),h4=function(){function e(t){oe(this,e),this.renderQueue=[],Object.defineProperty(this,on,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=st(),this.dprMatrix=st(),this.tmpMat4=st(),this.vec3a=$e(),this.vec3b=$e(),this.vec3c=$e(),this.vec3d=$e(),this.canvasRendererPluginOptions=t}return se(e,[{key:"apply",value:function(n,r){var i=this;this.context=n;var a=this.context,o=a.config,s=a.camera,A=a.renderingService,c=a.renderingContext,l=a.pathGeneratorFactory,u=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.pathGeneratorFactory=l;var f=n.contextService,d=c.root.ownerDocument.defaultView;A.hooks.init.tap(e.tag,function(){var g=f.getDPR(),v=o.width,y=o.height,m=f.getContext();i.clearRect(m,0,0,v*g,y*g,o.background)}),A.hooks.destroy.tap(e.tag,function(){i.renderQueue=[],xi(i,on)[on]={restoreStack:[],prevObject:null,currentContext:null}});var h=function(){var v,y=f.getContext(),m=f.getDPR(),b=o.width,w=o.height,B=i.canvasRendererPluginOptions,x=B.dirtyObjectNumThreshold,C=B.dirtyObjectRatioThreshold,E=A.getStats(),O=E.total,S=E.rendered,_=S/O;i.clearFullScreen=i.clearFullScreenLastFrame||!((v=d.context.renderingPlugins[1])!==null&&v!==void 0&&v.isFirstTimeRenderingFinished)||A.disableDirtyRectangleRendering()||S>x&&_>C,y&&(typeof y.resetTransform=="function"?y.resetTransform():y.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(y,0,0,b*m,w*m,o.background))},p=function(v,y){for(var m=[v];m.length>0;){var b,w=m.pop();w.isVisible()&&!w.isCulled()&&(u?i.renderDisplayObjectOptimized(w,y,i.context,xi(i,on)[on],r):i.renderDisplayObject(w,y,i.context,xi(i,on)[on],r));for(var B=((b=w.sortable)===null||b===void 0||(b=b.sorted)===null||b===void 0?void 0:b.length)>0?w.sortable.sorted:w.childNodes,x=B.length-1;x>=0;x--)m.push(B[x])}};A.hooks.endFrame.tap(e.tag,function(){if(h(),c.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}u=o.renderer.getConfig().enableRenderingOptimization,xi(i,on)[on]={restoreStack:[],prevObject:null,currentContext:xi(i,on)[on].currentContext},xi(i,on)[on].currentContext.clear(),i.clearFullScreenLastFrame=!1;var g=f.getContext(),v=f.getDPR();if(Xa(i.dprMatrix,[v,v,1]),$n(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)u?(g.save(),p(c.root,g),g.restore()):p(c.root,g);else{var y=i.safeMergeAABB(i.mergeDirtyAABBs(i.renderQueue));if(pn.isEmpty(y)){i.renderQueue=[];return}var m=i.convertAABB2Rect(y),b=m.x,w=m.y,B=m.width,x=m.height,C=Vt(i.vec3a,[b,w,0],i.vpMatrix),E=Vt(i.vec3b,[b+B,w,0],i.vpMatrix),O=Vt(i.vec3c,[b,w+x,0],i.vpMatrix),S=Vt(i.vec3d,[b+B,w+x,0],i.vpMatrix),_=Math.min(C[0],E[0],S[0],O[0]),F=Math.min(C[1],E[1],S[1],O[1]),k=Math.max(C[0],E[0],S[0],O[0]),Q=Math.max(C[1],E[1],S[1],O[1]),L=Math.floor(_),T=Math.floor(F),M=Math.ceil(k-_),I=Math.ceil(Q-F);g.save(),i.clearRect(g,L,T,M,I,o.background),g.beginPath(),g.rect(L,T,M,I),g.clip(),g.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var U=o.renderer.getConfig(),R=U.enableDirtyRectangleRenderingDebug;R&&d.dispatchEvent(new gt(Nr.DIRTY_RECTANGLE,{dirtyRect:{x:L,y:T,width:M,height:I}}));var N=y.getMin(),j=Le(N,2),K=j[0],$=j[1],V=y.getMax(),W=Le(V,2),z=W[0],ne=W[1],ie=c.root.ownerDocument.elementsFromBBox(K,$,z,ne);ie.sort(function(le,P){return le.sortable.renderOrder-P.sortable.renderOrder}).forEach(function(le){le&&le.isVisible()&&!le.isCulled()&&i.renderDisplayObject(le,g,i.context,xi(i,on)[on],r)}),g.restore(),i.renderQueue.forEach(function(le){i.saveDirtyAABB(le)}),i.renderQueue=[]}xi(i,on)[on].restoreStack.forEach(function(){g.restore()}),xi(i,on)[on].restoreStack=[]}),A.hooks.render.tap(e.tag,function(g){i.clearFullScreen||i.renderQueue.push(g)})}},{key:"clearRect",value:function(n,r,i,a,o,s){n.clearRect(r,i,a,o),s&&(n.fillStyle=s,n.fillRect(r,i,a,o))}},{key:"renderDisplayObjectOptimized",value:function(n,r,i,a,o){var s=n.nodeName,A=!1,c=!1,l=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],f=n.parsedStyle.clipPath;if(f){A=!a.prevObject||!Zv(f.getWorldTransform(),a.prevObject.getWorldTransform()),A&&(this.applyWorldTransform(r,f),a.prevObject=null);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),c=!0,r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}if(l){A=!a.prevObject||!Zv(n.getWorldTransform(),a.prevObject.getWorldTransform()),A&&this.applyWorldTransform(r,n);var h=!a.prevObject;if(!h){var p=a.prevObject.nodeName;s===Z.TEXT?h=p!==Z.TEXT:s===Z.IMAGE?h=p!==Z.IMAGE:h=p===Z.TEXT||p===Z.IMAGE}l.applyStyleToContext(r,n,h,a),a.prevObject=n}u&&(r.beginPath(),u(r,n.parsedStyle),s!==Z.LINE&&s!==Z.PATH&&s!==Z.POLYLINE&&r.closePath()),l&&l.drawToContext(r,n,xi(this,on)[on],this,o),c&&r.restore(),n.dirty(!1)}},{key:"renderDisplayObject",value:function(n,r,i,a,o){var s=n.nodeName,A=a.restoreStack[a.restoreStack.length-1];A&&!(n.compareDocumentPosition(A)&Rt.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var c=this.context.styleRendererFactory[s],l=this.pathGeneratorFactory[s],u=n.parsedStyle.clipPath;if(u){this.applyWorldTransform(r,u);var f=this.pathGeneratorFactory[u.nodeName];f&&(r.save(),a.restoreStack.push(n),r.beginPath(),f(r,u.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),l&&(r.beginPath(),l(r,n.parsedStyle),s!==Z.LINE&&s!==Z.PATH&&s!==Z.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,i,this,o),r.restore()),n.dirty(!1)}},{key:"applyAttributesToContext",value:function(n,r){var i=r.parsedStyle,a=i.stroke,o=i.fill,s=i.opacity,A=i.lineDash,c=i.lineDashOffset;A&&n.setLineDash(A),Oe(c)||(n.lineDashOffset=c),Oe(s)||(n.globalAlpha*=s),!Oe(a)&&!Array.isArray(a)&&!a.isNone&&(n.strokeStyle=r.attributes.stroke),!Oe(o)&&!Array.isArray(o)&&!o.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),i=n.getMax(),a=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(i[0]),A=Math.ceil(i[1]),c=s-a,l=A-o;return{x:a,y:o,width:c,height:l}}},{key:"mergeDirtyAABBs",value:function(n){var r=new pn;return n.forEach(function(i){var a=i.getRenderBounds();r.add(a);var o=i.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new pn);var i=n.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,i){i?(UA(this.tmpMat4,r.getLocalTransform()),$n(this.tmpMat4,i,this.tmpMat4),$n(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(UA(this.tmpMat4,r.getWorldTransform()),$n(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new pn,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(o){n.add(o)}),n}}])}();h4.tag="CanvasRenderer";function Zh(e,t,n,r,i,a,o){var s,A;if(e.image.nodeName==="rect"){var c=e.image.parsedStyle,l=c.width,u=c.height;A=r.contextService.getDPR();var f=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(f),s.width=l*A,s.height=u*A;var d=a.offscreenCanvasCreator.getOrCreateContext(f),h={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(g){i.renderDisplayObject(g,d,r,h,a)}),h.restoreStack.forEach(function(){d.restore()})}var p=o.getOrCreatePatternSync(t,e,n,s,A,t.getGeometryBounds().min,function(){t.dirty(),r.renderingService.dirty()});return p}function Jh(e,t,n,r){var i;if(e.type===eo.LinearGradient||e.type===eo.RadialGradient){var a=t.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,A=a&&a.min||[0,0];i=r.getOrCreateGradient(Qe(Qe({type:e.type},e.value),{},{min:A,width:o,height:s}),n)}return i}var ud=["shadowBlur","shadowOffsetX","shadowOffsetY"],PO=["lineCap","lineJoin","miterLimit"],hn={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},NO={};function jt(e,t,n,r){var i=r.has(t)?r.get(t):hn[t];return i!==n&&(t==="lineDash"?e.setLineDash(n):e[t]=n,r.set(t,n)),i}var xse=function(){function e(t){oe(this,e),this.imagePool=t}return se(e,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,i,a,o,s){}},{key:"applyCommonStyleToContext",value:function(n,r,i,a){var o=i?NO:a.prevObject.parsedStyle,s=r.parsedStyle;(i||s.opacity!==o.opacity)&&jt(n,"globalAlpha",Oe(s.opacity)?hn.globalAlpha:s.opacity,a.currentContext),(i||s.blend!==o.blend)&&jt(n,"globalCompositeOperation",Oe(s.blend)?hn.globalCompositeOperation:s.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,i,a){var o=i?NO:a.prevObject.parsedStyle,s=r.parsedStyle,A=s.lineWidth,c=A===void 0?hn.lineWidth:A,l=s.fill&&!s.fill.isNone,u=s.stroke&&!s.stroke.isNone&&c>0;if(u){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var f=!Oe(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:hn.strokeStyle;jt(n,"strokeStyle",f,a.currentContext)}(i||s.lineWidth!==o.lineWidth)&&jt(n,"lineWidth",Oe(s.lineWidth)?hn.lineWidth:s.lineWidth,a.currentContext),(i||s.lineDash!==o.lineDash)&&jt(n,"lineDash",s.lineDash||hn.lineDash,a.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&jt(n,"lineDashOffset",Oe(s.lineDashOffset)?hn.lineDashOffset:s.lineDashOffset,a.currentContext);for(var d=0;d<PO.length;d++){var h=PO[d];(i||s[h]!==o[h])&&jt(n,h,Oe(s[h])?hn[h]:s[h],a.currentContext)}}if(l&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var p=!Oe(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:hn.fillStyle;jt(n,"fillStyle",p,a.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,i,a){var o=r.nodeName;this.applyCommonStyleToContext(n,r,i,a),o===Z.IMAGE||this.applyStrokeFillStyleToContext(n,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,i,a){var o=r.parsedStyle;if(i){jt(n,"shadowColor",o.shadowColor.toString(),a.currentContext);for(var s=0;s<ud.length;s++){var A=ud[s];jt(n,A,o[A]||hn[A],a.currentContext)}}o.filter&&o.filter.length&&jt(n,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){jt(n,"shadowColor",hn.shadowColor,a.currentContext);for(var s=0;s<ud.length;s++){var A=ud[s];jt(n,A,hn[A],a.currentContext)}}if(i)if(r&&o){var c=n.filter;!Oe(c)&&c.indexOf("drop-shadow")>-1&&jt(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||hn.filter,a.currentContext)}else jt(n,"filter",hn.filter,a.currentContext)}},{key:"fillToContext",value:function(n,r,i,a,o){var s=this,A=r.parsedStyle,c=A.fill,l=A.fillRule,u=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(d){var h=jt(n,"fillStyle",Jh(d,r,n,s.imagePool),i.currentContext);u=u??h,l?n.fill(l):n.fill()});else{if(Cs(c)){var f=Zh(c,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);f&&(n.fillStyle=f,u=!0)}l?n.fill(l):n.fill()}u!==null&&jt(n,"fillStyle",u,i.currentContext)}},{key:"strokeToContext",value:function(n,r,i,a,o){var s=this,A=r.parsedStyle.stroke,c=null;if(Array.isArray(A)&&A.length>0)A.forEach(function(f){var d=jt(n,"strokeStyle",Jh(f,r,n,s.imagePool),i.currentContext);c=c??d,n.stroke()});else{if(Cs(A)){var l=Zh(A,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);if(l){var u=jt(n,"strokeStyle",l,i.currentContext);c=c??u}}n.stroke()}c!==null&&jt(n,"strokeStyle",c,i.currentContext)}},{key:"drawToContext",value:function(n,r,i,a,o){var s,A=r.nodeName,c=r.parsedStyle,l=c.opacity,u=l===void 0?hn.globalAlpha:l,f=c.fillOpacity,d=f===void 0?hn.fillOpacity:f,h=c.strokeOpacity,p=h===void 0?hn.strokeOpacity:h,g=c.lineWidth,v=g===void 0?hn.lineWidth:g,y=c.fill&&!c.fill.isNone,m=c.stroke&&!c.stroke.isNone&&v>0;if(!(!y&&!m)){var b=!Oe(c.shadowColor)&&c.shadowBlur>0,w=c.shadowType==="inner",B=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,x=!!(c.filter&&c.filter.length),C=b&&m&&(A===Z.PATH||A===Z.LINE||A===Z.POLYLINE||B||w),E=null;if(y){C||this.applyShadowAndFilterStyleToContext(n,r,b,i);var O=u*d;E=jt(n,"globalAlpha",O,i.currentContext),this.fillToContext(n,r,i,a,o),C||this.clearShadowAndFilterStyleForContext(n,b,x,i)}if(m){var S=!1,_=u*p,F=jt(n,"globalAlpha",_,i.currentContext);if(E=y?E:F,C&&(this.applyShadowAndFilterStyleToContext(n,r,b,i),S=!0,w)){var k=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,i,a,o),n.globalCompositeOperation=k,this.clearShadowAndFilterStyleForContext(n,b,x,i,!0)}this.strokeToContext(n,r,i,a,o),S&&this.clearShadowAndFilterStyleForContext(n,b,x,i)}E!==null&&jt(n,"globalAlpha",E,i.currentContext)}}}])}(),Pw=function(e){function t(){return oe(this,t),Pe(this,t,arguments)}return Ne(t,e),se(t,[{key:"render",value:function(r,i,a,o,s,A){var c=i.fill,l=i.fillRule,u=i.opacity,f=u===void 0?1:u,d=i.fillOpacity,h=d===void 0?1:d,p=i.stroke,g=i.strokeOpacity,v=g===void 0?1:g,y=i.lineWidth,m=y===void 0?1:y,b=i.lineCap,w=i.lineJoin,B=i.shadowType,x=i.shadowColor,C=i.shadowBlur,E=i.filter,O=i.miterLimit,S=c&&!c.isNone,_=p&&!p.isNone&&m>0,F=(c==null?void 0:c.alpha)===0,k=!!(E&&E.length),Q=!Oe(x)&&C>0,L=a.nodeName,T=B==="inner",M=_&&Q&&(L===Z.PATH||L===Z.LINE||L===Z.POLYLINE||F||T);S&&(r.globalAlpha=f*h,M||ep(a,r,Q),p4(r,a,c,l,o,s,A,this.imagePool),M||this.clearShadowAndFilter(r,k,Q)),_&&(r.globalAlpha=f*v,r.lineWidth=m,Oe(O)||(r.miterLimit=O),Oe(b)||(r.lineCap=b),Oe(w)||(r.lineJoin=w),M&&(T&&(r.globalCompositeOperation="source-atop"),ep(a,r,!0),T&&(hm(r,a,p,o,s,A,this.imagePool),r.globalCompositeOperation=hn.globalCompositeOperation,this.clearShadowAndFilter(r,k,!0))),hm(r,a,p,o,s,A,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var o=r.filter;!Oe(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(xse);function ep(e,t,n){var r=e.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,A=r.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),n&&(t.shadowColor=a.toString(),t.shadowBlur=o||0,t.shadowOffsetX=s||0,t.shadowOffsetY=A||0)}function p4(e,t,n,r,i,a,o,s){var A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){e.fillStyle=Jh(c,t,e,s),A||(r?e.fill(r):e.fill())}):(Cs(n)&&(e.fillStyle=Zh(n,t,e,i,a,o,s)),A||(r?e.fill(r):e.fill()))}function hm(e,t,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(A){e.strokeStyle=Jh(A,t,e,o),s||e.stroke()}):(Cs(n)&&(e.strokeStyle=Zh(n,t,e,r,i,a,o)),s||e.stroke())}function Cse(e,t){var n=Le(e,4),r=n[0],i=n[1],a=n[2],o=n[3],s=Le(t,4),A=s[0],c=s[1],l=s[2],u=s[3],f=Math.max(r,A),d=Math.max(i,c),h=Math.min(r+a,A+l),p=Math.min(i+o,c+u);return h<=f||p<=d?null:[f,d,h-f,p-d]}function Ese(e,t){var n=Vt($e(),[e[0],e[1],0],t),r=Vt($e(),[e[0]+e[2],e[1],0],t),i=Vt($e(),[e[0],e[1]+e[3],0],t),a=Vt($e(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0])-Math.min(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])-Math.min(n[1],r[1],i[1],a[1])]}var Ose=function(e){function t(){return oe(this,t),Pe(this,t,arguments)}return Ne(t,e),se(t,[{key:"renderDownSampled",value:function(r,i,a,o){var s=o.src,A=o.imageCache;if(!A.downSampled){this.imagePool.createDownSampledImage(s,a).then(function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())}).catch(function(c){console.error(c)});return}r.drawImage(A.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,o){var s=o.src,A=o.imageCache,c=o.imageRect,l=o.drawRect,u=A.size,f=r.getTransform(),d=f.a,h=f.b,p=f.c,g=f.d,v=f.e,y=f.f;if(r.resetTransform(),!(A!=null&&A.gridSize)){this.imagePool.createImageTiles(s,[],function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())},a).catch(function(Q){console.error(Q)});return}for(var m=[u[0]/c[2],u[1]/c[3]],b=[A.tileSize[0]/m[0],A.tileSize[1]/m[1]],w=[Math.floor((l[0]-c[0])/b[0]),Math.ceil((l[0]+l[2]-c[0])/b[0])],B=w[0],x=w[1],C=[Math.floor((l[1]-c[1])/b[1]),Math.ceil((l[1]+l[3]-c[1])/b[1])],E=C[0],O=C[1],S=E;S<=O;S++)for(var _=B;_<=x;_++){var F=A.tiles[S][_];if(F){var k=[Math.floor(c[0]+F.tileX*b[0]),Math.floor(c[1]+F.tileY*b[1]),Math.ceil(b[0]),Math.ceil(b[1])];r.drawImage(F.data,k[0],k[1],k[2],k[3])}}r.setTransform(d,h,p,g,v,y)}},{key:"render",value:function(r,i,a){var o=i.x,s=o===void 0?0:o,A=i.y,c=A===void 0?0:A,l=i.width,u=i.height,f=i.src,d=i.shadowColor,h=i.shadowBlur,p=this.imagePool.getImageSync(f,a),g=p==null?void 0:p.img,v=l,y=u;if(g){v||(v=g.width),y||(y=g.height);var m=!Oe(d)&&h>0;ep(a,r,m);try{var b=a.ownerDocument.defaultView.getContextService().getDomElement(),w=b.width,B=b.height,x=r.getTransform(),C=x.a,E=x.b,O=x.c,S=x.d,_=x.e,F=x.f,k=uM(C,O,0,0,E,S,0,0,0,0,1,0,_,F,0,1),Q=Ese([s,c,v,y],k),L=Cse([0,0,w,B],Q);if(!L)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){t.renderFull(r,i,a,{image:g,drawRect:[s,c,v,y]});return}var T=Q[2]/p.size[0];if(T<(p.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:f,imageCache:p,drawRect:[s,c,v,y]});return}if(!ImagePool.isSupportTile){t.renderFull(r,i,a,{image:g,drawRect:[s,c,v,y]});return}this.renderTile(r,i,a,{src:f,imageCache:p,imageRect:Q,drawRect:L})}catch{}}}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])}(Pw),Sse=function(e){function t(){return oe(this,t),Pe(this,t,arguments)}return Ne(t,e),se(t,[{key:"render",value:function(r,i,a,o,s,A){a.getBounds();var c=i.lineWidth,l=c===void 0?1:c,u=i.textAlign,f=u===void 0?"start":u,d=i.textBaseline,h=d===void 0?"alphabetic":d,p=i.lineJoin,g=p===void 0?"miter":p,v=i.miterLimit,y=v===void 0?10:v,m=i.letterSpacing,b=m===void 0?0:m,w=i.stroke,B=i.fill,x=i.fillRule,C=i.fillOpacity,E=C===void 0?1:C,O=i.strokeOpacity,S=O===void 0?1:O,_=i.opacity,F=_===void 0?1:_,k=i.metrics,Q=i.x,L=Q===void 0?0:Q,T=i.y,M=T===void 0?0:T,I=i.dx,U=i.dy,R=i.shadowColor,N=i.shadowBlur,j=i.textDecorationLine,K=k.font,$=k.lines,V=k.height,W=k.lineHeight,z=k.lineMetrics;r.font=K,r.lineWidth=l,r.textAlign=f==="middle"?"center":f;var ne=h;ne==="alphabetic"&&(ne="bottom"),r.lineJoin=g,Oe(y)||(r.miterLimit=y);var ie=M;h==="middle"?ie+=-V/2-W/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?ie+=-V:(h==="top"||h==="hanging")&&(ie+=-W);var le=L+(I||0);ie+=U||0,$.length===1&&(ne==="bottom"?(ne="middle",ie-=.5*V):ne==="top"&&(ne="middle",ie+=.5*V)),r.textBaseline=ne;var P=!Oe(R)&&N>0;ep(a,r,P);for(var D=0;D<$.length;D++){var G=l/2+le;ie+=W,!Oe(w)&&!w.isNone&&l&&this.drawLetterSpacing(r,a,$[D],z[D],f,G,ie,b,B,x,E,w,S,F,!0,o,s,A),Oe(B)||this.drawLetterSpacing(r,a,$[D],z[D],f,G,ie,b,B,x,E,w,S,F,!1,o,s,A)}j&&j!=="none"&&this.drawTextDecorations(r,i,a,$,W,le,M+(U||0),o,s,A)}},{key:"drawLetterSpacing",value:function(r,i,a,o,s,A,c,l,u,f,d,h,p,g,v,y,m,b){if(l===0){v?this.strokeText(r,i,a,A,c,h,p,y,m,b):this.fillText(r,i,a,A,c,u,f,d,g,y,m,b);return}var w=r.textAlign;r.textAlign="left";var B=A;s==="center"||s==="middle"?B=A-o.width/2:(s==="right"||s==="end")&&(B=A-o.width);for(var x=Array.from(a),C=r.measureText(a).width,E=0,O=0;O<x.length;++O){var S=x[O];v?this.strokeText(r,i,S,B,c,h,p,y,m,b):this.fillText(r,i,S,B,c,u,f,d,g,y,m,b),E=r.measureText(a.substring(O+1)).width,B+=C-E+l,C=E}r.textAlign=w}},{key:"fillText",value:function(r,i,a,o,s,A,c,l,u,f,d,h){p4(r,i,A,c,f,d,h,this.imagePool,!0);var p,g=!Oe(l)&&l!==1;g&&(p=r.globalAlpha,r.globalAlpha=l*u),r.fillText(a,o,s),g&&(r.globalAlpha=p)}},{key:"strokeText",value:function(r,i,a,o,s,A,c,l,u,f){hm(r,i,A,l,u,f,this.imagePool,!0);var d,h=!Oe(c)&&c!==1;h&&(d=r.globalAlpha,r.globalAlpha=c),r.strokeText(a,o,s),h&&(r.globalAlpha=d)}},{key:"drawTextDecorations",value:function(r,i,a,o,s,A,c,l,u,f){var d=i.textDecorationLine,h=i.textDecorationColor,p=i.textDecorationStyle,g=i.textDecorationThickness,v=g===void 0?1:g,y=i.textAlign,m=y===void 0?"start":y,b=i.lineWidth,w=b===void 0?1:b,B=i.metrics;if(!(!d||d==="none")){var x=B.lineMetrics,C=d.split(" ");switch(r.lineWidth=v,h&&(r.strokeStyle="rgba(".concat(h.r,", ").concat(h.g,", ").concat(h.b,", ").concat(h.alpha,")")),p){case"dashed":r.setLineDash([5,5]);break;case"dotted":r.setLineDash([2,2]);break;case"wavy":r.setLineDash([]);break;default:r.setLineDash([]);break}var E=c,O=i.textBaseline,S=O===void 0?"alphabetic":O;S==="middle"?E+=-B.height/2-s/2:S==="bottom"||S==="alphabetic"||S==="ideographic"?E+=-B.height:(S==="top"||S==="hanging")&&(E+=-s);for(var _=0;_<o.length;_++){E+=s;var F=x[_];if(F){var k=w/2,Q=A,L=A+F.width;m==="center"||m==="middle"?(Q=A-F.width/2,L=A+F.width/2):(m==="right"||m==="end")&&(Q=A-F.width,L=A),Q+=k,L+=k;var T=qa(C),M;try{for(T.s();!(M=T.n()).done;){var I=M.value,U=E;switch(I){case"underline":U+=2;break;case"overline":U-=s-2;break;case"line-through":U-=s/2;break;default:continue}p==="wavy"?this.drawWavyLine(r,Q,L,U):(r.beginPath(),r.moveTo(Q,U),r.lineTo(L,U),r.stroke())}}catch(R){T.e(R)}finally{T.f()}}}r.setLineDash([])}}},{key:"drawWavyLine",value:function(r,i,a,o){var s=2,A=10,c=Math.floor((a-i)/A);r.beginPath(),r.moveTo(i,o);for(var l=0;l<c;l++){var u=i+l*A+A/4,f=o+s,d=i+l*A+A/2,h=o;r.quadraticCurveTo(u,f,d,h);var p=i+l*A+A*3/4,g=o-s,v=i+(l+1)*A,y=o;r.quadraticCurveTo(p,g,v,y)}r.stroke()}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])}(Pw),Fse=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),n=Pe(this,t),n.name="canvas-renderer",n.options=r,n}return Ne(t,e),se(t,[{key:"init",value:function(){var r,i=Qe({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,o=new Pw(a),s=(r={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(r,Z.CIRCLE,o),Z.ELLIPSE,o),Z.RECT,o),Z.IMAGE,new Ose(a)),Z.TEXT,new Sse(a)),Z.LINE,o),Z.POLYLINE,o),Z.POLYGON,o),Z.PATH,o),Z.GROUP,void 0),ve(ve(ve(r,Z.HTML,void 0),Z.MESH,void 0),Z.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new h4(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Fo),_se=$e(),Mse=$e(),kse=$e(),Tse=st(),g4=function(){function e(){var t=this;oe(this,e),this.isHit=function(n,r,i,a){var o=t.context.pointInPathPickerFactory[n.nodeName];if(o){var s=Ai(Tse,i),A=Vt(Mse,jn(kse,r[0],r[1],0),s);if(o(n,new Tn(A[0],A[1]),a,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(n,r){var i=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),a=t.context.pathGeneratorFactory[n.nodeName];return a&&(i.beginPath(),a(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return se(e,[{key:"apply",value:function(n,r){var i,a=this,o=n.renderingService,s=n.renderingContext;this.context=n,this.runtime=r;var A=(i=s.root)===null||i===void 0?void 0:i.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(){var c=yo(_n().mark(function l(u){return _n().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",a.pick(A,u));case 1:case"end":return f.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()),o.hooks.pickSync.tap(e.tag,function(c){return a.pick(A,c)})}},{key:"pick",value:function(n,r){var i=r.topmost,a=r.position,o=a.x,s=a.y,A=jn(_se,o,s,0),c=n.elementsFromBBox(A[0],A[1],A[0],A[1]),l=[],u=qa(c),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=d.getWorldTransform(),p=this.isHit(d,A,h,!1);if(p){var g=sQ(d);if(g){var v=g.parsedStyle.clipPath,y=this.isHit(v,A,v.getWorldTransform(),!0);if(y){if(i)return r.picked=[d],r;l.push(d)}}else{if(i)return r.picked=[d],r;l.push(d)}}}}catch(m){u.e(m)}finally{u.f()}return r.picked=l,r}}])}();g4.tag="CanvasPicker";function Qse(e,t,n){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.r,c=r.fill,l=r.stroke,u=r.lineWidth,f=u===void 0?1:u,d=r.increasedLineWidthForHitTesting,h=d===void 0?0:d,p=r.pointerEvents,g=p===void 0?"auto":p,v=(f+h)/2,y=Ea(a,s,t.x,t.y),m=Us(g,c,l),b=Le(m,2),w=b[0],B=b[1];return w&&B||n?y<=A+v:w?y<=A:B?y>=A-v&&y<=A+v:!1}function fd(e,t,n,r){return e/(n*n)+t/(r*r)}function Ise(e,t,n){var r=e.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.rx,c=r.ry,l=r.fill,u=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,p=h===void 0?0:h,g=r.pointerEvents,v=g===void 0?"auto":g,y=t.x,m=t.y,b=Us(v,l,u),w=Le(b,2),B=w[0],x=w[1],C=(d+p)/2,E=(y-a)*(y-a),O=(m-s)*(m-s);return B&&x||n?fd(E,O,A+C,c+C)<=1:B?fd(E,O,A,c)<=1:x?fd(E,O,A-C,c-C)>=1&&fd(E,O,A+C,c+C)<=1:!1}function rs(e,t,n,r,i,a){return i>=e&&i<=e+n&&a>=t&&a<=t+r}function Lse(e,t,n,r,i,a,o){var s=i/2;return rs(e-s,t-s,n,i,a,o)||rs(e+n-s,t-s,i,r,a,o)||rs(e+s,t+r-s,n,i,a,o)||rs(e-s,t+s,i,r,a,o)}function dd(e,t,n,r,i,a,o,s){var A=(Math.atan2(s-t,o-e)+Math.PI*2)%(Math.PI*2),c={x:e+n*Math.cos(A),y:t+n*Math.sin(A)};return Ea(c.x,c.y,o,s)<=a/2}function ao(e,t,n,r,i,a,o){var s=Math.min(e,n),A=Math.max(e,n),c=Math.min(t,r),l=Math.max(t,r),u=i/2;return a>=s-u&&a<=A+u&&o>=c-u&&o<=l+u?VK(e,t,n,r,a,o)<=i/2:!1}function v4(e,t,n,r,i){var a=e.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=e[o][0],A=e[o][1],c=e[o+1][0],l=e[o+1][1];if(ao(s,A,c,l,t,n,r))return!0}if(i){var u=e[0],f=e[a-1];if(ao(u[0],u[1],f[0],f[1],t,n,r))return!0}return!1}var Use=1e-6;function dv(e){return Math.abs(e)<Use?0:e<0?-1:1}function Pse(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function y4(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=e[a],s=e[(a+1)%i];if(Pse(o,s,[t,n]))return!0;dv(o[1]-n)>0!=dv(s[1]-n)>0&&dv(t-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function RO(e,t,n){for(var r=!1,i=0;i<e.length;i++){var a=e[i];if(r=y4(a,t,n),r)break}return r}function Nse(e,t,n){var r=e.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,A=r.lineWidth,c=A===void 0?1:A,l=r.increasedLineWidthForHitTesting,u=l===void 0?0:l,f=r.pointerEvents,d=f===void 0?"auto":f,h=r.fill,p=r.stroke,g=Us(d,h,p),v=Le(g,2),y=v[1];return!y&&!n||!c?!1:ao(i,a,o,s,c+u,t.x,t.y)}function Rse(e,t,n,r,i){for(var a=!1,o=t/2,s=0;s<e.length;s++){var A=e[s],c=A.currentPoint,l=A.params,u=A.prePoint,f=A.box;if(!(f&&!rs(f.x-o,f.y-o,f.width+t,f.height+t,n,r)))switch(A.command){case"L":case"Z":if(a=ao(u[0],u[1],c[0],c[1],t,n,r),a)return!0;break;case"Q":var d=e9(u[0],u[1],l[1],l[2],l[3],l[4],n,r);if(a=d<=t/2,a)return!0;break;case"C":var h=Wx(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,i);if(a=h<=t/2,a)return!0;break;case"A":A.cubicParams||(A.cubicParams=S1(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],l[7],void 0));for(var p=A.cubicParams,g=u,v=0;v<p.length;v+=6){var y=Wx(g[0],g[1],p[v],p[v+1],p[v+2],p[v+3],p[v+4],p[v+5],n,r,i);if(g=[p[v+4],p[v+5]],a=y<=t/2,a)return!0}break}}return a}function Hse(e,t,n,r,i,a){var o=e.parsedStyle,s=o.lineWidth,A=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,l=c===void 0?0:c,u=o.stroke,f=o.fill,d=o.d,h=o.pointerEvents,p=h===void 0?"auto":h,g=d.segments,v=d.hasArc,y=d.polylines,m=d.polygons,b=Us(p,(m==null?void 0:m.length)&&f,u),w=Le(b,2),B=w[0],x=w[1],C=Ey(e),E=!1;return B||n?(v?E=r(e,t):E=RO(m,t.x,t.y)||RO(y,t.x,t.y),E):((x||n)&&(E=Rse(g,A+l,t.x,t.y,C)),E)}function Dse(e,t,n){var r=e.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,A=r.increasedLineWidthForHitTesting,c=A===void 0?0:A,l=r.points,u=r.pointerEvents,f=u===void 0?"auto":u,d=Us(f,a,i),h=Le(d,2),p=h[0],g=h[1],v=!1;return(g||n)&&(v=v4(l.points,s+c,t.x,t.y,!0)),!v&&(p||n)&&(v=y4(l.points,t.x,t.y)),v}function jse(e,t,n){var r=e.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,A=r.points,c=r.pointerEvents,l=c===void 0?"auto":c,u=r.fill,f=r.stroke,d=Us(l,u,f),h=Le(d,2),p=h[1];return!p&&!n||!a?!1:v4(A.points,a+s,t.x,t.y,!1)}function $se(e,t,n,r,i){var a=e.parsedStyle,o=a.radius,s=a.fill,A=a.stroke,c=a.lineWidth,l=c===void 0?1:c,u=a.increasedLineWidthForHitTesting,f=u===void 0?0:u,d=a.x,h=d===void 0?0:d,p=a.y,g=p===void 0?0:p,v=a.width,y=a.height,m=a.pointerEvents,b=m===void 0?"auto":m,w=Us(b,s,A),B=Le(w,2),x=B[0],C=B[1],E=o&&o.some(function(F){return F!==0}),O=l+f;if(E){var _=!1;return(C||n)&&(_=Kse(h,g,v,y,o.map(function(F){return qt(F,0,Math.min(Math.abs(v)/2,Math.abs(y)/2))}),O,t.x,t.y)),!_&&(x||n)&&(_=r(e,t)),_}else{var S=O/2;if(x&&C||n)return rs(h-S,g-S,v+S,y+S,t.x,t.y);if(x)return rs(h,g,v,y,t.x,t.y);if(C)return Lse(h,g,v,y,O,t.x,t.y)}return!1}function Kse(e,t,n,r,i,a,o,s){var A=Le(i,4),c=A[0],l=A[1],u=A[2],f=A[3];return ao(e+c,t,e+n-l,t,a,o,s)||ao(e+n,t+l,e+n,t+r-u,a,o,s)||ao(e+n-u,t+r,e+f,t+r,a,o,s)||ao(e,t+r-f,e,t+c,a,o,s)||dd(e+n-l,t+l,l,1.5*Math.PI,2*Math.PI,a,o,s)||dd(e+n-u,t+r-u,u,0,.5*Math.PI,a,o,s)||dd(e+f,t+r-f,f,.5*Math.PI,Math.PI,a,o,s)||dd(e+c,t+c,c,Math.PI,1.5*Math.PI,a,o,s)}function Gse(e,t,n,r,i,a){var o=e.parsedStyle,s=o.pointerEvents,A=s===void 0?"auto":s,c=o.x,l=c===void 0?0:c,u=o.y,f=u===void 0?0:u,d=o.width,h=o.height;if(A==="non-transparent-pixel"){var p=i.config.offscreenCanvas,g=a.offscreenCanvasCreator.getOrCreateCanvas(p),v=a.offscreenCanvasCreator.getOrCreateContext(p,{willReadFrequently:!0});g.width=d,g.height=h,i.defaultStyleRendererFactory[Z.IMAGE].render(v,Qe(Qe({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0);var y=v.getImageData(t.x-l,t.y-f,1,1).data;return y.every(function(m){return m!==0})}return!0}function zse(e,t,n,r){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var Vse=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="canvas-picker",n}return Ne(t,e),se(t,[{key:"init",value:function(){var r,i=(r={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(r,Z.CIRCLE,Qse),Z.ELLIPSE,Ise),Z.RECT,$se),Z.LINE,Nse),Z.POLYLINE,jse),Z.POLYGON,Dse),Z.PATH,Hse),Z.TEXT,zse),Z.GROUP,null),Z.IMAGE,Gse),ve(ve(r,Z.HTML,null),Z.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new g4)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Fo);function Wse(e,t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,o=t.r;e.arc(r,a,o,0,Math.PI*2,!1)}function Yse(e,t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,o=t.rx,s=t.ry;if(e.ellipse)e.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var A=o>s?o:s,c=o>s?1:o/s,l=o>s?s/o:1;e.save(),e.scale(c,l),e.arc(r,a,A,0,Math.PI*2)}}function Xse(e,t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2,o=t.markerStart,s=t.markerEnd,A=t.markerStartOffset,c=t.markerEndOffset,l=0,u=0,f=0,d=0,h=0,p,g;o&&it(o)&&A&&(p=i-n,g=a-r,h=Math.atan2(g,p),l=Math.cos(h)*(A||0),u=Math.sin(h)*(A||0)),s&&it(s)&&c&&(p=n-i,g=r-a,h=Math.atan2(g,p),f=Math.cos(h)*(c||0),d=Math.sin(h)*(c||0)),e.moveTo(n+l,r+u),e.lineTo(i+f,a+d)}function qse(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,o=t.d,s=o.absolutePath,A=o.segments,c=0,l=0,u=0,f=0,d=0,h,p;if(n&&it(n)&&i){var g=n.parentNode.getStartTangent(),v=Le(g,2),y=v[0],m=v[1];h=y[0]-m[0],p=y[1]-m[1],d=Math.atan2(p,h),c=Math.cos(d)*(i||0),l=Math.sin(d)*(i||0)}if(r&&it(r)&&a){var b=r.parentNode.getEndTangent(),w=Le(b,2),B=w[0],x=w[1];h=B[0]-x[0],p=B[1]-x[1],d=Math.atan2(p,h),u=Math.cos(d)*(a||0),f=Math.sin(d)*(a||0)}for(var C=0;C<s.length;C++){var E=s[C],O=E[0],S=s[C+1],_=C===0&&(c!==0||l!==0),F=(C===s.length-1||S&&(S[0]==="M"||S[0]==="Z"))&&u!==0&&f!==0,k=_?[c,l]:[0,0],Q=Le(k,2),L=Q[0],T=Q[1],M=F?[u,f]:[0,0],I=Le(M,2),U=I[0],R=I[1];switch(O){case"M":e.moveTo(E[1]+L,E[2]+T);break;case"L":e.lineTo(E[1]+U,E[2]+R);break;case"Q":e.quadraticCurveTo(E[1],E[2],E[3]+U,E[4]+R);break;case"C":e.bezierCurveTo(E[1],E[2],E[3],E[4],E[5]+U,E[6]+R);break;case"A":{var N=A[C].arcParams,j=N.cx,K=N.cy,$=N.rx,V=N.ry,W=N.startAngle,z=N.endAngle,ne=N.xRotation,ie=N.sweepFlag;if(e.ellipse)e.ellipse(j,K,$,V,ne,W,z,!!(1-ie));else{var le=$>V?$:V,P=$>V?1:$/V,D=$>V?V/$:1;e.translate(j,K),e.rotate(ne),e.scale(P,D),e.arc(0,0,le,W,z,!!(1-ie)),e.scale(1/P,1/D),e.rotate(-ne),e.translate(-j,-K)}F&&e.lineTo(E[6]+u,E[7]+f);break}case"Z":e.closePath();break}}}function Zse(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,o=t.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,p=0,g=0,v,y;n&&it(n)&&i&&(v=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,v),f=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),r&&it(r)&&a&&(v=o[s-1][0]-o[0][0],y=o[s-1][1]-o[0][1],g=Math.atan2(y,v),h=Math.cos(g)*(a||0),p=Math.sin(g)*(a||0)),e.moveTo(A+(f||h),c+(d||p));for(var m=1;m<s-1;m++){var b=o[m];e.lineTo(b[0],b[1])}e.lineTo(l,u)}function Jse(e,t){var n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,a=t.markerEndOffset,o=t.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,p=0,g=0,v,y;n&&it(n)&&i&&(v=o[1][0]-o[0][0],y=o[1][1]-o[0][1],g=Math.atan2(y,v),f=Math.cos(g)*(i||0),d=Math.sin(g)*(i||0)),r&&it(r)&&a&&(v=o[s-2][0]-o[s-1][0],y=o[s-2][1]-o[s-1][1],g=Math.atan2(y,v),h=Math.cos(g)*(a||0),p=Math.sin(g)*(a||0)),e.moveTo(A+f,c+d);for(var m=1;m<s-1;m++){var b=o[m];e.lineTo(b[0],b[1])}e.lineTo(l+h,u+p)}function eAe(e,t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.radius,s=t.width,A=t.height,c=s,l=A,u=o&&o.some(function(w){return w!==0});if(!u)e.rect(r,a,c,l);else{var f=s>0?1:-1,d=A>0?1:-1,h=f+d===0,p=o.map(function(w){return qt(w,0,Math.min(Math.abs(c)/2,Math.abs(l)/2))}),g=Le(p,4),v=g[0],y=g[1],m=g[2],b=g[3];e.moveTo(f*v+r,a),e.lineTo(c-f*y+r,a),y!==0&&e.arc(c-f*y+r,d*y+a,y,-d*Math.PI/2,f>0?0:Math.PI,h),e.lineTo(c+r,l-d*m+a),m!==0&&e.arc(c-f*m+r,l-d*m+a,m,f>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,h),e.lineTo(f*b+r,l+a),b!==0&&e.arc(f*b+r,l-d*b+a,b,d>0?Math.PI/2:-Math.PI/2,f>0?Math.PI:0,h),e.lineTo(r,d*v+a),v!==0&&e.arc(f*v+r,d*v+a,v,f>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,h)}}var tAe=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="canvas-path-generator",n}return Ne(t,e),se(t,[{key:"init",value:function(){var r,i=(r={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(r,Z.CIRCLE,Wse),Z.ELLIPSE,Yse),Z.RECT,eAe),Z.LINE,Xse),Z.POLYLINE,Jse),Z.POLYGON,Zse),Z.PATH,qse),Z.TEXT,void 0),Z.GROUP,void 0),Z.IMAGE,void 0),ve(ve(ve(r,Z.HTML,void 0),Z.MESH,void 0),Z.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Fo),nAe=function(){function e(t){oe(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return se(e,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,i=n.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=Ut(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,f7(this.$canvas,n,r)),this.renderingContext.renderReasons.add(CA.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:function(){var t=yo(_n().mark(function r(){var i,a,o,s=arguments;return _n().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return i=s.length>0&&s[0]!==void 0?s[0]:{},a=i.type,o=i.encoderOptions,A.abrupt("return",this.context.canvas.toDataURL(a,o));case 1:case"end":return A.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}])}(),rAe=function(e){function t(){var n;oe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,t,[].concat(i)),n.name="canvas-context-register",n}return Ne(t,e),se(t,[{key:"init",value:function(){this.context.ContextService=nAe}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Fo),m4=function(e){function t(n){var r;return oe(this,t),r=Pe(this,t,[n]),r.registerPlugin(new rAe),r.registerPlugin(new jz.Plugin),r.registerPlugin(new tAe),r.registerPlugin(new Fse),r.registerPlugin(new Vz.Plugin),r.registerPlugin(new Vse),r.registerPlugin(new Gz.Plugin),r}return Ne(t,e),se(t)}(i9);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.1.1
 * @date 12/24/2025, 11:56:44 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var b4=function(){function e(t){oe(this,e),this.dragndropPluginOptions=t}return se(e,[{key:"apply",value:function(n){var r=this,i=n.renderingService,a=n.renderingContext,o=a.root.ownerDocument,s=o.defaultView,A=function(l){var u=l.target,f=u===o,d=f&&r.dragndropPluginOptions.isDocumentDraggable?o:u.closest&&u.closest("[draggable=true]");if(d){var h=!1,p=l.timeStamp,g=[l.clientX,l.clientY],v=null,y=[l.clientX,l.clientY],m=function(){var w=yo(_n().mark(function B(x){var C,E,O,S,_,F;return _n().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(h){k.next=2;break}if(C=x.timeStamp-p,E=lr([x.clientX,x.clientY],g),!(C<=r.dragndropPluginOptions.dragstartTimeThreshold||E<=r.dragndropPluginOptions.dragstartDistanceThreshold)){k.next=1;break}return k.abrupt("return");case 1:x.type="dragstart",d.dispatchEvent(x),h=!0;case 2:if(x.type="drag",x.dx=x.clientX-y[0],x.dy=x.clientY-y[1],d.dispatchEvent(x),y=[x.clientX,x.clientY],f){k.next=4;break}return O=r.dragndropPluginOptions.overlap==="pointer"?[x.canvasX,x.canvasY]:u.getBounds().center,k.next=3,o.elementsFromPoint(O[0],O[1]);case 3:S=k.sent,_=S[S.indexOf(u)+1],F=(_==null?void 0:_.closest("[droppable=true]"))||(r.dragndropPluginOptions.isDocumentDroppable?o:null),v!==F&&(v&&(x.type="dragleave",x.target=v,v.dispatchEvent(x)),F&&(x.type="dragenter",x.target=F,F.dispatchEvent(x)),v=F,v&&(x.type="dragover",x.target=v,v.dispatchEvent(x)));case 4:case"end":return k.stop()}},B)}));return function(x){return w.apply(this,arguments)}}();s.addEventListener("pointermove",m);var b=function(B){if(h){B.detail={preventClick:!0};var x=B.clone();v&&(x.type="drop",x.target=v,v.dispatchEvent(x)),x.type="dragend",d.dispatchEvent(x),h=!1}s.removeEventListener("pointermove",m)};u.addEventListener("pointerup",b,{once:!0}),u.addEventListener("pointerupoutside",b,{once:!0})}};i.hooks.init.tap(e.tag,function(){s.addEventListener("pointerdown",A)}),i.hooks.destroy.tap(e.tag,function(){s.removeEventListener("pointerdown",A)})}}])}();b4.tag="Dragndrop";var w4=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oe(this,t),n=Pe(this,t),n.name="dragndrop",n.options=r,n}return Ne(t,e),se(t,[{key:"init",value:function(){this.addRenderingPlugin(new b4(Qe({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])}(Fo),iAe="*",B4=function(){function e(){this._events={}}return e.prototype.on=function(t,n,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!r}),this},e.prototype.once=function(t,n){return this.on(t,n,!0)},e.prototype.emit=function(t){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[t]||[],o=this._events[iAe]||[],s=function(A){for(var c=A.length,l=0;l<c;l++)if(A[l]){var u=A[l],f=u.callback,d=u.once;d&&(A.splice(l,1),A.length===0&&delete n._events[t],c--,l--),f.apply(n,r)}};s(a),s(o)},e.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var r=this._events[t]||[],i=r.length,a=0;a<i;a++)r[a].callback===n&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}();const ht={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},aAe={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class gn extends Error{constructor(t,n,r){super(t),this.position=n,this.token=r,this.name="ExpressionError"}}var Ue;(function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.NULL=3]="NULL",e[e.IDENTIFIER=4]="IDENTIFIER",e[e.OPERATOR=5]="OPERATOR",e[e.FUNCTION=6]="FUNCTION",e[e.DOT=7]="DOT",e[e.BRACKET_LEFT=8]="BRACKET_LEFT",e[e.BRACKET_RIGHT=9]="BRACKET_RIGHT",e[e.PAREN_LEFT=10]="PAREN_LEFT",e[e.PAREN_RIGHT=11]="PAREN_RIGHT",e[e.COMMA=12]="COMMA",e[e.QUESTION=13]="QUESTION",e[e.COLON=14]="COLON",e[e.DOLLAR=15]="DOLLAR"})(Ue||(Ue={}));const oAe=new Set([32,9,10,13]),sAe=new Set([43,45,42,47,37,33,38,124,61,60,62]),AAe=new Map([["true",Ue.BOOLEAN],["false",Ue.BOOLEAN],["null",Ue.NULL]]),hv=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),cAe=new Map([[46,Ue.DOT],[91,Ue.BRACKET_LEFT],[93,Ue.BRACKET_RIGHT],[40,Ue.PAREN_LEFT],[41,Ue.PAREN_RIGHT],[44,Ue.COMMA],[63,Ue.QUESTION],[58,Ue.COLON],[36,Ue.DOLLAR]]),x4=new Map;for(const[e,t]of cAe.entries())x4.set(e,{type:t,value:String.fromCharCode(e)});function tl(e){return e>=48&&e<=57}function pm(e){return e>=97&&e<=122||e>=65&&e<=90||e===95}function HO(e){return pm(e)||tl(e)}function lAe(e){return sAe.has(e)}var Kt;(function(e){e[e.Program=0]="Program",e[e.Literal=1]="Literal",e[e.Identifier=2]="Identifier",e[e.MemberExpression=3]="MemberExpression",e[e.CallExpression=4]="CallExpression",e[e.BinaryExpression=5]="BinaryExpression",e[e.UnaryExpression=6]="UnaryExpression",e[e.ConditionalExpression=7]="ConditionalExpression"})(Kt||(Kt={}));const uAe=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),fAe={type:Kt.Literal,value:null},dAe={type:Kt.Literal,value:!0},hAe={type:Kt.Literal,value:!1},pAe=e=>{let t=0;const n=e.length,r=()=>t>=n?null:e[t],i=()=>e[t++],a=u=>{const f=r();return f!==null&&f.type===u},o=u=>u.type===Ue.OPERATOR?uAe.get(u.value)||-1:u.type===Ue.DOT||u.type===Ue.BRACKET_LEFT?9:u.type===Ue.QUESTION?1:-1,s=u=>{let f,d;if(i().type===Ue.DOT){if(!a(Ue.IDENTIFIER)){const p=r();throw new gn("Expected property name",t,p?p.value:"<end of input>")}const h=i();f={type:Kt.Identifier,name:h.value},d=!1}else{if(f=c(0),!a(Ue.BRACKET_RIGHT)){const h=r();throw new gn("Expected closing bracket",t,h?h.value:"<end of input>")}i(),d=!0}return{type:Kt.MemberExpression,object:u,property:f,computed:d}},A=()=>{const u=r();if(!u)throw new gn("Unexpected end of input",t,"<end of input>");if(u.type===Ue.OPERATOR&&(u.value==="!"||u.value==="-")){i();const f=A();return{type:Kt.UnaryExpression,operator:u.value,argument:f,prefix:!0}}switch(u.type){case Ue.NUMBER:return i(),{type:Kt.Literal,value:Number(u.value)};case Ue.STRING:return i(),{type:Kt.Literal,value:u.value};case Ue.BOOLEAN:return i(),u.value==="true"?dAe:hAe;case Ue.NULL:return i(),fAe;case Ue.IDENTIFIER:return i(),{type:Kt.Identifier,name:u.value};case Ue.FUNCTION:return(()=>{const f=i(),d=[];if(!a(Ue.PAREN_LEFT)){const h=r();throw new gn("Expected opening parenthesis after function name",t,h?h.value:"<end of input>")}for(i();;){if(a(Ue.PAREN_RIGHT)){i();break}if(!r()){const p=r();throw new gn("Expected closing parenthesis",t,p?p.value:"<end of input>")}if(d.length>0){if(!a(Ue.COMMA)){const p=r();throw new gn("Expected comma between function arguments",t,p?p.value:"<end of input>")}i()}const h=c(0);d.push(h)}return{type:Kt.CallExpression,callee:{type:Kt.Identifier,name:f.value},arguments:d}})();case Ue.PAREN_LEFT:{i();const f=c(0);if(!a(Ue.PAREN_RIGHT)){const d=r();throw new gn("Expected closing parenthesis",t,d?d.value:"<end of input>")}return i(),f}default:throw new gn(`Unexpected token: ${u.type}`,t,u.value)}},c=(u=0)=>{let f=A();for(;t<n;){const d=e[t],h=o(d);if(h<=u)break;if(d.type!==Ue.QUESTION)if(d.type!==Ue.OPERATOR){if(d.type!==Ue.DOT&&d.type!==Ue.BRACKET_LEFT)break;f=s(f)}else{i();const p=c(h);f={type:Kt.BinaryExpression,operator:d.value,left:f,right:p}}else{i();const p=c(0);if(!a(Ue.COLON)){const v=r();throw new gn("Expected : in conditional expression",t,v?v.value:"<end of input>")}i();const g=c(0);f={type:Kt.ConditionalExpression,test:f,consequent:p,alternate:g}}}return f},l=c();return{type:Kt.Program,body:l}},gAe=(e,t,n)=>{let r=t;n&&(r={...t,context:{...t.context,...n}});const i=a=>{switch(a.type){case Kt.Literal:return(o=>o.value)(a);case Kt.Identifier:return(o=>{if(!(o.name in r.context))throw new gn(`Undefined variable: ${o.name}`);return r.context[o.name]})(a);case Kt.MemberExpression:return(o=>{const s=i(o.object);if(s==null)throw new gn("Cannot access property of null or undefined");return s[o.computed?i(o.property):o.property.name]})(a);case Kt.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new gn(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map(A=>i(A)))})(a);case Kt.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=i(o.left);return c&&i(o.right)}if(o.operator==="||")return i(o.left)||i(o.right);const s=i(o.left),A=i(o.right);switch(o.operator){case"+":return s+A;case"-":return s-A;case"*":return s*A;case"/":return s/A;case"%":return s%A;case"===":return s===A;case"!==":return s!==A;case">":return s>A;case">=":return s>=A;case"<":return s<A;case"<=":return s<=A;default:throw new gn(`Unknown operator: ${o.operator}`)}})(a);case Kt.UnaryExpression:return(o=>{const s=i(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new gn(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new gn(`Unknown operator: ${o.operator}`)}throw new gn(`Postfix operators are not supported: ${o.operator}`)})(a);case Kt.ConditionalExpression:return(o=>{const s=i(o.test);return i(s?o.consequent:o.alternate)})(a);default:throw new gn(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(e.body)};function vAe(e){const t=(i=>{const a=i,o=a.length,s=new Array(Math.ceil(o/3));let A=0,c=0;function l(g){const v=c+1;c++;let y="",m=!1;for(;c<o;){const b=a.charCodeAt(c);if(b===g)return m||(y=a.substring(v,c)),c++,{type:Ue.STRING,value:y};b===92?(m||(y=a.substring(v,c),m=!0),c++,y+=a[c]):m&&(y+=a[c]),c++}throw new gn(`Unterminated string starting with ${String.fromCharCode(g)}`,c,a.substring(Math.max(0,c-10),c))}function u(){const g=c;for(a.charCodeAt(c)===45&&c++;c<o&&tl(a.charCodeAt(c));)c++;if(c<o&&a.charCodeAt(c)===46)for(c++;c<o&&tl(a.charCodeAt(c));)c++;const v=a.slice(g,c);return{type:Ue.NUMBER,value:v}}function f(){c++;const g=c;if(c<o&&pm(a.charCodeAt(c)))for(c++;c<o&&HO(a.charCodeAt(c));)c++;const v=a.slice(g,c);return{type:Ue.FUNCTION,value:v}}function d(){const g=c++;for(;c<o&&HO(a.charCodeAt(c));)c++;const v=a.slice(g,c),y=AAe.get(v);return y?{type:y,value:v}:{type:Ue.IDENTIFIER,value:v}}function h(){if(c+2<o){const v=a.substring(c,c+3);if(hv.has(v))return c+=3,{type:Ue.OPERATOR,value:v}}if(c+1<o){const v=a.substring(c,c+2);if(hv.has(v))return c+=2,{type:Ue.OPERATOR,value:v}}const g=a[c];if(hv.has(g))return c++,{type:Ue.OPERATOR,value:g};throw new gn(`Unknown operator at position ${c}: ${a.substring(c,c+1)}`,c,a.substring(Math.max(0,c-10),c))}for(;c<o;){const g=a.charCodeAt(c);if(p=g,oAe.has(p)){c++;continue}const v=x4.get(g);if(v)s[A++]=v,c++;else if(g!==34&&g!==39)if(tl(g)||g===45&&c+1<o&&tl(a.charCodeAt(c+1)))s[A++]=u();else if(g!==64)if(pm(g))s[A++]=d();else{if(!lAe(g))throw new gn(`Unexpected character: ${a[c]}`,c,a.substring(Math.max(0,c-10),c));s[A++]=h()}else s[A++]=f();else s[A++]=l(g)}var p;return A===s.length?s:s.slice(0,A)})(e),n=pAe(t),r=((i={},a={})=>({context:i,functions:a}))({},aAe);return(i={})=>gAe(n,r,i)}const yAe=["style","encode","labels","children"],mAe=CU(e=>{const t=vAe(e);return(...n)=>{const r=Array.from({length:n.length},(a,o)=>String.fromCharCode(97+o)),i=Object.fromEntries(n.map((a,o)=>[r[o],a]));return t(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},e=>e,128);function $d(e,t=!0){if(Array.isArray(e))return e.map((n,r)=>$d(e[r],t));if(typeof e=="object"&&e)return X5(e,(n,r)=>t&&yAe.includes(r)?$d(n,r==="children"):t?n:$d(n,!1));if(typeof e=="string"){const n=e.trim();if(n.startsWith("{")&&n.endsWith("}"))return mAe(n.slice(1,-1))}return e}var bAe={}.toString,_g=function(e,t){return bAe.call(e)==="[object "+t+"]"};const C4=function(e){return _g(e,"Function")},E4=function(e){return Array.isArray?Array.isArray(e):_g(e,"Array")},wAe=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function BAe(e,t){if(e){var n;if(E4(e))for(var r=0,i=e.length;r<i&&(n=t(e[r],r),n!==!1);r++);else if(wAe(e)){for(var a in e)if(e.hasOwnProperty(a)&&(n=t(e[a],a),n===!1))break}}}var xAe=function(e){return typeof e=="object"&&e!==null},DO=function(e){if(!xAe(e)||!_g(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};const CAe=function(e){return _g(e,"String")};var EAe=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return BAe(e,function(n,r){C4(e)&&r==="prototype"||t.push(n)}),t};const OAe=function(e,t){if(!C4(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return o.set(a,s),s};return n.cache=new Map,n};var SAe=5;function O4(e,t,n,r){n=n||0,r=r||SAe;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];a!==null&&DO(a)?(DO(e[i])||(e[i]={}),n<r?O4(e[i],a,n+1,r):e[i]=t[i]):E4(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var S4=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)O4(e,t[r]);return e};const Nw=function(e){return e};var hd;OAe(function(e,t){t===void 0&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,a=t.fontStyle,o=t.fontVariant;return hd||(hd=document.createElement("canvas").getContext("2d")),hd.font=[a,o,i,n+"px",r].join(" "),hd.measureText(CAe(e)?e:"").width},function(e,t){return t===void 0&&(t={}),j8([e],EAe(t)).join("")});function F4(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?t.reduce(function(r,i){return function(a){return i(r(a))}},e):Nw}function _4(e){return e instanceof Float32Array||e instanceof Array}var M4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},k4=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};function FAe(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=2){var i=[t[r],t[r+1]],a=e(i);n.push.apply(n,k4([],M4(a),!1))}return n}}function _Ae(e){return function(t){for(var n=[],r=0;r<t.length-1;r+=3){var i=[t[r],t[r+1],t[r+2]],a=e(i);n.push.apply(n,k4([],M4(a),!1))}return n}}function T4(e,t,n){for(;e<t;)e+=Math.PI*2;for(;e>n;)e-=Math.PI*2;return e}var MAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},kAe=function(e,t,n,r,i){var a=MAe(e,2),o=a[0],s=a[1],A=ic();return i8(A,[o,s])};function tp(e,...t){return t.reduce((n,r)=>i=>n(r(i)),e)}function gm(e,t){return t-e?n=>(n-e)/(t-e):n=>.5}function TAe(e,t){const n=t<e?t:e,r=e>t?e:t;return i=>Math.min(Math.max(n,i),r)}function QAe(e,t,n,r,i){let a=n,o=r||e.length;const s=A=>A;for(;a<o;){const A=Math.floor((a+o)/2);s(e[A])>t?o=A:a=A+1}return a}const jO=Math.sqrt(50),$O=Math.sqrt(10),KO=Math.sqrt(2);function Kd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=jO?10:a>=$O?5:a>=KO?2:1)*10**i:-(10**-i)/(a>=jO?10:a>=$O?5:a>=KO?2:1)}const IAe=(e,t,n=5)=>{const r=[e,t];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=Kd(o,s,n),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=Kd(o,s,n)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=Kd(o,s,n)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function LAe(e){return Array.isArray(e)}var UAe=function(e){return typeof e=="object"&&e!==null},PAe={}.toString,NAe=function(e,t){return PAe.call(e)==="[object "+t+"]"},GO=function(e){if(!UAe(e)||!NAe(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function RAe(e){return e===null}var HAe=function(e){return e===void 0},DAe=5;function jAe(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function Q4(e,t,n,r){n=n||0,r=r||DAe;for(var i in t)if(jAe(t,i)){var a=t[i];a!==null&&GO(a)?(GO(e[i])||(e[i]={}),n<r?Q4(e[i],a,n+1,r):e[i]=t[i]):LAe(a)?(e[i]=[],e[i]=e[i].concat(a)):a!==void 0&&(e[i]=a)}}var zO=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Q4(e,t[r]);return e};const vm=function(e){return e};function VO(e){return!HAe(e)&&!RAe(e)&&!Number.isNaN(e)}function pv(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function $Ae(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=pv(o,a,t+1/3),A=pv(o,a,t),c=pv(o,a,t-1/3);return[s*255,A*255,c*255,i]}function WO(e){const t=N1.get(e);if(!t)return null;const{model:n,value:r}=t;return n==="rgb"?r:n==="hsl"?$Ae(r):null}const np=(e,t)=>n=>e*(1-n)+t*n,KAe=(e,t)=>{const n=WO(e),r=WO(t);return n===null||r===null?n?()=>e:()=>t:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=n[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},GAe=(e,t)=>typeof e=="number"&&typeof t=="number"?np(e,t):typeof e=="string"&&typeof t=="string"?KAe(e,t):()=>e,zAe=(e,t)=>{const n=np(e,t);return r=>Math.round(n(r))};function YO({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function VAe({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function WAe({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YAe(e){return typeof e=="object"?e.valueOf():e}class XO extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=YAe,t!==null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(YO({map:this.map,initKey:this.initKey},t))}has(t){return super.has(YO({map:this.map,initKey:this.initKey},t))}set(t,n){return super.set(VAe({map:this.map,initKey:this.initKey},t),n)}delete(t){return super.delete(WAe({map:this.map,initKey:this.initKey},t))}}class I4{constructor(t){this.options=zO({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=zO({},this.options,t),this.rescale(t)}rescale(t){}}const Mg=Symbol("defaultUnknown");function qO(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function ZO(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:a}=e;let o=i.get(t);if(o===void 0){if(a!==Mg)return a;o=n.push(t)-1,i.set(t,o)}return r[o%r.length]}function JO(e){return e instanceof Date?t=>`${t}`:typeof e=="object"?t=>JSON.stringify(t):t=>t}class Rw extends I4{getDefaultOptions(){return{domain:[],range:[],unknown:Mg}}constructor(t){super(t)}map(t){return this.domainIndexMap.size===0&&qO(this.domainIndexMap,this.getDomain(),this.domainKey),ZO({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return this.rangeIndexMap.size===0&&qO(this.rangeIndexMap,this.getRange(),this.rangeKey),ZO({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=JO(n),this.rangeKey=JO(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new Rw(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:n}=this.options;return this.sortedDomain=n?[...t].sort(n):t,this.sortedDomain}}function XAe(e){const t=Math.min(...e);return e.map(n=>n/t)}function qAe(e,t){const n=e.length,r=t-n;return r>0?[...e,...new Array(r).fill(1)]:r<0?e.slice(0,t):e}function ZAe(e){return Math.round(e*1e12)/1e12}function JAe(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=e,A=t.length,c=qAe(a,A),[l,u]=n,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,g=h-A*p,v=XAe(c),y=v.reduce((_,F)=>_+F),m=g/y,b=new XO(t.map((_,F)=>{const k=v[F]*m;return[_,o?Math.floor(k):k]})),w=new XO(t.map((_,F)=>{const Q=v[F]*m+p;return[_,o?Math.floor(Q):Q]})),B=Array.from(w.values()).reduce((_,F)=>_+F),C=(f-(B-B/A*i))*s,E=l+C;let O=o?Math.round(E):E;const S=new Array(A);for(let _=0;_<A;_+=1){S[_]=ZAe(O);const F=t[_];O+=w.get(F)}return{valueBandWidth:b,valueStep:w,adjustedRange:S}}function ece(e){var t;const{domain:n}=e,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((t=e.flex)===null||t===void 0)&&t.length))return JAe(e);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=e;let l,u,f=a[0];const h=a[1]-f,p=o*2,g=r-s;l=h/Math.max(1,p+g),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const v=new Array(r).fill(0).map((y,m)=>f+m*l);return{valueStep:l,valueBandWidth:u,adjustedRange:v}}class Hw extends Rw{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Mg,flex:[]}}constructor(t){super(t)}clone(){return new Hw(this.options)}getStep(t){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:t===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:t===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:n}=this.options;return t>0?t:n}getPaddingOuter(){const{padding:t,paddingOuter:n}=this.options;return t>0?t:n}rescale(){super.rescale();const{align:t,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=ece({align:t,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}}const tce=(e,t,n)=>{let r,i,a=e,o=t;if(a===o&&n>0)return[a];let s=Kd(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)/s}return i},nce=(e,t,n)=>{const[r,i]=e,[a,o]=t;let s,A;return r<i?(s=gm(r,i),A=n(a,o)):(s=gm(i,r),A=n(o,a)),tp(A,s)},rce=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=e[0]>e[r],s=o?[...e].reverse():e,A=o?[...t].reverse():t;for(let c=0;c<r;c+=1)i[c]=gm(s[c],s[c+1]),a[c]=n(A[c],A[c+1]);return c=>{const l=QAe(e,c,1,r)-1,u=i[l],f=a[l];return tp(f,u)(c)}},eS=(e,t,n,r)=>(Math.min(e.length,t.length)>2?rce:nce)(e,t,r?zAe:n);class ice extends I4{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:np,tickCount:5}}map(t){return VO(t)?this.output(t):this.options.unknown}invert(t){return VO(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,n,r,...i)}getTicks(){const{tickMethod:t}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return t(n,r,i,...a)}getTickMethodOptions(){const{domain:t,tickCount:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,n]}chooseNice(){return IAe}rescale(){this.nice();const[t,n]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,n,this.chooseClamp(n))}chooseClamp(t){const{clamp:n,range:r}=this.options,i=this.options.domain.map(t),a=Math.min(i.length,r.length);return n?TAe(i[0],i[a-1]):vm}composeOutput(t,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=eS(r.map(t),i,o,a);this.output=tp(s,n,t)}composeInput(t,n,r){const{domain:i,range:a}=this.options,o=eS(a,i.map(t),np);this.input=tp(n,r,o)}}class ir extends ice{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:GAe,tickMethod:tce,tickCount:5}}chooseTransforms(){return[vm,vm]}clone(){return new ir(this.options)}}class Dw extends Hw{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Mg,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new Dw(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}var tS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ace=function(e,t,n,r,i){var a=new ir({range:[t,t+r]}),o=new ir({range:[n,n+i]});return{transform:function(s){var A=tS(s,2),c=A[0],l=A[1];return[a.map(c),o.map(l)]},untransform:function(s){var A=tS(s,2),c=A[0],l=A[1];return[a.invert(c),o.invert(l)]}}},oce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},sce=function(e,t,n,r,i){var a=oce(e,1),o=a[0];return o(t,n,r,i)},Ace=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},cce=function(e,t,n,r,i){var a=Ace(e,1),o=a[0];return o},gv=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},lce=function(e,t,n,r,i){var a=gv(e,4),o=a[0],s=a[1],A=a[2],c=a[3],l=new ir({range:[A,c]}),u=new ir({range:[o,s]}),f=i/r,d=f>1?1:f,h=f>1?1/f:1;return{transform:function(p){var g=gv(p,2),v=g[0],y=g[1],m=u.map(v),b=l.map(y),w=b*Math.cos(m)*d,B=b*Math.sin(m)*h,x=w*.5+.5,C=B*.5+.5;return[x,C]},untransform:function(p){var g=gv(p,2),v=g[0],y=g[1],m=(v-.5)*2/d,b=(y-.5)*2/h,w=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),B=Math.atan2(b,m),x=T4(B,o,s),C=u.invert(x),E=l.invert(w);return[C,E]}}},nS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},uce=function(e,t,n,r,i){return{transform:function(a){var o=nS(a,2),s=o[0],A=o[1];return[A,s]},untransform:function(a){var o=nS(a,2),s=o[0],A=o[1];return[A,s]}}},fce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},kg=function(e,t,n,r,i){var a=fce(e,2),o=a[0],s=a[1],A=ic();return o8(A,[o,s])},jw=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},$w=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},dce=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kg.apply(void 0,$w([[-1,-1]],jw(t),!1))},hce=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kg.apply(void 0,$w([[-1,1]],jw(t),!1))},pce=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kg.apply(void 0,$w([[1,-1]],jw(t),!1))},gce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},vce=function(e,t,n,r,i){var a=gce(e,1),o=a[0],s=ic();return a8(s,o)},vv=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},yce=function(e,t,n,r,i){var a=vv(e,4),o=a[0],s=a[1],A=a[2],c=a[3],l=(s-0)/(2*Math.PI)+1,u=(c-A)/l,f=u/(Math.PI*2),d=new ir({range:[A,A+u*.99]}),h=new ir({range:[o,s]}),p=i/r,g=p>1?1:p,v=p>1?1/p:1;return{transform:function(y){var m=vv(y,2),b=m[0],w=m[1],B=h.map(b),x=d.map(w),C=Math.cos(B)*(f*B+x)*g,E=Math.sin(B)*(f*B+x)*v,O=C*.5+.5,S=E*.5+.5;return[O,S]},untransform:function(y){var m=vv(y,2),b=m[0],w=m[1],B=(b-.5)*2/g,x=(w-.5)*2/v,C=Math.sqrt(Math.pow(B,2)+Math.pow(x,2)),E=Math.atan2(x,B)+Math.floor(C/u)*Math.PI*2,O=T4(E,o,s),S=C-f*O,_=h.invert(O),F=d.invert(S);return[_,F]}}},mce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},bce=function(e,t,n,r,i){var a=mce(e,4),o=a[0],s=a[1],A=a[2],c=a[3],l=new ir({range:[A,c]});return{transform:function(u){for(var f=[],d=u.length,h=new Dw({domain:new Array(d).fill(0).map(function(m,b){return b}),range:[o,s]}),p=0;p<d;p++){var g=u[p],v=h.map(p),y=l.map(g);f.push(v,y)}return f},untransform:function(u){for(var f=[],d=0;d<u.length;d+=2){var h=u[d+1];f.push(l.invert(h))}return f}}},FA=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function L4(e){return 1/Math.tan(e)}var wce=function(e,t,n,r,i){var a=FA(e,1),o=a[0],s=L4(o);return{transform:function(A){var c=FA(A,2),l=c[0],u=c[1],f=l+u*s;return[f,u]},untransform:function(A){var c=FA(A,2),l=c[0],u=c[1],f=l-u*s;return[f,u]}}},Bce=function(e,t,n,r,i){var a=FA(e,1),o=a[0],s=L4(o);return{transform:function(A){var c=FA(A,2),l=c[0],u=c[1],f=u+l*s;return[l,f]},untransform:function(A){var c=FA(A,2),l=c[0],u=c[1],f=u-l*s;return[l,f]}}},Vr=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function au(e,t,n,r,i){var a=e<t,o=(a?t-r:i-t)||i-r,s=a?-1:1;return s*o*(n+1)/(n+o/((e-t)*s))+t}function ou(e,t,n,r,i){var a=e<t,o=(a?t-r:i-t)||i-r,s=a?-1:1;return o/(o*(n+1)/(e-t)-n*s)+t}function rp(e,t,n){if(!n)return e;var r=new ir({range:[0,1],domain:[0,t]});return r.map(e)}var xce=function(e,t,n,r,i){var a=Vr(e,3),o=a[0],s=a[1],A=a[2],c=A===void 0?!1:A,l=rp(o,r,c);return{transform:function(u){var f=Vr(u,2),d=f[0],h=f[1],p=au(d,l,s,0,1);return[p,h]},untransform:function(u){var f=Vr(u,2),d=f[0],h=f[1],p=ou(d,l,s,0,1);return[p,h]}}},Cce=function(e,t,n,r,i){var a=Vr(e,3),o=a[0],s=a[1],A=a[2],c=A===void 0?!1:A,l=rp(o,i,c);return{transform:function(u){var f=Vr(u,2),d=f[0],h=f[1],p=au(h,l,s,0,1);return[d,p]},untransform:function(u){var f=Vr(u,2),d=f[0],h=f[1],p=ou(h,l,s,0,1);return[d,p]}}},Ece=function(e,t,n,r,i){var a=Vr(e,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4],u=l===void 0?!1:l,f=rp(o,r,u),d=rp(s,i,u);return{transform:function(h){var p=Vr(h,2),g=p[0],v=p[1],y=au(g,f,A,0,1),m=au(v,d,c,0,1);return[y,m]},untransform:function(h){var p=Vr(h,2),g=p[0],v=p[1],y=ou(g,f,A,0,1),m=ou(v,d,c,0,1);return[y,m]}}},Oce=function(e,t,n,r,i){var a=Vr(e,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4],u=l===void 0?!1:l,f=new ir({range:[0,r]}),d=new ir({range:[0,i]}),h=u?o:f.map(o),p=u?s:d.map(s);return{transform:function(g){var v=Vr(g,2),y=v[0],m=v[1],b=f.map(y)-h,w=d.map(m)-p,B=Math.sqrt(b*b+w*w);if(B>A)return[y,m];var x=au(B,0,c,0,A),C=Math.atan2(w,b),E=h+x*Math.cos(C),O=p+x*Math.sin(C);return[f.invert(E),d.invert(O)]},untransform:function(g){var v=Vr(g,2),y=v[0],m=v[1],b=f.map(y)-h,w=d.map(m)-p,B=Math.sqrt(b*b+w*w);if(B>A)return[y,m];var x=ou(B,0,c,0,A),C=Math.atan2(w,b),E=h+x*Math.cos(C),O=p+x*Math.sin(C);return[f.invert(E),d.invert(O)]}}},rS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Sce=function(e,t,n,r,i,a,o){var s=new ir({range:[t,t+i]}),A=new ir({range:[n,n+a]}),c=new ir({range:[r,r+o]});return{transform:function(l){var u=rS(l,3),f=u[0],d=u[1],h=u[2];return[s.map(f),A.map(d),c.map(h)]},untransform:function(l){var u=rS(l,3),f=u[0],d=u[1],h=u[2];return[s.invert(f),A.invert(d),c.invert(h)]}}},Fce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},_ce=function(e,t,n,r,i,a,o){var s=Fce(e,3),A=s[0],c=s[1],l=s[2];return ga(st(),[A,c,l])},iS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Mce=function(e,t,n,r,i,a,o){return{transform:function(s){var A=iS(s,3),c=A[0],l=A[1],u=A[2];return[l,c,u]},untransform:function(s){var A=iS(s,3),c=A[0],l=A[1],u=A[2];return[l,c,u]}}},kce=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Tce=function(e,t,n,r,i,a,o){var s=kce(e,3),A=s[0],c=s[1],l=s[2];return Xa(st(),[A,c,l])},eA=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},tA=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Qce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ice=function(){function e(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ace,translate:kAe,custom:sce,matrix:cce,polar:lce,transpose:uce,scale:kg,"shear.x":wce,"shear.y":Bce,reflect:dce,"reflect.x":hce,"reflect.y":pce,rotate:vce,helix:yce,parallel:bce,fisheye:Ece,"fisheye.x":xce,"fisheye.y":Cce,"fisheye.circular":Oce},this.update(t)}return e.prototype.update=function(t){this.options=S4({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height;return[n,r]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,i=t.width,a=t.height;return[(n*2+i)/2,(r*2+a)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:tA(tA([],eA(r),!1),[tA([],eA(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var i=t?tA([],eA(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(x){return x.untransform}:function(x){return x.transform},o=[],s=[],A=function(x,C){return C===void 0&&(C=!0),s.push(C?FAe(x):x)};try{for(var c=Qce(i),l=c.next();!l.done;l=c.next()){var u=eA(l.value),f=u[0],d=u.slice(1),h=this.transformers[f];if(h){var p=this.options,g=p.x,v=p.y,y=p.width,m=p.height,b=h(tA([],eA(d),!1),g,v,y,m);if(_4(b))o.push(b);else{if(o.length){var w=this.createMatrixTransform(o,t);A(w),o.splice(0,o.length)}var B=a(b)||Nw;A(B,f!=="parallel")}}}}catch(x){n={error:x}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var B=this.createMatrixTransform(o,t);A(B)}return F4.apply(void 0,tA([],eA(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=ic();return n&&t.reverse(),t.forEach(function(i){return s8(r,r,i)}),n&&n8(r,e8(r)),function(i){var a=[i[0],i[1],1];return SM(a,a,r),[a[0],a[1]]}},e}(),nA=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},rA=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Lce=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uce=function(){function e(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:Sce,translate3D:_ce,scale3D:Tce,transpose3D:Mce},this.update(t)}return e.prototype.update=function(t){this.options=S4({},this.options,t),this.recoordinate()},e.prototype.clone=function(){return new e(this.options)},e.prototype.getOptions=function(){return this.options},e.prototype.clear=function(){this.update({transformations:[]})},e.prototype.getSize=function(){var t=this.options,n=t.width,r=t.height,i=t.depth;return[n,r,i]},e.prototype.getCenter=function(){var t=this.options,n=t.x,r=t.y,i=t.z,a=t.width,o=t.height,s=t.depth;return[(n*2+a)/2,(r*2+o)/2,(i*2+s)/2]},e.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:rA(rA([],nA(r),!1),[rA([],nA(t),!1)],!1)}),this},e.prototype.map=function(t){return this.output(t)},e.prototype.invert=function(t){return this.input(t)},e.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},e.prototype.compose=function(t){var n,r;t===void 0&&(t=!1);var i=t?rA([],nA(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(E){return E.untransform}:function(E){return E.transform},o=[],s=[],A=function(E,O){return O===void 0&&(O=!0),s.push(O?_Ae(E):E)};try{for(var c=Lce(i),l=c.next();!l.done;l=c.next()){var u=nA(l.value),f=u[0],d=u.slice(1),h=this.transformers[f];if(h){var p=this.options,g=p.x,v=p.y,y=p.z,m=p.width,b=p.height,w=p.depth,B=h(rA([],nA(d),!1),g,v,y,m,b,w);if(_4(B))o.push(B);else{if(o.length){var x=this.createMatrixTransform(o,t);A(x),o.splice(0,o.length)}var C=a(B)||Nw;A(C,!0)}}}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var C=this.createMatrixTransform(o,t);A(C)}return F4.apply(void 0,rA([],nA(s),!1))},e.prototype.createMatrixTransform=function(t,n){var r=st();return n&&t.reverse(),t.forEach(function(i){return E1(r,r,i)}),n&&Ai(r,x1(r)),function(i){var a=[i[0],i[1],i[2],1];return Ri(a,a,r),[a[0],a[1],a[2]]}},e}(),Pce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ju(e){return(t,...n)=>ee({},e(t,...n),t)}function Ds(e){return(t,...n)=>ee({},t,e(t,...n))}function Nce(e){return e instanceof Date?!1:typeof e=="object"}function Tg(e,t){if(!e)return t;if(Array.isArray(e))return e;if(Nce(e)){const{value:n=t}=e,r=Pce(e,["value"]);return Object.assign(Object.assign({},r),{value:n})}return e}var Rce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const U4=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{x:n=0,y:r=0,width:i,height:a,data:o}=e;return t.map(s=>{var{data:A,x:c,y:l,width:u,height:f}=s,d=Rce(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},d),{data:Tg(A,o),x:c??n,y:l??r,width:u??i,height:f??a})})};U4.props={};var Hce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const P4=()=>e=>{const{children:t}=e;if(!Array.isArray(t))return[];const{direction:n="row",ratio:r=t.map(()=>1),padding:i=0,data:a}=e,[o,s,A,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],l=r.reduce((p,g)=>p+g),u=e[s]-i*(t.length-1),f=r.map(p=>u*(p/l)),d=[];let h=e[o]||0;for(let p=0;p<f.length;p+=1){const g=t[p],{data:v}=g,y=Hce(g,["data"]),m=Tg(v,a);d.push(Object.assign({[o]:h,[s]:f[p],[c]:e[c]||0,[A]:e[A],data:m},y)),h+=f[p]+i}return d};P4.props={};var yv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const N4=()=>e=>{const{children:t}=e,n=yv(e,["children"]);if(!Array.isArray(t))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:A=[],slider:c={}}=n,l=yv(n,["data","scale","axis","legend","encode","transform","slider"]),u=t.map(f=>{var{data:d,scale:h={},axis:p={},legend:g={},encode:v={},transform:y=[],slider:m={}}=f,b=yv(f,["data","scale","axis","legend","encode","transform","slider"]);return Object.assign({data:Tg(d,r),scale:ee({},i,h),encode:ee({},s,v),transform:[...A,...y],axis:p&&a?ee({},a,p):!1,legend:g&&o?ee({},o,g):!1,slider:ee({},c,m)},b)});return[Object.assign(Object.assign({},l),{marks:u,type:"standardView",slider:c})]};N4.props={};var Dce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const R4=({static:e=!1}={})=>t=>{const{width:n,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:A,padding:c,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,margin:p,marginLeft:g,marginBottom:v,marginTop:y,marginRight:m,data:b,coordinate:w,theme:B,component:x,interaction:C,x:E,y:O,z:S,key:_,frame:F,labelTransform:k,parentKey:Q,clip:L,viewStyle:T,title:M}=t,I=Dce(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:E,y:O,z:S,key:_,width:n,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:o,paddingTop:s,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,paddingBottom:A,theme:B,coordinate:w,component:x,interaction:C,frame:F,labelTransform:k,margin:p,marginLeft:g,marginBottom:v,marginTop:y,marginRight:m,parentKey:Q,clip:L,style:T},!e&&{title:M}),{marks:[Object.assign(Object.assign(Object.assign({},I),{key:`${_}-0`,data:b}),e&&{title:M})]})]};R4.props={};class $u{constructor(t){this.$value=t}static of(t){return new $u(t)}call(t,...n){return this.$value=t(this.$value,...n),this}value(){return this.$value}}var jce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $ce=ju(e=>{const{encode:t,data:n,scale:r,shareSize:i=!1}=e,{x:a,y:o}=t,s=(A,c)=>{var l;if(A===void 0||!i)return{};const u=bt(n,h=>h[A]),f=((l=r==null?void 0:r[c])===null||l===void 0?void 0:l.domain)||Array.from(u.keys()),d=f.map(h=>u.has(h)?u.get(h).length:1);return{domain:f,flex:d}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),Kw=Ds(e=>{const{data:t,scale:n,legend:r}=e,i=[e];let a,o,s;for(;i.length;){const f=i.shift(),{children:d,encode:h={},scale:p={},legend:g={}}=f,{color:v}=h,{color:y}=p,{color:m}=g;v!==void 0&&(a=v),y!==void 0&&(o=y),m!==void 0&&(s=m),Array.isArray(d)&&i.push(...d)}const A=()=>{var f;const d=(f=n==null?void 0:n.color)===null||f===void 0?void 0:f.domain;if(d!==void 0)return[d];if(a===void 0)return[void 0];const h=typeof a=="function"?a:g=>g[a],p=t.map(h);return p.some(g=>typeof g=="number")?[Ca(p)]:[Array.from(new Set(p)),"ordinal"]},c=typeof a=="string"?a:"",[l,u]=A();return Object.assign({encode:{color:{type:"column",value:l??[]}},scale:{color:ee({},o,{domain:l,type:u})}},r===void 0&&{legend:{color:ee({title:c},s)}})}),Gw=ju(()=>({animate:{enterType:"fadeIn"}})),zw=Ds(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),Vw=Ds(()=>({type:"cell"})),H4=Ds(e=>{const{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=e,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(l=>l[a]))):[],A=o?Array.from(new Set(r.map(l=>l[o]))):[];return(()=>{if(s.length&&A.length){const l=[];for(const u of s)for(const f of A)l.push({[a]:u,[o]:f});return l}if(s.length)return s.map(l=>({[a]:l}));if(A.length)return A.map(l=>({[o]:l}))})()}}]}}}),D4=Ds((e,t=Kce,n=Gce,r=zce,i={})=>{const{data:a,encode:o,children:s,scale:A,x:c=0,y:l=0,shareData:u=!1,key:f}=e,{value:d}=a,{x:h,y:p}=o,{color:g}=A,{domain:v}=g;return{children:(m,b,w)=>{const{x:B,y:x}=b,{paddingLeft:C,paddingTop:E,marginLeft:O,marginTop:S}=w,{domain:_}=B.getOptions(),{domain:F}=x.getOptions(),k=Is(m),Q=m.map(t),L=m.map(({x:N,y:j})=>[B.invert(N),x.invert(j)]),M=L.map(([N,j])=>K=>{const{[h]:$,[p]:V}=K;return(h!==void 0?$===N:!0)&&(p!==void 0?V===j:!0)}).map(N=>d.filter(N)),I=u?ct(M,N=>N.length):void 0,U=L.map(([N,j])=>({columnField:h,columnIndex:_.indexOf(N),columnValue:N,columnValuesLength:_.length,rowField:p,rowIndex:F.indexOf(j),rowValue:j,rowValuesLength:F.length})),R=U.map(N=>Array.isArray(s)?s:[s(N)].flat(1));return k.flatMap(N=>{const[j,K,$,V]=Q[N],W=U[N],z=M[N];return R[N].map(ie=>{var le,P,{scale:D,key:G,facet:Y=!0,axis:X={},legend:q={}}=ie,J=jce(ie,["scale","key","facet","axis","legend"]);const te=((le=D==null?void 0:D.y)===null||le===void 0?void 0:le.guide)||X.y,ae=((P=D==null?void 0:D.x)===null||P===void 0?void 0:P.guide)||X.x,re={x:{tickCount:h?5:void 0},y:{tickCount:p?5:void 0}},he=Y?z:z.length===0?[]:d,ue={color:{domain:v}},ge={x:aS(ae,n)(W,he),y:aS(te,r)(W,he)};return Object.assign(Object.assign({key:`${G}-${N}`,data:he,margin:0,x:j+C+c+O,y:K+E+l+S,parentKey:f,width:$,height:V,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!he.length,dataDomain:I,scale:ee(re,D,ue),axis:ee({},X,ge),legend:!1},J),i)})})}}});function Kce(e){const{points:t}=e;return W1(t)}function Qg(e,t){return t.length?ee({title:!1,tick:null,label:null},e):ee({title:!1,tick:null,label:null,grid:null},e)}function Gce(e){return(t,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=t;if(r!==i-1)return Qg(e,n);const s=a!==o-1?!1:void 0,A=n.length?void 0:null;return ee({title:s,grid:A},e)}}function zce(e){return(t,n)=>{const{rowIndex:r,columnIndex:i}=t;if(i!==0)return Qg(e,n);const a=r!==0?!1:void 0,o=n.length?void 0:null;return ee({title:a,grid:o},e)}}function aS(e,t){return typeof e=="function"?e:e===null||e===!1?()=>null:t(e)}const j4=()=>e=>[$u.of(e).call(Vw).call(Kw).call(Gw).call($ce).call(zw).call(H4).call(D4).value()];j4.props={};var ym=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Vce=ju(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Wce=Ds(e=>{const{data:t,children:n,x:r=0,y:i=0,key:a}=e;return{children:(s,A,c)=>{const{x:l,y:u}=A,{paddingLeft:f,paddingTop:d,marginLeft:h,marginTop:p}=c,{domain:g}=l.getOptions(),{domain:v}=u.getOptions(),y=Is(s),m=s.map(({points:x})=>W1(x)),b=s.map(({x,y:C})=>[l.invert(x),u.invert(C)]),w=b.map(([x,C])=>({columnField:x,columnIndex:g.indexOf(x),columnValue:x,columnValuesLength:g.length,rowField:C,rowIndex:v.indexOf(C),rowValue:C,rowValuesLength:v.length})),B=w.map(x=>Array.isArray(n)?n:[n(x)].flat(1));return y.flatMap(x=>{const[C,E,O,S]=m[x],[_,F]=b[x],k=w[x];return B[x].map(L=>{var T,M;const{scale:I,key:U,encode:R,axis:N,interaction:j}=L,K=ym(L,["scale","key","encode","axis","interaction"]),$=(T=I==null?void 0:I.y)===null||T===void 0?void 0:T.guide,V=(M=I==null?void 0:I.x)===null||M===void 0?void 0:M.guide,W={x:{facet:!1},y:{facet:!1}},z={x:Xce(V)(k,t),y:qce($)(k,t)},ne={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:t,parentKey:a,key:`${U}-${x}`,x:C+f+r+h,y:E+d+i+p,width:O,height:S,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:ee(W,I),axis:ee(ne,N,z),legend:!1,encode:ee({},R,{x:_,y:F}),interaction:ee({},j,{legendFilter:!1})},K)})})}}}),Yce=Ds(e=>{const{encode:t}=e,n=ym(e,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=t,o=ym(t,["position","x","y"]),s=[];for(const A of[i].flat(1))for(const c of[a].flat(1))s.push({$x:A,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function Xce(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{rowIndex:r,rowValuesLength:i}=t;if(r!==i-1)return Qg(e,n)}}function qce(e){return typeof e=="function"?e:e===null?()=>null:(t,n)=>{const{columnIndex:r}=t;if(r!==0)return Qg(e,n)}}const Zce=()=>e=>[$u.of(e).call(Vw).call(Kw).call(Wce).call(Yce).call(Gw).call(zw).call(Vce).value()];var Jce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ele=ju(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),tle=ju(e=>({coordinate:{type:"polar"}})),nle=e=>{const{encode:t}=e,n=Jce(e,["encode"]),{position:r}=t;return Object.assign(Object.assign({},n),{encode:{x:r}})};function oS(e){return t=>null}function rle(e){const{points:t}=e,[n,r,i,a]=t,o=Ht(n,a),s=Wt(n,a),A=Wt(r,i),c=rT(s,A),l=1/Math.sin(c/2),u=o/(1+l),f=u*Math.sqrt(2),[d,h]=i,g=jA(s)+c/2,v=u*l,y=d+v*Math.sin(g),m=h-v*Math.cos(g);return[y-f/2,m-f/2,f,f]}const ile=()=>e=>[$u.of(e).call(Vw).call(nle).call(Kw).call(tle).call(H4).call(D4,rle,oS,oS,{frame:!1}).call(Gw).call(zw).call(ele).value()];function ale(e,t,n){const i=n,a=[0,i],o=[-i+1,1];if(e==="normal")return a;if(e==="reverse")return o;if(e==="alternate")return t%2===0?a:o;if(e==="reverse-alternate")return t%2===0?o:a}function ole(e,t,n){const r=[e];for(;r.length;){const i=r.pop();i.animate=ee({enter:{duration:t},update:{duration:t,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return e}const $4=()=>e=>{const{children:t=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=e,o=t.length;if(!Array.isArray(t)||o===0)return[];const{key:s}=t[0],A=t.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>ole(c,n,a));return function*(){let c=0,l;for(;r==="infinite"||c<r;){const[u,f]=ale(i,c,o);for(let d=u;d<f;d+=1){const h=Math.abs(d);l!==h&&(yield A[h]),l=h}c++}}};$4.props={};var sle=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const K4=()=>e=>{const{type:t,data:n,scale:r,encode:i,style:a,animate:o,key:s,state:A,tooltip:c}=e,l=sle(e,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},l),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:a,animate:o,state:A,tooltip:c}]})]};K4.props={};var Me=1e-6,G4=1e-12,Ze=Math.PI,tn=Ze/2,sS=Ze/4,Sr=Ze*2,Rn=180/Ze,Gt=Ze/180,at=Math.abs,dc=Math.atan,Ia=Math.atan2,Ye=Math.cos,pd=Math.ceil,z4=Math.exp,ip=Math.log,mv=Math.pow,He=Math.sin,$r=Math.sign||function(e){return e>0?1:e<0?-1:0},pr=Math.sqrt,Ww=Math.tan;function V4(e){return e>1?0:e<-1?Ze:Math.acos(e)}function Yr(e){return e>1?tn:e<-1?-tn:Math.asin(e)}function Kr(){}function ap(e,t){e&&cS.hasOwnProperty(e.type)&&cS[e.type](e,t)}var AS={Feature:function(e,t){ap(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ap(n[r].geometry,t)}},cS={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){mm(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mm(n[r],t,0)},Polygon:function(e,t){lS(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lS(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ap(n[r],t)}};function mm(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function lS(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)mm(e[n],t,1);t.polygonEnd()}function lA(e,t){e&&AS.hasOwnProperty(e.type)?AS[e.type](e,t):ap(e,t)}function bm(e){return[Ia(e[1],e[0]),Yr(e[2])]}function ZA(e){var t=e[0],n=e[1],r=Ye(n);return[r*Ye(t),r*He(t),He(n)]}function gd(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function op(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function bv(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function vd(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wm(e){var t=pr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Bm(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function xm(e,t){return at(e)>Ze&&(e-=Math.round(e/Sr)*Sr),[e,t]}xm.invert=xm;function W4(e,t,n){return(e%=Sr)?t||n?Bm(fS(e),dS(t,n)):fS(e):t||n?dS(t,n):xm}function uS(e){return function(t,n){return t+=e,at(t)>Ze&&(t-=Math.round(t/Sr)*Sr),[t,n]}}function fS(e){var t=uS(e);return t.invert=uS(-e),t}function dS(e,t){var n=Ye(e),r=He(e),i=Ye(t),a=He(t);function o(s,A){var c=Ye(A),l=Ye(s)*c,u=He(s)*c,f=He(A),d=f*n+l*r;return[Ia(u*i-d*a,l*n-f*r),Yr(d*i+u*a)]}return o.invert=function(s,A){var c=Ye(A),l=Ye(s)*c,u=He(s)*c,f=He(A),d=f*i-u*a;return[Ia(u*i+f*a,l*n+d*r),Yr(d*n-l*r)]},o}function Ale(e){e=W4(e[0]*Gt,e[1]*Gt,e.length>2?e[2]*Gt:0);function t(n){return n=e(n[0]*Gt,n[1]*Gt),n[0]*=Rn,n[1]*=Rn,n}return t.invert=function(n){return n=e.invert(n[0]*Gt,n[1]*Gt),n[0]*=Rn,n[1]*=Rn,n},t}function cle(e,t,n,r,i,a){if(n){var o=Ye(t),s=He(t),A=r*n;i==null?(i=t+r*Sr,a=t-A/2):(i=hS(o,i),a=hS(o,a),(r>0?i<a:i>a)&&(i+=r*Sr));for(var c,l=i;r>0?l>a:l<a;l-=A)c=bm([o,-s*Ye(l),-s*He(l)]),e.point(c[0],c[1])}}function hS(e,t){t=ZA(t),t[0]-=e,wm(t);var n=V4(-t[1]);return((-t[2]<0?-n:n)+Sr-Me)%Sr}function Y4(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Kr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Gd(e,t){return at(e[0]-t[0])<Me&&at(e[1]-t[1])<Me}function yd(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function X4(e,t,n,r,i){var a=[],o=[],s,A;if(e.forEach(function(h){if(!((p=h.length-1)<=0)){var p,g=h[0],v=h[p],y;if(Gd(g,v)){if(!g[2]&&!v[2]){for(i.lineStart(),s=0;s<p;++s)i.point((g=h[s])[0],g[1]);i.lineEnd();return}v[0]+=2*Me}a.push(y=new yd(g,h,null,!0)),o.push(y.o=new yd(g,null,y,!1)),a.push(y=new yd(v,h,null,!1)),o.push(y.o=new yd(v,null,y,!0))}}),!!a.length){for(o.sort(t),pS(a),pS(o),s=0,A=o.length;s<A;++s)o[s].e=n=!n;for(var c=a[0],l,u;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,A=l.length;s<A;++s)i.point((u=l[s])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((u=l[s])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function pS(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function wv(e){return at(e[0])<=Ze?e[0]:$r(e[0])*((at(e[0])+Ze)%Sr-Ze)}function lle(e,t){var n=wv(t),r=t[1],i=He(r),a=[He(n),-Ye(n),0],o=0,s=0,A=new ms;i===1?r=tn+Me:i===-1&&(r=-tn-Me);for(var c=0,l=e.length;c<l;++c)if(f=(u=e[c]).length)for(var u,f,d=u[f-1],h=wv(d),p=d[1]/2+sS,g=He(p),v=Ye(p),y=0;y<f;++y,h=b,g=B,v=x,d=m){var m=u[y],b=wv(m),w=m[1]/2+sS,B=He(w),x=Ye(w),C=b-h,E=C>=0?1:-1,O=E*C,S=O>Ze,_=g*B;if(A.add(Ia(_*E*He(O),v*x+_*Ye(O))),o+=S?C+E*Sr:C,S^h>=n^b>=n){var F=op(ZA(d),ZA(m));wm(F);var k=op(a,F);wm(k);var Q=(S^C>=0?-1:1)*Yr(k[2]);(r>Q||r===Q&&(F[0]||F[1]))&&(s+=S^C>=0?1:-1)}}return(o<-Me||o<Me&&A<-G4)^s&1}function q4(e,t,n,r){return function(i){var a=t(i),o=Y4(),s=t(o),A=!1,c,l,u,f={point:d,lineStart:p,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=m,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=g,l=jM(l);var b=lle(c,r);l.length?(A||(i.polygonStart(),A=!0),X4(l,fle,b,n,i)):b&&(A||(i.polygonStart(),A=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),A&&(i.polygonEnd(),A=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,w){e(b,w)&&i.point(b,w)}function h(b,w){a.point(b,w)}function p(){f.point=h,a.lineStart()}function g(){f.point=d,a.lineEnd()}function v(b,w){u.push([b,w]),s.point(b,w)}function y(){s.lineStart(),u=[]}function m(){v(u[0][0],u[0][1]),s.lineEnd();var b=s.clean(),w=o.result(),B,x=w.length,C,E,O;if(u.pop(),c.push(u),u=null,!!x){if(b&1){if(E=w[0],(C=E.length-1)>0){for(A||(i.polygonStart(),A=!0),i.lineStart(),B=0;B<C;++B)i.point((O=E[B])[0],O[1]);i.lineEnd()}return}x>1&&b&2&&w.push(w.pop().concat(w.shift())),l.push(w.filter(ule))}}return f}}function ule(e){return e.length>1}function fle(e,t){return((e=e.x)[0]<0?e[1]-tn-Me:tn-e[1])-((t=t.x)[0]<0?t[1]-tn-Me:tn-t[1])}const gS=q4(function(){return!0},dle,ple,[-Ze,-tn]);function dle(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?Ze:-Ze,A=at(a-t);at(A-Ze)<Me?(e.point(t,n=(n+o)/2>0?tn:-tn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&A>=Ze&&(at(t-r)<Me&&(t-=r*Me),at(a-s)<Me&&(a-=s*Me),n=hle(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function hle(e,t,n,r){var i,a,o=He(e-n);return at(o)>Me?dc((He(t)*(a=Ye(r))*He(n)-He(r)*(i=Ye(t))*He(e))/(i*a*o)):(t+r)/2}function ple(e,t,n,r){var i;if(e==null)i=n*tn,r.point(-Ze,i),r.point(0,i),r.point(Ze,i),r.point(Ze,0),r.point(Ze,-i),r.point(0,-i),r.point(-Ze,-i),r.point(-Ze,0),r.point(-Ze,i);else if(at(e[0]-t[0])>Me){var a=e[0]<t[0]?Ze:-Ze;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function gle(e){var t=Ye(e),n=2*Gt,r=t>0,i=at(t)>Me;function a(l,u,f,d){cle(d,e,n,f,l,u)}function o(l,u){return Ye(l)*Ye(u)>t}function s(l){var u,f,d,h,p;return{lineStart:function(){h=d=!1,p=1},point:function(g,v){var y=[g,v],m,b=o(g,v),w=r?b?0:c(g,v):b?c(g+(g<0?Ze:-Ze),v):0;if(!u&&(h=d=b)&&l.lineStart(),b!==d&&(m=A(u,y),(!m||Gd(u,m)||Gd(y,m))&&(y[2]=1)),b!==d)p=0,b?(l.lineStart(),m=A(y,u),l.point(m[0],m[1])):(m=A(u,y),l.point(m[0],m[1],2),l.lineEnd()),u=m;else if(i&&u&&r^b){var B;!(w&f)&&(B=A(y,u,!0))&&(p=0,r?(l.lineStart(),l.point(B[0][0],B[0][1]),l.point(B[1][0],B[1][1]),l.lineEnd()):(l.point(B[1][0],B[1][1]),l.lineEnd(),l.lineStart(),l.point(B[0][0],B[0][1],3)))}b&&(!u||!Gd(u,y))&&l.point(y[0],y[1]),u=y,d=b,f=w},lineEnd:function(){d&&l.lineEnd(),u=null},clean:function(){return p|(h&&d)<<1}}}function A(l,u,f){var d=ZA(l),h=ZA(u),p=[1,0,0],g=op(d,h),v=gd(g,g),y=g[0],m=v-y*y;if(!m)return!f&&l;var b=t*v/m,w=-t*y/m,B=op(p,g),x=vd(p,b),C=vd(g,w);bv(x,C);var E=B,O=gd(x,E),S=gd(E,E),_=O*O-S*(gd(x,x)-1);if(!(_<0)){var F=pr(_),k=vd(E,(-O-F)/S);if(bv(k,x),k=bm(k),!f)return k;var Q=l[0],L=u[0],T=l[1],M=u[1],I;L<Q&&(I=Q,Q=L,L=I);var U=L-Q,R=at(U-Ze)<Me,N=R||U<Me;if(!R&&M<T&&(I=T,T=M,M=I),N?R?T+M>0^k[1]<(at(k[0]-Q)<Me?T:M):T<=k[1]&&k[1]<=M:U>Ze^(Q<=k[0]&&k[0]<=L)){var j=vd(E,(-O+F)/S);return bv(j,x),[k,bm(j)]}}}function c(l,u){var f=r?e:Ze-e,d=0;return l<-f?d|=1:l>f&&(d|=2),u<-f?d|=4:u>f&&(d|=8),d}return q4(o,s,a,r?[0,-e]:[-Ze,e-Ze])}function vle(e,t,n,r,i,a){var o=e[0],s=e[1],A=t[0],c=t[1],l=0,u=1,f=A-o,d=c-s,h;if(h=n-o,!(!f&&h>0)){if(h/=f,f<0){if(h<l)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>l&&(l=h)}if(h=i-o,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>l&&(l=h)}else if(f>0){if(h<l)return;h<u&&(u=h)}if(h=r-s,!(!d&&h>0)){if(h/=d,d<0){if(h<l)return;h<u&&(u=h)}else if(d>0){if(h>u)return;h>l&&(l=h)}if(h=a-s,!(!d&&h<0)){if(h/=d,d<0){if(h>u)return;h>l&&(l=h)}else if(d>0){if(h<l)return;h<u&&(u=h)}return l>0&&(e[0]=o+l*f,e[1]=s+l*d),u<1&&(t[0]=o+u*f,t[1]=s+u*d),!0}}}}}var nl=1e9,md=-nl;function Z4(e,t,n,r){function i(c,l){return e<=c&&c<=n&&t<=l&&l<=r}function a(c,l,u,f){var d=0,h=0;if(c==null||(d=o(c,u))!==(h=o(l,u))||A(c,l)<0^u>0)do f.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+u+4)%4)!==h);else f.point(l[0],l[1])}function o(c,l){return at(c[0]-e)<Me?l>0?0:3:at(c[0]-n)<Me?l>0?2:1:at(c[1]-t)<Me?l>0?1:0:l>0?3:2}function s(c,l){return A(c.x,l.x)}function A(c,l){var u=o(c,1),f=o(l,1);return u!==f?u-f:u===0?l[1]-c[1]:u===1?c[0]-l[0]:u===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,u=Y4(),f,d,h,p,g,v,y,m,b,w,B,x={point:C,lineStart:_,lineEnd:F,polygonStart:O,polygonEnd:S};function C(Q,L){i(Q,L)&&l.point(Q,L)}function E(){for(var Q=0,L=0,T=d.length;L<T;++L)for(var M=d[L],I=1,U=M.length,R=M[0],N,j,K=R[0],$=R[1];I<U;++I)N=K,j=$,R=M[I],K=R[0],$=R[1],j<=r?$>r&&(K-N)*(r-j)>($-j)*(e-N)&&++Q:$<=r&&(K-N)*(r-j)<($-j)*(e-N)&&--Q;return Q}function O(){l=u,f=[],d=[],B=!0}function S(){var Q=E(),L=B&&Q,T=(f=jM(f)).length;(L||T)&&(c.polygonStart(),L&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),T&&X4(f,s,Q,a,c),c.polygonEnd()),l=c,f=d=h=null}function _(){x.point=k,d&&d.push(h=[]),w=!0,b=!1,y=m=NaN}function F(){f&&(k(p,g),v&&b&&u.rejoin(),f.push(u.result())),x.point=C,b&&l.lineEnd()}function k(Q,L){var T=i(Q,L);if(d&&h.push([Q,L]),w)p=Q,g=L,v=T,w=!1,T&&(l.lineStart(),l.point(Q,L));else if(T&&b)l.point(Q,L);else{var M=[y=Math.max(md,Math.min(nl,y)),m=Math.max(md,Math.min(nl,m))],I=[Q=Math.max(md,Math.min(nl,Q)),L=Math.max(md,Math.min(nl,L))];vle(M,I,e,t,n,r)?(b||(l.lineStart(),l.point(M[0],M[1])),l.point(I[0],I[1]),T||l.lineEnd(),B=!1):T&&(l.lineStart(),l.point(Q,L),B=!1)}y=Q,m=L,b=T}return x}}function vS(e,t,n){var r=uA(e,t-Me,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function yS(e,t,n){var r=uA(e,t-Me,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function yle(){var e,t,n,r,i,a,o,s,A=10,c=A,l=90,u=360,f,d,h,p,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return uA(pd(r/l)*l,n,l).map(h).concat(uA(pd(s/u)*u,o,u).map(p)).concat(uA(pd(t/A)*A,e,A).filter(function(m){return at(m%l)>Me}).map(f)).concat(uA(pd(a/c)*c,i,c).filter(function(m){return at(m%u)>Me}).map(d))}return v.lines=function(){return y().map(function(m){return{type:"LineString",coordinates:m}})},v.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(p(o).slice(1),h(n).reverse().slice(1),p(s).reverse().slice(1))]}},v.extent=function(m){return arguments.length?v.extentMajor(m).extentMinor(m):v.extentMinor()},v.extentMajor=function(m){return arguments.length?(r=+m[0][0],n=+m[1][0],s=+m[0][1],o=+m[1][1],r>n&&(m=r,r=n,n=m),s>o&&(m=s,s=o,o=m),v.precision(g)):[[r,s],[n,o]]},v.extentMinor=function(m){return arguments.length?(t=+m[0][0],e=+m[1][0],a=+m[0][1],i=+m[1][1],t>e&&(m=t,t=e,e=m),a>i&&(m=a,a=i,i=m),v.precision(g)):[[t,a],[e,i]]},v.step=function(m){return arguments.length?v.stepMajor(m).stepMinor(m):v.stepMinor()},v.stepMajor=function(m){return arguments.length?(l=+m[0],u=+m[1],v):[l,u]},v.stepMinor=function(m){return arguments.length?(A=+m[0],c=+m[1],v):[A,c]},v.precision=function(m){return arguments.length?(g=+m,f=vS(a,i,90),d=yS(t,e,g),h=vS(s,o,90),p=yS(r,n,g),v):g},v.extentMajor([[-180,-90+Me],[180,90-Me]]).extentMinor([[-180,-80-Me],[180,80+Me]])}function mle(){return yle()()}const su=e=>e;var Bv=new ms,Cm=new ms,J4,eN,Em,Om,ma={point:Kr,lineStart:Kr,lineEnd:Kr,polygonStart:function(){ma.lineStart=ble,ma.lineEnd=Ble},polygonEnd:function(){ma.lineStart=ma.lineEnd=ma.point=Kr,Bv.add(at(Cm)),Cm=new ms},result:function(){var e=Bv/2;return Bv=new ms,e}};function ble(){ma.point=wle}function wle(e,t){ma.point=tN,J4=Em=e,eN=Om=t}function tN(e,t){Cm.add(Om*e-Em*t),Em=e,Om=t}function Ble(){tN(J4,eN)}var JA=1/0,sp=JA,Au=-JA,Ap=Au,cp={point:xle,lineStart:Kr,lineEnd:Kr,polygonStart:Kr,polygonEnd:Kr,result:function(){var e=[[JA,sp],[Au,Ap]];return Au=Ap=-(sp=JA=1/0),e}};function xle(e,t){e<JA&&(JA=e),e>Au&&(Au=e),t<sp&&(sp=t),t>Ap&&(Ap=t)}var Sm=0,Fm=0,rl=0,lp=0,up=0,dA=0,_m=0,Mm=0,il=0,nN,rN,Ti,Qi,Hr={point:_s,lineStart:mS,lineEnd:bS,polygonStart:function(){Hr.lineStart=Ole,Hr.lineEnd=Sle},polygonEnd:function(){Hr.point=_s,Hr.lineStart=mS,Hr.lineEnd=bS},result:function(){var e=il?[_m/il,Mm/il]:dA?[lp/dA,up/dA]:rl?[Sm/rl,Fm/rl]:[NaN,NaN];return Sm=Fm=rl=lp=up=dA=_m=Mm=il=0,e}};function _s(e,t){Sm+=e,Fm+=t,++rl}function mS(){Hr.point=Cle}function Cle(e,t){Hr.point=Ele,_s(Ti=e,Qi=t)}function Ele(e,t){var n=e-Ti,r=t-Qi,i=pr(n*n+r*r);lp+=i*(Ti+e)/2,up+=i*(Qi+t)/2,dA+=i,_s(Ti=e,Qi=t)}function bS(){Hr.point=_s}function Ole(){Hr.point=Fle}function Sle(){iN(nN,rN)}function Fle(e,t){Hr.point=iN,_s(nN=Ti=e,rN=Qi=t)}function iN(e,t){var n=e-Ti,r=t-Qi,i=pr(n*n+r*r);lp+=i*(Ti+e)/2,up+=i*(Qi+t)/2,dA+=i,i=Qi*e-Ti*t,_m+=i*(Ti+e),Mm+=i*(Qi+t),il+=i*3,_s(Ti=e,Qi=t)}function aN(e){this._context=e}aN.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Sr);break}}},result:Kr};var km=new ms,xv,oN,sN,al,ol,cu={point:Kr,lineStart:function(){cu.point=_le},lineEnd:function(){xv&&AN(oN,sN),cu.point=Kr},polygonStart:function(){xv=!0},polygonEnd:function(){xv=null},result:function(){var e=+km;return km=new ms,e}};function _le(e,t){cu.point=AN,oN=al=e,sN=ol=t}function AN(e,t){al-=e,ol-=t,km.add(pr(al*al+ol*ol)),al=e,ol=t}let wS,fp,BS,xS;class CS{constructor(t){this._append=t==null?cN:Mle(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==BS||this._append!==fp){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,BS=r,fp=this._append,xS=this._,this._=i}this._+=xS;break}}}result(){const t=this._;return this._="",t.length?t:null}}function cN(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Mle(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return cN;if(t!==wS){const n=10**t;wS=t,fp=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return fp}function lN(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),lA(s,i(a))),a.result()}return o.area=function(s){return lA(s,i(ma)),ma.result()},o.measure=function(s){return lA(s,i(cu)),cu.result()},o.bounds=function(s){return lA(s,i(cp)),cp.result()},o.centroid=function(s){return lA(s,i(Hr)),Hr.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,su):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new CS(n)):new aN(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const A=Math.floor(s);if(!(A>=0))throw new RangeError(`invalid digits: ${s}`);n=A}return t===null&&(a=new CS(n)),o},o.projection(e).digits(n).context(t)}function Ig(e){return function(t){var n=new Tm;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Tm(){}Tm.prototype={constructor:Tm,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Yw(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),lA(n,e.stream(cp)),t(cp.result()),r!=null&&e.clipExtent(r),e}function Lg(e,t,n){return Yw(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,A=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,A])},n)}function Xw(e,t,n){return Lg(e,[[0,0],t],n)}function qw(e,t,n){return Yw(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function Zw(e,t,n){return Yw(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var ES=16,kle=Ye(30*Gt);function OS(e,t){return+t?Qle(e,t):Tle(e)}function Tle(e){return Ig({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Qle(e,t){function n(r,i,a,o,s,A,c,l,u,f,d,h,p,g){var v=c-r,y=l-i,m=v*v+y*y;if(m>4*t&&p--){var b=o+f,w=s+d,B=A+h,x=pr(b*b+w*w+B*B),C=Yr(B/=x),E=at(at(B)-1)<Me||at(a-u)<Me?(a+u)/2:Ia(w,b),O=e(E,C),S=O[0],_=O[1],F=S-r,k=_-i,Q=y*F-v*k;(Q*Q/m>t||at((v*F+y*k)/m-.5)>.3||o*f+s*d+A*h<kle)&&(n(r,i,a,o,s,A,S,_,E,b/=x,w/=x,B,p,g),g.point(S,_),n(S,_,E,b,w,B,c,l,u,f,d,h,p,g))}}return function(r){var i,a,o,s,A,c,l,u,f,d,h,p,g={point:v,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=w},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function v(C,E){C=e(C,E),r.point(C[0],C[1])}function y(){u=NaN,g.point=m,r.lineStart()}function m(C,E){var O=ZA([C,E]),S=e(C,E);n(u,f,l,d,h,p,u=S[0],f=S[1],l=C,d=O[0],h=O[1],p=O[2],ES,r),r.point(u,f)}function b(){g.point=v,r.lineEnd()}function w(){y(),g.point=B,g.lineEnd=x}function B(C,E){m(i=C,E),a=u,o=f,s=d,A=h,c=p,g.point=m}function x(){n(u,f,l,d,h,p,a,o,i,s,A,c,ES,r),g.lineEnd=b,b()}return g}}var Ile=Ig({point:function(e,t){this.stream.point(e*Gt,t*Gt)}});function Lle(e){return Ig({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Ule(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function SS(e,t,n,r,i,a){if(!a)return Ule(e,t,n,r,i);var o=Ye(a),s=He(a),A=o*e,c=s*e,l=o/e,u=s/e,f=(s*n-o*t)/e,d=(s*t+o*n)/e;function h(p,g){return p*=r,g*=i,[A*p-c*g+t,n-c*p-A*g]}return h.invert=function(p,g){return[r*(l*p-u*g+f),i*(d-u*p-l*g)]},h}function aa(e){return Jw(function(){return e})()}function Jw(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,A=0,c=0,l,u=0,f=1,d=1,h=null,p=gS,g=null,v,y,m,b=su,w=.5,B,x,C,E,O;function S(Q){return C(Q[0]*Gt,Q[1]*Gt)}function _(Q){return Q=C.invert(Q[0],Q[1]),Q&&[Q[0]*Rn,Q[1]*Rn]}S.stream=function(Q){return E&&O===Q?E:E=Ile(Lle(l)(p(B(b(O=Q)))))},S.preclip=function(Q){return arguments.length?(p=Q,h=void 0,k()):p},S.postclip=function(Q){return arguments.length?(b=Q,g=v=y=m=null,k()):b},S.clipAngle=function(Q){return arguments.length?(p=+Q?gle(h=Q*Gt):(h=null,gS),k()):h*Rn},S.clipExtent=function(Q){return arguments.length?(b=Q==null?(g=v=y=m=null,su):Z4(g=+Q[0][0],v=+Q[0][1],y=+Q[1][0],m=+Q[1][1]),k()):g==null?null:[[g,v],[y,m]]},S.scale=function(Q){return arguments.length?(n=+Q,F()):n},S.translate=function(Q){return arguments.length?(r=+Q[0],i=+Q[1],F()):[r,i]},S.center=function(Q){return arguments.length?(a=Q[0]%360*Gt,o=Q[1]%360*Gt,F()):[a*Rn,o*Rn]},S.rotate=function(Q){return arguments.length?(s=Q[0]%360*Gt,A=Q[1]%360*Gt,c=Q.length>2?Q[2]%360*Gt:0,F()):[s*Rn,A*Rn,c*Rn]},S.angle=function(Q){return arguments.length?(u=Q%360*Gt,F()):u*Rn},S.reflectX=function(Q){return arguments.length?(f=Q?-1:1,F()):f<0},S.reflectY=function(Q){return arguments.length?(d=Q?-1:1,F()):d<0},S.precision=function(Q){return arguments.length?(B=OS(x,w=Q*Q),k()):pr(w)},S.fitExtent=function(Q,L){return Lg(S,Q,L)},S.fitSize=function(Q,L){return Xw(S,Q,L)},S.fitWidth=function(Q,L){return qw(S,Q,L)},S.fitHeight=function(Q,L){return Zw(S,Q,L)};function F(){var Q=SS(n,0,0,f,d,u).apply(null,t(a,o)),L=SS(n,r-Q[0],i-Q[1],f,d,u);return l=W4(s,A,c),x=Bm(t,L),C=Bm(l,x),B=OS(x,w),k()}function k(){return E=O=null,S}return function(){return t=e.apply(this,arguments),S.invert=t.invert&&_,F()}}function eB(e){var t=0,n=Ze/3,r=Jw(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*Gt,n=a[1]*Gt):[t*Rn,n*Rn]},i}function Ple(e){var t=Ye(e);function n(r,i){return[r*t,He(i)/t]}return n.invert=function(r,i){return[r/t,Yr(i*t)]},n}function uN(e,t){var n=He(e),r=(n+He(t))/2;if(at(r)<Me)return Ple(e);var i=1+n*(2*r-n),a=pr(i)/r;function o(s,A){var c=pr(i-2*r*He(A))/r;return[c*He(s*=r),a-c*Ye(s)]}return o.invert=function(s,A){var c=a-A,l=Ia(s,at(c))*$r(c);return c*r<0&&(l-=Ze*$r(s)*$r(c)),[l/r,Yr((i-(s*s+c*c)*r*r)/(2*r))]},o}function dp(){return eB(uN).scale(155.424).center([0,33.6442])}function fN(){return dp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Nle(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Rle(){var e,t,n=fN(),r,i=dp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=dp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,A,c={point:function(f,d){A=[f,d]}};function l(f){var d=f[0],h=f[1];return A=null,r.point(d,h),A||(a.point(d,h),A)||(s.point(d,h),A)}l.invert=function(f){var d=n.scale(),h=n.translate(),p=(f[0]-h[0])/d,g=(f[1]-h[1])/d;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?i:g>=.166&&g<.234&&p>=-.214&&p<-.115?o:n).invert(f)},l.stream=function(f){return e&&t===f?e:e=Nle([n.stream(t=f),i.stream(f),o.stream(f)])},l.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),u()):n.precision()},l.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),l.translate(n.translate())):n.scale()},l.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),h=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[h-.455*d,p-.238*d],[h+.455*d,p+.238*d]]).stream(c),a=i.translate([h-.307*d,p+.201*d]).clipExtent([[h-.425*d+Me,p+.12*d+Me],[h-.214*d-Me,p+.234*d-Me]]).stream(c),s=o.translate([h-.205*d,p+.212*d]).clipExtent([[h-.214*d+Me,p+.166*d+Me],[h-.115*d-Me,p+.234*d-Me]]).stream(c),u()},l.fitExtent=function(f,d){return Lg(l,f,d)},l.fitSize=function(f,d){return Xw(l,f,d)},l.fitWidth=function(f,d){return qw(l,f,d)},l.fitHeight=function(f,d){return Zw(l,f,d)};function u(){return e=t=null,l}return l.scale(1070)}function dN(e){return function(t,n){var r=Ye(t),i=Ye(n),a=e(r*i);return a===1/0?[2,0]:[a*i*He(t),a*He(n)]}}function Ku(e){return function(t,n){var r=pr(t*t+n*n),i=e(r),a=He(i),o=Ye(i);return[Ia(t*a,r*o),Yr(r&&n*a/r)]}}var tB=dN(function(e){return pr(2/(1+e))});tB.invert=Ku(function(e){return 2*Yr(e/2)});function Hle(){return aa(tB).scale(124.75).clipAngle(180-.001)}var nB=dN(function(e){return(e=V4(e))&&e/He(e)});nB.invert=Ku(function(e){return e});function Dle(){return aa(nB).scale(79.4188).clipAngle(180-.001)}function Gu(e,t){return[e,ip(Ww((tn+t)/2))]}Gu.invert=function(e,t){return[e,2*dc(z4(t))-tn]};function jle(){return hN(Gu).scale(961/Sr)}function hN(e){var t=aa(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,A,c;t.scale=function(u){return arguments.length?(r(u),l()):r()},t.translate=function(u){return arguments.length?(i(u),l()):i()},t.center=function(u){return arguments.length?(n(u),l()):n()},t.clipExtent=function(u){return arguments.length?(u==null?o=s=A=c=null:(o=+u[0][0],s=+u[0][1],A=+u[1][0],c=+u[1][1]),l()):o==null?null:[[o,s],[A,c]]};function l(){var u=Ze*r(),f=t(Ale(t.rotate()).invert([0,0]));return a(o==null?[[f[0]-u,f[1]-u],[f[0]+u,f[1]+u]]:e===Gu?[[Math.max(f[0]-u,o),s],[Math.min(f[0]+u,A),c]]:[[o,Math.max(f[1]-u,s)],[A,Math.min(f[1]+u,c)]])}return l()}function bd(e){return Ww((tn+e)/2)}function pN(e,t){var n=Ye(e),r=e===t?He(e):ip(n/Ye(t))/ip(bd(t)/bd(e)),i=n*mv(bd(e),r)/r;if(!r)return Gu;function a(o,s){i>0?s<-tn+Me&&(s=-tn+Me):s>tn-Me&&(s=tn-Me);var A=i/mv(bd(s),r);return[A*He(r*o),i-A*Ye(r*o)]}return a.invert=function(o,s){var A=i-s,c=$r(r)*pr(o*o+A*A),l=Ia(o,at(A))*$r(A);return A*r<0&&(l-=Ze*$r(o)*$r(A)),[l/r,2*dc(mv(i/c,1/r))-tn]},a}function $le(){return eB(pN).scale(109.5).parallels([30,30])}function lu(e,t){return[e,t]}lu.invert=lu;function Kle(){return aa(lu).scale(152.63)}function gN(e,t){var n=Ye(e),r=e===t?He(e):(n-Ye(t))/(t-e),i=n/r+e;if(at(r)<Me)return lu;function a(o,s){var A=i-s,c=r*o;return[A*He(c),i-A*Ye(c)]}return a.invert=function(o,s){var A=i-s,c=Ia(o,at(A))*$r(A);return A*r<0&&(c-=Ze*$r(o)*$r(A)),[c/r,i-$r(r)*pr(o*o+A*A)]},a}function Gle(){return eB(gN).scale(131.154).center([0,13.9389])}var El=1.340264,Ol=-.081106,Sl=893e-6,Fl=.003796,hp=pr(3)/2,zle=12;function rB(e,t){var n=Yr(hp*He(t)),r=n*n,i=r*r*r;return[e*Ye(n)/(hp*(El+3*Ol*r+i*(7*Sl+9*Fl*r))),n*(El+Ol*r+i*(Sl+Fl*r))]}rB.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,A;a<zle&&(s=n*(El+Ol*r+i*(Sl+Fl*r))-t,A=El+3*Ol*r+i*(7*Sl+9*Fl*r),n-=o=s/A,r=n*n,i=r*r*r,!(at(o)<G4));++a);return[hp*e*(El+3*Ol*r+i*(7*Sl+9*Fl*r))/Ye(n),Yr(He(n)/hp)]};function Vle(){return aa(rB).scale(177.158)}function iB(e,t){var n=Ye(t),r=Ye(e)*n;return[n*He(e)/r,He(t)/r]}iB.invert=Ku(dc);function Wle(){return aa(iB).scale(144.049).clipAngle(60)}function Yle(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,A=null,c,l,u,f=1,d=1,h=Ig({point:function(b,w){var B=m([b,w]);this.stream.point(B[0],B[1])}}),p=su,g,v;function y(){return f=e*r,d=e*i,g=v=null,m}function m(b){var w=b[0]*f,B=b[1]*d;if(a){var x=B*o-w*s;w=w*o+B*s,B=x}return[w+t,B+n]}return m.invert=function(b){var w=b[0]-t,B=b[1]-n;if(a){var x=B*o+w*s;w=w*o-B*s,B=x}return[w/f,B/d]},m.stream=function(b){return g&&v===b?g:g=h(p(v=b))},m.postclip=function(b){return arguments.length?(p=b,A=c=l=u=null,y()):p},m.clipExtent=function(b){return arguments.length?(p=b==null?(A=c=l=u=null,su):Z4(A=+b[0][0],c=+b[0][1],l=+b[1][0],u=+b[1][1]),y()):A==null?null:[[A,c],[l,u]]},m.scale=function(b){return arguments.length?(e=+b,y()):e},m.translate=function(b){return arguments.length?(t=+b[0],n=+b[1],y()):[t,n]},m.angle=function(b){return arguments.length?(a=b%360*Gt,s=He(a),o=Ye(a),y()):a*Rn},m.reflectX=function(b){return arguments.length?(r=b?-1:1,y()):r<0},m.reflectY=function(b){return arguments.length?(i=b?-1:1,y()):i<0},m.fitExtent=function(b,w){return Lg(m,b,w)},m.fitSize=function(b,w){return Xw(m,b,w)},m.fitWidth=function(b,w){return qw(m,b,w)},m.fitHeight=function(b,w){return Zw(m,b,w)},m}function aB(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}aB.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(at(i)>Me&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Xle(){return aa(aB).scale(175.295)}function oB(e,t){return[Ye(t)*He(e),He(t)]}oB.invert=Ku(Yr);function qle(){return aa(oB).scale(249.5).clipAngle(90+Me)}function sB(e,t){var n=Ye(t),r=1+Ye(e)*n;return[n*He(e)/r,He(t)/r]}sB.invert=Ku(function(e){return 2*dc(e)});function Zle(){return aa(sB).scale(250).clipAngle(142)}function AB(e,t){return[ip(Ww((tn+t)/2)),-e]}AB.invert=function(e,t){return[-t,2*dc(z4(e))-tn]};function Jle(){var e=hN(AB),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const eue=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:fN,geoAlbersUsa:Rle,geoAzimuthalEqualArea:Hle,geoAzimuthalEqualAreaRaw:tB,geoAzimuthalEquidistant:Dle,geoAzimuthalEquidistantRaw:nB,geoConicConformal:$le,geoConicConformalRaw:pN,geoConicEqualArea:dp,geoConicEqualAreaRaw:uN,geoConicEquidistant:Gle,geoConicEquidistantRaw:gN,geoEqualEarth:Vle,geoEqualEarthRaw:rB,geoEquirectangular:Kle,geoEquirectangularRaw:lu,geoGnomonic:Wle,geoGnomonicRaw:iB,geoIdentity:Yle,geoMercator:jle,geoMercatorRaw:Gu,geoNaturalEarth1:Xle,geoNaturalEarth1Raw:aB,geoOrthographic:qle,geoOrthographicRaw:oB,geoProjection:aa,geoProjectionMutator:Jw,geoStereographic:Zle,geoStereographicRaw:sB,geoTransverseMercator:Jle,geoTransverseMercatorRaw:AB},Symbol.toStringTag,{value:"Module"}));var tue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function nue(e){if(typeof e=="function")return e;const t=`geo${Co(e)}`,n=eue[t];if(!n)throw new Error(`Unknown coordinate: ${e}`);return n}function rue(e){return{type:"FeatureCollection",features:e.flatMap(t=>iue(t).features)}}function iue(e){const t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!e||!e.type)return null;const n=t[e.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(n==="feature")return{type:"FeatureCollection",features:[e]};if(n==="featureCollection")return e}function aue(e,t){var n;for(const[r,i]of Object.entries(t))(n=e[r])===null||n===void 0||n.call(e,i)}function oue(e,t,n,r){const i=()=>{const s=t.filter(vN);return s.find(c=>c.sphere)?{type:"Sphere"}:rue(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return sue(e,a,n);if(o==="fitWidth")return Aue(e,a,n)}function sue(e,t,n){const{x:r,y:i,width:a,height:o}=n;e.fitExtent([[r,i],[a,o]],t)}function Aue(e,t,n){const{width:r,height:i}=n,[[a,o],[s,A]]=lN(e.fitWidth(r,t)).bounds(t),c=Math.ceil(A-o),l=Math.min(Math.ceil(s-a),c),u=e.scale()*(l-1)/l,[f,d]=e.translate(),h=d+(i-c)/2;e.scale(u).translate([f,h]).precision(.2)}function cue(e){const{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});const{type:n}=t;return n==="graticule10"?Object.assign(Object.assign({},e),{data:{value:[mle()]}}):n==="sphere"?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function vN(e){return e.type==="geoPath"}const yN=()=>e=>{const{children:t,coordinate:n={}}=e;if(!Array.isArray(t))return[];const{type:r="equalEarth"}=n,i=tue(n,["type"]),a=nue(r),o=t.map(u=>Object.assign(Object.assign({},u),{data:Tg(u.data,e.data)})).map(cue);let s;function A(){return[["custom",(u,f,d,h)=>{const p=a();oue(p,o,{x:u,y:f,width:d,height:h},i),aue(p,i),s=lN(p);const v=new ka({domain:[u,u+d]}),y=new ka({domain:[f,f+h]}),m=w=>{const B=p(w);if(!B)return[null,null];const[x,C]=B;return[v.map(x),y.map(C)]},b=w=>{if(!w)return null;const[B,x]=w,C=[v.invert(B),y.invert(x)];return p.invert(C)};return{transform:w=>m(w),untransform:w=>b(w)}}]]}function c(u){const{style:f,tooltip:d={}}=u;return Object.assign(Object.assign({},u),{type:"path",tooltip:Vh(d,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},f),{d:h=>s(h)||[]})})}const l=u=>vN(u)?c(u):u;return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:A},children:o.flatMap(l)})]};yN.props={};function lue(e){return Vu(e,t=>t.className==="component")}function uue(e){return Vu(e,t=>t.className==="element")}function fue(e){return Vu(e,t=>t.className==="label")}function Sn(e,t,n,r=i=>!0){return i=>{if(!r(i))return;n.emit(`plot:${e}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=uue(a),A=lue(a),c=fue(a),l=s||A||c;if(!l)return;const{className:u,markType:f}=l,d=Object.assign(Object.assign({},i),{nativeEvent:!0});u==="element"?(d.data={data:D1(l,t)},n.emit(`element:${e}`,d),n.emit(`${f}:${e}`,d)):u==="label"?(d.data={data:l.attributes.datum},n.emit(`label:${e}`,d),o.split(/\s+/).filter(Boolean).forEach(p=>{n.emit(`${p}:${e}`,d)})):(n.emit(`component:${e}`,d),o.split(/\s+/).filter(Boolean).forEach(p=>{n.emit(`${p}:${e}`,d)}))}}function mN(){return(e,t,n)=>{const{container:r,view:i}=e,a=Sn(ht.CLICK,i,n,x=>x.detail===1),o=Sn(ht.DBLCLICK,i,n,x=>x.detail===2),s=Sn(ht.POINTER_TAP,i,n),A=Sn(ht.POINTER_DOWN,i,n),c=Sn(ht.POINTER_UP,i,n),l=Sn(ht.POINTER_OVER,i,n),u=Sn(ht.POINTER_OUT,i,n),f=Sn(ht.POINTER_MOVE,i,n),d=Sn(ht.POINTER_ENTER,i,n),h=Sn(ht.POINTER_LEAVE,i,n),p=Sn(ht.POINTER_UPOUTSIDE,i,n),g=Sn(ht.DRAG_START,i,n),v=Sn(ht.DRAG,i,n),y=Sn(ht.DRAG_END,i,n),m=Sn(ht.DRAG_ENTER,i,n),b=Sn(ht.DRAG_LEAVE,i,n),w=Sn(ht.DRAG_OVER,i,n),B=Sn(ht.DROP,i,n);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",A),r.addEventListener("pointerup",c),r.addEventListener("pointerover",l),r.addEventListener("pointerout",u),r.addEventListener("pointermove",f),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",h),r.addEventListener("pointerupoutside",p),r.addEventListener("dragstart",g),r.addEventListener("drag",v),r.addEventListener("dragend",y),r.addEventListener("dragenter",m),r.addEventListener("dragleave",b),r.addEventListener("dragover",w),r.addEventListener("drop",B),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",A),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",l),r.removeEventListener("pointerout",u),r.removeEventListener("pointermove",f),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",h),r.removeEventListener("pointerupoutside",p),r.removeEventListener("dragstart",g),r.removeEventListener("drag",v),r.removeEventListener("dragend",y),r.removeEventListener("dragenter",m),r.removeEventListener("dragleave",b),r.removeEventListener("dragover",w),r.removeEventListener("drop",B)}}}mN.props={reapplyWhenUpdate:!0};function due(){return{"component.axisRadar":d4,"component.axisLinear":To,"component.axisArc":l4,"component.legendContinuousBlock":UR,"component.legendContinuousBlockSize":PR,"component.legendContinuousSize":OB,"interaction.event":mN,"composition.mark":R4,"composition.view":N4,"shape.label.label":mU,"shape.break":_U}}var hue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function St(e,t){const n=Object.assign(Object.assign({},due()),t),r=a=>{if(typeof a!="string")return a;const o=`${e}.${a}`;return n[o]||HA(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,A=hue(a,["type"]);s||HA("Plot type is required!");const c=r(s);return c==null?void 0:c(A,o)},r]}function bN(e){const{canvas:t,group:n}=e;return(t==null?void 0:t.document)||(n==null?void 0:n.ownerDocument)||HA("Cannot find library document")}var FS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function pue(e,t,n){const[r]=St("coordinate",n),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:A,insetBottom:c}=e,{coordinates:l=[]}=t,u=bue(l),f=u[0].type==="cartesian3D",d=Object.assign(Object.assign({},e),{x:o,y:s,width:a-o-A,height:i-c-s,transformations:u.flatMap(r)});return f?new Uce(d):new Ice(d)}function wN(e,t){const{coordinate:n={},coordinates:r}=e,i=FS(e,["coordinate","coordinates"]);if(r)return e;const{type:a,transform:o=[]}=n,s=FS(n,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,A]=St("coordinate",t),{transform:c=!1}=A(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function hi(e,t){return e.filter(n=>n.type===t)}function is(e){return hi(e,"polar").length>0}function gue(e){return hi(e,"helix").length>0}function _A(e){return hi(e,"transpose").length%2===1}function vue(e){return hi(e,"parallel").length>0}function BN(e){return hi(e,"theta").length>0}function yue(e){return hi(e,"reflect").length>0}function _l(e){return hi(e,"radial").length>0}function xN(e){return hi(e,"radar").length>0}function mue(e){return hi(e,"reflectY").length>0}function bue(e){return e.find(t=>t.type==="cartesian"||t.type==="cartesian3D")?e:[...e,{type:"cartesian"}]}function Ke(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const wue=Ke("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Bue=Ke("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xue=Ke("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Cue=Ke("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Eue=Ke("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Oue=Ke("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Sue=Ke("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Fue=Ke("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_ue=Ke("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Mue=Ke("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),kue=Ke("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ug(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cB(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hc(){}var Ms=.7,ec=1/Ms,MA="\\s*([+-]?\\d+)\\s*",uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tue=/^#([0-9a-f]{3,8})$/,Que=new RegExp(`^rgb\\(${MA},${MA},${MA}\\)$`),Iue=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),Lue=new RegExp(`^rgba\\(${MA},${MA},${MA},${uu}\\)$`),Uue=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${uu}\\)$`),Pue=new RegExp(`^hsl\\(${uu},${Wi},${Wi}\\)$`),Nue=new RegExp(`^hsla\\(${uu},${Wi},${Wi},${uu}\\)$`),_S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ug(hc,lB,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MS,formatHex:MS,formatHex8:Rue,formatHsl:Hue,formatRgb:kS,toString:kS});function MS(){return this.rgb().formatHex()}function Rue(){return this.rgb().formatHex8()}function Hue(){return EN(this).formatHsl()}function kS(){return this.rgb().formatRgb()}function lB(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tue.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TS(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Que.exec(e))?new Kn(t[1],t[2],t[3],1):(t=Iue.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lue.exec(e))?wd(t[1],t[2],t[3],t[4]):(t=Uue.exec(e))?wd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Pue.exec(e))?LS(t[1],t[2]/100,t[3]/100,1):(t=Nue.exec(e))?LS(t[1],t[2]/100,t[3]/100,t[4]):_S.hasOwnProperty(e)?TS(_S[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function TS(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function wd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function CN(e){return e instanceof hc||(e=lB(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function fu(e,t,n,r){return arguments.length===1?CN(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ug(Kn,fu,cB(hc,{brighter(e){return e=e==null?ec:Math.pow(ec,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ms:Math.pow(Ms,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(ds(this.r),ds(this.g),ds(this.b),pp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QS,formatHex:QS,formatHex8:Due,formatRgb:IS,toString:IS}));function QS(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function Due(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function IS(){const e=pp(this.opacity);return`${e===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${e===1?")":`, ${e})`}`}function pp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=ds(e),(e<16?"0":"")+e.toString(16)}function LS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new si(e,t,n,r)}function EN(e){if(e instanceof si)return new si(e.h,e.s,e.l,e.opacity);if(e instanceof hc||(e=lB(e)),!e)return new si;if(e instanceof si)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,A=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new si(o,s,A,e.opacity)}function jue(e,t,n,r){return arguments.length===1?EN(e):new si(e,t,n,r??1)}function si(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ug(si,jue,cB(hc,{brighter(e){return e=e==null?ec:Math.pow(ec,e),new si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ms:Math.pow(Ms,e),new si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn(Cv(e>=240?e-240:e+120,i,r),Cv(e,i,r),Cv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new si(US(this.h),Bd(this.s),Bd(this.l),pp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pp(this.opacity);return`${e===1?"hsl(":"hsla("}${US(this.h)}, ${Bd(this.s)*100}%, ${Bd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function US(e){return e=(e||0)%360,e<0?e+360:e}function Bd(e){return Math.max(0,Math.min(1,e||0))}function Cv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $ue=Math.PI/180,Kue=180/Math.PI;var ON=-.14861,uB=1.78277,fB=-.29227,Pg=-.90649,du=1.97294,PS=du*Pg,NS=du*uB,RS=uB*fB-Pg*ON;function Gue(e){if(e instanceof hs)return new hs(e.h,e.s,e.l,e.opacity);e instanceof Kn||(e=CN(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(RS*r+PS*t-NS*n)/(RS+PS-NS),a=r-i,o=(du*(n-i)-fB*a)/Pg,s=Math.sqrt(o*o+a*a)/(du*i*(1-i)),A=s?Math.atan2(o,a)*Kue-120:NaN;return new hs(A<0?A+360:A,s,i,e.opacity)}function na(e,t,n,r){return arguments.length===1?Gue(e):new hs(e,t,n,r??1)}function hs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ug(hs,na,cB(hc,{brighter(e){return e=e==null?ec:Math.pow(ec,e),new hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ms:Math.pow(Ms,e),new hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*$ue,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Kn(255*(t+n*(ON*r+uB*i)),255*(t+n*(fB*r+Pg*i)),255*(t+n*(du*r)),this.opacity)}}));function zue(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function Vue(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return zue((n-r/t)*t,o,i,a,s)}}const dB=e=>()=>e;function SN(e,t){return function(n){return e+n*t}}function Wue(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Yue(e,t){var n=t-e;return n?SN(e,n>180||n<-180?n-360*Math.round(n/360):n):dB(isNaN(e)?t:e)}function Xue(e){return(e=+e)==1?kA:function(t,n){return n-t?Wue(t,n,e):dB(isNaN(t)?n:t)}}function kA(e,t){var n=t-e;return n?SN(e,n):dB(isNaN(e)?t:e)}(function e(t){var n=Xue(t);function r(i,a){var o=n((i=fu(i)).r,(a=fu(a)).r),s=n(i.g,a.g),A=n(i.b,a.b),c=kA(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=A(l),i.opacity=c(l),i+""}}return r.gamma=e,r})(1);function que(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=fu(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(A){return s.r=r(A),s.g=i(A),s.b=a(A),s+""}}}var Zue=que(Vue);function FN(e){return function t(n){n=+n;function r(i,a){var o=e((i=na(i)).h,(a=na(a)).h),s=kA(i.s,a.s),A=kA(i.l,a.l),c=kA(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=s(l),i.l=A(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=t,r}(1)}FN(Yue);var hB=FN(kA);const Ft=e=>Zue(e[e.length-1]);var _N=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ke);const Jue=Ft(_N);var MN=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ke);const efe=Ft(MN);var kN=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ke);const tfe=Ft(kN);var TN=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ke);const nfe=Ft(TN);var QN=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ke);const rfe=Ft(QN);var IN=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ke);const ife=Ft(IN);var LN=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ke);const afe=Ft(LN);var UN=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ke);const ofe=Ft(UN);var PN=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ke);const sfe=Ft(PN);var NN=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ke);const Afe=Ft(NN);var RN=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ke);const cfe=Ft(RN);var HN=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ke);const lfe=Ft(HN);var DN=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ke);const ufe=Ft(DN);var jN=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ke);const ffe=Ft(jN);var $N=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ke);const dfe=Ft($N);var KN=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ke);const hfe=Ft(KN);var GN=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ke);const pfe=Ft(GN);var zN=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ke);const gfe=Ft(zN);var VN=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ke);const vfe=Ft(VN);var WN=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ke);const yfe=Ft(WN);var YN=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ke);const mfe=Ft(YN);var XN=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ke);const bfe=Ft(XN);var qN=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ke);const wfe=Ft(qN);var ZN=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ke);const Bfe=Ft(ZN);var JN=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ke);const xfe=Ft(JN);var eR=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ke);const Cfe=Ft(eR);var tR=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ke);const Efe=Ft(tR);function Ofe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Sfe=hB(na(300,.5,0),na(-240,.5,1));var Ffe=hB(na(-100,.75,.35),na(80,1.5,.8)),_fe=hB(na(260,.75,.35),na(80,1.5,.8)),xd=na();function Mfe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return xd.h=360*e-100,xd.s=1.5-1.5*t,xd.l=.8-.9*t,xd+""}var Cd=fu(),kfe=Math.PI/3,Tfe=Math.PI*2/3;function Qfe(e){var t;return e=(.5-e)*Math.PI,Cd.r=255*(t=Math.sin(e))*t,Cd.g=255*(t=Math.sin(e+kfe))*t,Cd.b=255*(t=Math.sin(e+Tfe))*t,Cd+""}function Ife(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ng(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Lfe=Ng(Ke("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ufe=Ng(Ke("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pfe=Ng(Ke("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Nfe=Ng(Ke("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Qm=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:bfe,interpolateBrBG:Jue,interpolateBuGn:Afe,interpolateBuPu:cfe,interpolateCividis:Ofe,interpolateCool:_fe,interpolateCubehelixDefault:Sfe,interpolateGnBu:lfe,interpolateGreens:wfe,interpolateGreys:Bfe,interpolateInferno:Pfe,interpolateMagma:Ufe,interpolateOrRd:ufe,interpolateOranges:Efe,interpolatePRGn:efe,interpolatePiYG:tfe,interpolatePlasma:Nfe,interpolatePuBu:dfe,interpolatePuBuGn:ffe,interpolatePuOr:nfe,interpolatePuRd:hfe,interpolatePurples:xfe,interpolateRainbow:Mfe,interpolateRdBu:rfe,interpolateRdGy:ife,interpolateRdPu:pfe,interpolateRdYlBu:afe,interpolateRdYlGn:ofe,interpolateReds:Cfe,interpolateSinebow:Qfe,interpolateSpectral:sfe,interpolateTurbo:Ife,interpolateViridis:Lfe,interpolateWarm:Ffe,interpolateYlGn:vfe,interpolateYlGnBu:gfe,interpolateYlOrBr:yfe,interpolateYlOrRd:mfe,schemeAccent:Bue,schemeBlues:XN,schemeBrBG:_N,schemeBuGn:NN,schemeBuPu:RN,schemeCategory10:wue,schemeDark2:xue,schemeGnBu:HN,schemeGreens:qN,schemeGreys:ZN,schemeObservable10:Cue,schemeOrRd:DN,schemeOranges:tR,schemePRGn:MN,schemePaired:Eue,schemePastel1:Oue,schemePastel2:Sue,schemePiYG:kN,schemePuBu:$N,schemePuBuGn:jN,schemePuOr:TN,schemePuRd:KN,schemePurples:JN,schemeRdBu:QN,schemeRdGy:IN,schemeRdPu:GN,schemeRdYlBu:LN,schemeRdYlGn:UN,schemeReds:eR,schemeSet1:Fue,schemeSet2:_ue,schemeSet3:Mue,schemeSpectral:PN,schemeTableau10:kue,schemeYlGn:VN,schemeYlGnBu:zN,schemeYlOrBr:WN,schemeYlOrRd:YN},Symbol.toStringTag,{value:"Module"}));function Rfe(e,t,n,r,i,a){const{guide:o={}}=n,s=Yfe(e,t,n);if(typeof s!="string")return n;const A=Xfe(s,e,t,n),c=zfe(s,A,n);return Object.assign(Object.assign(Object.assign({},n),Zfe(s,e,t,n,r)),{domain:c,range:qfe(s,e,t,n,c,i,a),expectedDomain:A,guide:o,name:e,type:s})}function Hfe(e,t){const n={};for(const r of e){const{values:i,name:a}=r,o=t[a];for(const s of i){const{name:A,value:c}=s;n[A]=c.map(l=>o.map(l))}}return n}function Dfe(e,t){const n=Array.from(e.values()).flatMap(i=>i.channels);M1(n,i=>i.map(a=>t.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function jfe(e,t){var n;const{components:r=[]}=t,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(e.flatMap(s=>s.channels.map(A=>A.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const A=Gfe(s);for(const c of A){const l=o.get(c),u=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:f=!1}=u;if(l&&!f){const{guide:d}=l,h=typeof d=="boolean"?{}:d;l.guide=ee({},h,s),Object.assign(l,u)}else{const d=Object.assign(Object.assign({},u),{expectedDomain:u.domain,name:c,guide:B1(s,i)});a.push(d)}}}return a}function $fe(e){if(!e||!Array.isArray(e))return[ws,ws];let t,n;return[a=>{var o;t=a.map.bind(a),n=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=e.filter(([f])=>typeof f=="function"),A=e.filter(([f])=>typeof f!="function"),c=new Map(A);if(a.map=f=>{for(const[d,h]of s)if(d(f))return h;return c.has(f)?c.get(f):t(f)},!n)return a;const l=new Map(A.map(([f,d])=>[d,f])),u=new Map(s.map(([f,d])=>[d,f]));return a.invert=f=>u.has(f)?f:l.has(f)?l.get(f):n(f),a},a=>(t!==null&&(a.map=t),n!==null&&(a.invert=n),a)]}function HS(e,t){const n=Object.keys(e);for(const r of Object.values(t)){const{name:i}=r.getOptions();if(!(i in e))e[i]=r;else{const a=n.filter(A=>A.startsWith(i)).map(A=>+(A.replace(i,"")||0)),o=ct(a)+1,s=`${i}${o}`;e[s]=r,r.getOptions().key=s}}return e}function DS(e,t){const[n]=St("scale",t),{relations:r}=e,[i]=$fe(r),a=n(e);return i(a)}function Kfe(e){const t=e.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));jS(t,"x"),jS(t,"y")}function Gfe(e){const{channels:t=[],type:n,scale:r={}}=e,i=["shape","color","opacity","size"];return t.length!==0?t:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function jS(e,t){const n=e.filter(({name:a,facet:o=!0})=>o&&a===t),r=n.flatMap(a=>a.domain),i=n.every(nR)?Ca(r):n.every(rR)?Array.from(new Set(r)):null;if(i!==null)for(const a of n)a.domain=i}function zfe(e,t,n){const{ratio:r}=n;return r==null?t:nR({type:e})?Vfe(t,r,e):rR({type:e})?Wfe(t,r):t}function Vfe(e,t,n){const r=e.map(Number),i=new ka({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*t]});return n==="time"?e.map(a=>new Date(i.map(a))):e.map(a=>i.map(a))}function Wfe(e,t){const n=Math.round(e.length*t);return e.slice(0,n)}function nR(e){const{type:t}=e;return typeof t!="string"?!1:["linear","log","pow","time"].includes(t)}function rR(e){const{type:t}=e;return typeof t!="string"?!1:["band","point","ordinal"].includes(t)}function Yfe(e,t,n){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=n;return r!==void 0?r:lde(t)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?Ev(e,s):i!==void 0?zS([i])?Ev(e,s):VS(t)?"time":KS(e,a,o):zS(t)?Ev(e,s):VS(t)?"time":KS(e,a,o)}function Xfe(e,t,n,r){const{domain:i}=r;if(i!==void 0)return i;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return GS(ade(n,r),r);case"band":case"ordinal":case"point":return ode(n);case"quantile":return sde(n);case"sequential":return GS(Ade(n),r);default:return[]}}function qfe(e,t,n,r,i,a,o){const{range:s}=r;if(typeof s=="string")return Jfe(s);if(s!==void 0)return s;const{rangeMin:A,rangeMax:c}=r;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{const l=$S(n,r,i,a,o),[u,f]=cde(t,l);return[A??u,c??f]}case"band":case"point":return[A??(t==="size"?5:0),c??(t==="size"?10:1)];case"ordinal":return $S(n,r,i,a,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function Zfe(e,t,n,r,i){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return nde(i,r);case"band":case"point":return rde(e,t,i,r);case"sequential":return tde(r);default:return r}}function $S(e,t,n,r,i){const[a]=St("palette",i),{category10:o,category20:s}=r,A=x$(n).length<=o.length?o:s,{palette:c=A,offset:l}=t;if(Array.isArray(c))return c;try{return a({type:c})}catch{const f=ede(c,n,l);if(f)return f;throw new Error(`Unknown Component: ${c} `)}}function Jfe(e){return e.split("-")}function ede(e,t,n=r=>r){if(!e)return null;const r=Co(e),i=Qm[`scheme${r}`],a=Qm[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[t.length];if(o)return o}return t.map((o,s)=>a(n(s/t.length)))}function tde(e){const{palette:t="ylGnBu",offset:n}=e,r=Co(t),i=Qm[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?a=>i(n(a)):i}}function nde(e,t){const{interpolate:n=_u,nice:r=!1,tickCount:i=5}=t;return Object.assign(Object.assign({},t),{interpolate:n,nice:r,tickCount:i})}function rde(e,t,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=ide(e,t,n),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function ide(e,t,n){return t==="enterDelay"||t==="enterDuration"||t==="size"?0:e==="band"?BN(n)?0:.1:e==="point"?.5:0}function Ev(e,t){return t||(ude(e)?"point":"ordinal")}function KS(e,t,n){return n||(e!=="color"||t?"linear":"sequential")}function GS(e,t){if(e.length===0)return e;const{domainMin:n,domainMax:r}=t,[i,a]=e;return[n??i,r??a]}function ade(e,t){const{zero:n=!1}=t;let r=1/0,i=-1/0;for(const a of e)for(const o of a)Bt(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function ode(e){return Array.from(new Set(e.flat()))}function sde(e){return e.flat().sort()}function Ade(e){let t=1/0,n=-1/0;for(const r of e)for(const i of r)Bt(i)&&(t=Math.min(t,+i),n=Math.max(n,+i));return t===1/0?[]:[t<0?-n:t,n]}function cde(e,t){return e==="enterDelay"?[0,1e3]:e=="enterDuration"?[300,1e3]:e.startsWith("y")||e.startsWith("position")?[1,0]:e==="color"?[B$(t),Ck(t)]:e==="opacity"?[0,1]:e==="size"?[1,10]:[0,1]}function zS(e){return pB(e,t=>{const n=typeof t;return n==="string"||n==="boolean"})}function VS(e){return pB(e,t=>t instanceof Date)}function lde(e){return pB(e,DA)}function pB(e,t){for(const n of e)if(n.some(t))return!0;return!1}function ude(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")}function fde(e){return e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e==="enterDelay"||e==="enterDuration"||e==="updateDelay"||e==="updateDuration"||e==="exitDelay"||e==="exitDuration"}function dde(e){if(!e||!e.type)return!1;if(typeof e.type=="function")return!0;const{type:t,domain:n,range:r,interpolator:i}=e,a=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&a&&o||["sequential"].includes(t)&&a&&(o||i)||["constant","identity"].includes(t)&&o)}const hde={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},pde={threshold:"threshold",quantize:"quantize",quantile:"quantile"},gde={ordinal:"ordinal",band:"band",point:"point"},vde={constant:"constant"};var Qo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function yde(e,t,n){const{coordinates:r=[],title:i}=t,[,a]=St("component",n),o=e.filter(({guide:l})=>l!==null),s=[],A=Fde(t,e,n);if(s.push(...A),i){const{props:l}=a("title"),{defaultPosition:u,defaultOrientation:f,defaultOrder:d,defaultSize:h,defaultCrossPadding:p}=l,g=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:u,orientation:f,order:d,crossPadding:p[0],defaultSize:h},g))}return xde(o,r).forEach(([l,u])=>{const{props:f}=a(l),{defaultPosition:d,defaultPlane:h="xy",defaultOrientation:p,defaultSize:g,defaultOrder:v,defaultLength:y,defaultPadding:m=[0,0],defaultCrossPadding:b=[0,0]}=f,w=ee({},...u),{guide:B,field:x}=w,C=Array.isArray(B)?B:[B];for(const E of C){const[O,S]=Ode(l,d,p,E,u,o,r);if(!O&&!S)continue;const _=O==="left"||O==="right",F=_?m[1]:m[0],k=_?b[1]:b[0],{size:Q,order:L=v,length:T=y,padding:M=F,crossPadding:I=k}=E;s.push(Object.assign(Object.assign({title:x},E),{defaultSize:g,length:T,position:O,plane:h,orientation:S,padding:M,order:L,crossPadding:I,size:Q,type:l,scales:u}))}}),s}function WS(e,t,n,r,i){const[a]=St("component",r),{scaleInstances:o,scale:s,bbox:A}=e,c=Qo(e,["scaleInstances","scale","bbox"]),l={bbox:A,library:r};return a(c)({coordinate:t,library:r,markState:i,scales:o,theme:n,value:l,scale:s})}function mde(e){return e.map(t=>{const n=ee(t,t.style);return delete n.style,n})}function iR(e,t){const n=["left","right","bottom","top"];return F1(e,({type:a,position:o,group:s})=>n.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(t!==void 0){const l=a.filter(p=>p.length!==void 0).map(p=>p.length),u=zr(l);if(u>t)return a.forEach(p=>p.group=Symbol("independent")),a;const f=t-u,d=a.length-l.length,h=f/d;a.forEach(p=>{p.length===void 0&&(p.length=h)})}const o=ct(a,l=>l.size),s=ct(a,l=>l.order),A=ct(a,l=>l.crossPadding),c=a[0].position;return{type:"group",size:o,order:s,position:c,children:a,crossPadding:A}})}function bde(e,t){const n=["shape","size","color","opacity"],r=(f,d)=>f==="constant"&&d==="size",i=e.filter(({type:f,name:d})=>typeof f=="string"&&n.includes(d)&&!r(f,d)),a=i.filter(({type:f})=>f==="constant"),o=i.filter(({type:f})=>f!=="constant"),A=F1(o,f=>f.field?f.field:Symbol("independent")).map(([f,d])=>[f,[...d,...a]]).filter(([,f])=>f.some(d=>d.type!=="constant")),c=new Map(A);if(c.size===0)return[];const l=f=>f.sort(([d],[h])=>d.localeCompare(h));return Array.from(c).map(([,f])=>{const h=C$(f).sort((p,g)=>g.length-p.length).map(p=>({combination:p,option:p.map(g=>[g.name,wde(g)])}));for(const{option:p,combination:g}of h)if(!p.every(v=>v[1]==="constant")&&p.every(v=>v[1]==="discrete"||v[1]==="constant"))return["legendCategory",g];for(const[p,g]of Poe)for(const{option:v,combination:y}of h)if(g.some(m=>Nl(l(m),l(v))))return[p,y];return null}).filter(Bt)}function wde(e){const{type:t}=e;return typeof t!="string"?null:t in hde?"continuous":t in gde?"discrete":t in pde?"distribution":t in vde?"constant":null}function Bde(e,t){return e.map(n=>{const{name:r}=n;if(gue(t)||BN(t)||_A(t)&&(is(t)||_l(t)))return null;if(r.startsWith("x"))return is(t)?["axisArc",[n]]:_l(t)?["axisLinear",[n]]:[_A(t)?"axisY":"axisX",[n]];if(r.startsWith("y"))return is(t)?["axisLinear",[n]]:_l(t)?["axisArc",[n]]:[_A(t)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(xN(t))return["axisRadar",[n]];if(!is(t))return["axisY",[n]]}return null}).filter(Bt)}function xde(e,t){const n=e.filter(r=>dde(r));return[...bde(n),...Bde(n,t)]}function Im(e){const t=hi(e,"polar");if(t.length){const r=t[t.length-1],{startAngle:i,endAngle:a}=V_(r);return[i,a]}const n=hi(e,"radial");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=X_(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function Cde(e){const t=/position(\d*)/g.exec(e);return t?+t[1]:null}function Ede(e,t,n,r,i){const{name:a}=n[0];if(e==="axisRadar"){const o=r.filter(f=>f.name.startsWith("position")),s=Cde(a);if(s===null)return[null,null];const[A,c]=Im(i),l=xN(i)?o.length:o.length-1;return["center",(c-A)/l*s+A]}if(e==="axisY"&&vue(i))return _A(i)?["center","horizontal"]:["center","vertical"];if(e==="axisLinear"){const[o]=Im(i);return["center",o]}return e==="axisArc"?t[0]==="inner"?["inner",null]:["outer",null]:is(i)?["center",null]:_l(i)?["center",null]:e==="axisX"&&yue(i)||e==="axisX"&&mue(i)?["top",null]:t}function Ode(e,t,n,r,i,a,o){const[s]=Im(o),A=[r.position||t,s??n];return typeof e=="string"&&e.startsWith("axis")?Ede(e,A,i,a,o):typeof e=="string"&&e.startsWith("legend")&&is(o)&&r.position==="center"?["center","vertical"]:A}function Sde(e,t,n=[]){return e==="x"?_A(n)?`${t}Y`:`${t}X`:e==="y"?_A(n)?`${t}X`:`${t}Y`:null}function Fde(e,t,n){const[,r]=St("component",n),{coordinates:i}=e;function a(o,s,A,c){const l=Sde(s,o,i);if(!c||!l)return;const{props:u}=r(l),{defaultPosition:f,defaultSize:d,defaultOrder:h,defaultCrossPadding:[p]}=u;return Object.assign(Object.assign({position:f,defaultSize:d,order:h,type:l,crossPadding:p},c),{scales:[A]})}return t.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:A,name:c}=o;return[a("slider",c,o,s),a("scrollbar",c,o,A)]}).filter(o=>!!o)}function aR(e,t,n,r,i,a){const{type:o}=e;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const A=o;return(A.startsWith("axis")?Qde:A.startsWith("group")?_de:A.startsWith("legendContinuous")?Ide:A==="legendCategory"?Lde:A.startsWith("slider")?Tde:A==="title"?kde:A.startsWith("scrollbar")?Mde:()=>{})(e,t,n,r,i,a)}function _de(e,t,n,r,i,a){const{children:o}=e,s=ct(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>aR(c,t,n,r,i,a));const A=ct(o,c=>c.size);e.size=A,o.forEach(c=>c.size=A)}function Mde(e,t,n,r,i,a){const{trackSize:o=6}=ee({},i.scrollbar,e);e.size=o}function kde(e,t,n,r,i,a){const o=ee({},i.title,e),{title:s,subtitle:A,spacing:c=0}=o,l=Qo(o,["title","subtitle","spacing"]);if(s){const u=de(l,"title"),f=gp(s,u);e.size=f.height}if(A){const u=de(l,"subtitle"),f=gp(A,u);e.size+=c+f.height}}function Tde(e,t,n,r,i,a){const o=()=>{const{slider:l}=i;return ee({},l,e)},{trackSize:s,handleIconSize:A}=o(),c=Math.max(s,A*2.4);e.size=c}function Qde(e,t,n,r,i,a){var o,s;e.transform=e.transform||[{type:"hide"}];const A=r==="left"||r==="right",c=oR(e,r,i),{tickLength:l=0,labelSpacing:u=0,titleSpacing:f=0,labelAutoRotate:d}=c,h=Qo(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=Rg(e,a),g=hu(h,p);let v=l;if(typeof e.tickLength=="function"){const w=(((o=p.getTicks)===null||o===void 0?void 0:o.call(p))||p.getOptions().domain).map((B,x,C)=>e.tickLength(B,x,C));v=Math.max(...w,0)}const y=v+u;if(g&&g.length){const b=ct(g,B=>B.width),w=ct(g,B=>B.height);if(A)e.size=b+y;else{const{tickFilter:B,labelTransform:x}=e;Nde(p,g,t,n,B)&&!x&&d!==!1&&d!==null?(e.labelTransform="rotate(90)",e.size=b+y):(e.labelTransform=(s=e.labelTransform)!==null&&s!==void 0?s:"rotate(0)",e.size=w+y)}}else e.size=v;const m=Hg(h);m&&(A?e.size+=f+m.width:e.size+=f+m.height)}function Ide(e,t,n,r,i,a){const s=(()=>{const{legendContinuous:b}=i;return ee({},b,e)})(),{labelSpacing:A=0,titleSpacing:c=0}=s,l=Qo(s,["labelSpacing","titleSpacing"]),u=r==="left"||r==="right",f=de(l,"ribbon"),{size:d}=f,h=de(l,"handleIcon"),{size:p}=h,g=Math.max(d,p*2.4);e.size=g;const v=Rg(e,a),y=hu(l,v);if(y){const b=u?"width":"height",w=ct(y,B=>B[b]);e.size+=w+A}const m=Hg(l);m&&(u?e.size=Math.max(e.size,m.width):e.size+=c+m.height)}function Lde(e,t,n,r,i,a){const s=(()=>{const{legendCategory:M}=i,{title:I}=e,[U,R]=Array.isArray(I)?[I,void 0]:[void 0,I];return ee({title:U},M,Object.assign(Object.assign({},e),{title:R}))})(),{focus:A,itemSpacing:c,focusMarkerSize:l,itemMarkerSize:u,titleSpacing:f,rowPadding:d,colPadding:h,maxCols:p=1/0,maxRows:g=1/0}=s,v=Qo(s,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:y,length:m}=e,b=M=>Math.min(M,g),w=M=>Math.min(M,p),B=r==="left"||r==="right",x=m===void 0?t+(B?0:n[0]+n[1]):m,C=Rg(e,a),{render:E}=e;if(E&&typeof document<"u"){const M=C.getOptions().domain,{labelFormatter:I}=v,U=z=>I?typeof I=="string"?Ra(I)(z):I(z):`${z}`,R=M.map((z,ne)=>({id:z,index:ne,label:U(z),value:z,color:C.map(z)})),N=E(R,v),j=document.createElement("div"),{width:K,height:$}=e,V={position:"absolute",visibility:"hidden",top:"-9999px"};K?V.width=`${K}px`:B||(V.width=`${x}px`),$?V.height=`${$}px`:B&&(V.height=`${x}px`),Object.assign(j.style,V),typeof N=="string"?j.innerHTML=N:N instanceof HTMLElement&&j.appendChild(N),document.body.appendChild(j);const W=j.getBoundingClientRect();document.body.removeChild(j),e.size=B?W.width:W.height;return}const O=Hg(v),S=hu(v,C,"itemLabel"),_=v.itemValueText!==void 0?hu(v,C,"itemValue"):null,F=Math.max(S[0].height,u,..._!=null&&_[0]?[_[0].height]:[])+d,k=(M,I=0)=>{let U=u+M+c[0]+I;return _!=null&&_[0]&&(U+=_[0].width+c[1]),A&&(U+=l+c[2]),U};B?(()=>{let M=-1/0,I=0,U=1,R=0,N=-1/0,j=-1/0;const K=O?O.height:0,$=x-K;for(const{width:V}of S){const W=k(V,h);M=Math.max(M,W),I+F>$?(U++,N=Math.max(N,R),j=Math.max(j,I),R=1,I=F):(I+=F,R++)}U<=1&&(N=R,j=I),e.size=M*w(U),e.length=j+K,ee(e,{cols:w(U),gridRow:N})})():typeof y=="number"?(()=>{const M=Math.ceil(S.length/y),I=ct(S,U=>k(U.width))*y;e.size=F*b(M)-d,e.length=Math.min(I,x)})():(()=>{let M=1,I=0,U=-1/0;for(const{width:R}of S){const N=k(R,h);I+N>x?(U=Math.max(U,I),I=N,M++):I+=N}M===1&&(U=I),e.size=F*b(M)-d,e.length=U})(),O&&(B?e.size=Math.max(e.size,O.width):e.size+=f+O.height)}function Rg(e,t){const[n]=St("scale",t),{scales:r,tickCount:i,tickMethod:a}=e,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),n(o)}function hu(e,t,n="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=e,o=Qo(e,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=Ude(t,r,i),A=de(o,n),c=s.map((f,d)=>Object.fromEntries(Object.entries(A).map(([h,p])=>[h,typeof p=="function"?p(f,d):p]))),l=s.map((f,d)=>{const h=c[d];return gp(f,h)});if(!c.some(f=>f.transform)){const f=s.map((d,h)=>h);e.indexBBox=new Map(f.map(d=>[d,[s[d],l[d]]]))}return l}function Hg(e){const t=c=>c===!1||c===null,{title:n}=e,r=Qo(e,["title"]);if(t(n)||n===void 0)return null;const i=de(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:gp(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function oR(e,t,n){const{title:r}=e,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${$1(t)}`]:s}=n;return ee({title:i},o,s,Object.assign(Object.assign({},e),{title:a}))}function sR(e,t){const n=e.getTicks?e.getTicks():e.getOptions().domain;return t?n.filter(t):n}function Ude(e,t,n){const i=sR(e,n).map(o=>typeof o=="number"?Ph(o):o),a=t?typeof t=="string"?Ra(t):t:e.getFormatter?e.getFormatter():o=>`${o}`;return i.map(a)}function Pde(e,t){return e.getBandWidth?e.getBandWidth(t)/2:0}function Nde(e,t,n,r,i){if(zr(t,d=>d.width)>n)return!0;const o=e.clone();o.update({range:[0,n]});const s=sR(e,i),A=s.map(d=>o.map(d)+Pde(o,d)),c=s.map((d,h)=>h),l=-r[0],u=n+r[1],f=(d,h)=>{const{width:p}=h;return[d-p/2,d+p/2]};for(let d=0;d<c.length;d++){const h=A[d],[p,g]=f(h,t[d]);if(p<l||g>u)return!0;const v=A[d+1];if(v){const[y]=f(v,t[d+1]);if(g>y)return!0}}return!1}function gp(e,t){const n=Rde(e),{filter:r}=t,i=Qo(t,["filter"]);return n.attr(Object.assign(Object.assign({},i),{visibility:"none"})),n.getBBox()}function Rde(e){return e instanceof Ot?e:new fi({style:{text:`${e}`}})}const YS=16;function Hde(e){const t=e.find(({type:i})=>i==="axisX"),n=e.find(({type:i})=>i==="axisY"),r=e.find(({type:i})=>i==="axisZ");t&&n&&r&&(t.plane="xy",n.plane="xy",r.plane="yz",r.origin=[t.bbox.x,t.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=t.bbox.x,r.bbox.y=t.bbox.y,e.push(Object.assign(Object.assign({},t),{plane:"xz",showLabel:!1,showTitle:!1,origin:[t.bbox.x,t.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function Dde(e,t,n,r){var i,a,o,s;const{width:A,height:c,depth:l,x:u=0,y:f=0,z:d=0,inset:h=(i=n.inset)!==null&&i!==void 0?i:0,insetLeft:p=h,insetTop:g=h,insetBottom:v=h,insetRight:y=h,margin:m=(a=n.margin)!==null&&a!==void 0?a:0,marginLeft:b=m,marginBottom:w=m,marginTop:B=m,marginRight:x=m,padding:C=n.padding,paddingBottom:E=C,paddingLeft:O=C,paddingRight:S=C,paddingTop:_=C}=$de(e,t,n,r),F=b===YS&&O==="auto",k=x===YS&&S==="auto",Q=We(t,"coordinates",[]).some(J=>J.type==="transpose"),L=e.find(({type:J})=>J==="axisX"),{size:T,labelTransform:M}=L||{},I=1/4,U=(J,te,ae,re,he)=>{const{marks:ue}=t;if(ue.length===0)return[re,he];if(J-re-he-J*I>0)return[re,he];const me=J*(1-I);return[te==="auto"?me*re/(re+he):re,ae==="auto"?me*he/(re+he):he]},R=J=>J==="auto"?20:J??20,N=R(_),j=R(E),K=XS(e,c-N-j,[N+B,j+w],["left","right"],t,n,r),{paddingLeft:$,paddingRight:V}=K,W=A-b-x;let[z,ne]=U(W,O,S,$,V),ie=W-z-ne;const le=XS(e,ie,[z+b,ne+x],["bottom","top"],t,n,r),{paddingTop:P,paddingBottom:D}=le,G=c-w-B,[Y,X]=U(G,E,_,D,P),q=G-Y-X;if(T&&!Q&&!M){const{fontSize:J=12,fontFamily:te="sans-serif",scales:ae=[]}=L,re=(s=(o=ae==null?void 0:ae[0])===null||o===void 0?void 0:o.domain)!==null&&s!==void 0?s:[];if(!re.length)return;const he=(ue,ge,ye,me)=>{const Ce=uL(ge,{fontSize:J,fontFamily:te}),Se=Ce/2-ye-me;Se>0&&(ie-=Se,ue==="left"?z+=Ce/2-ye:ne+=Ce/2-ye)};F&&he("left",N5(re),b,z),k&&he("right",Br(re),x,ne)}return{width:A,height:c,depth:l,insetLeft:p,insetTop:g,insetBottom:v,insetRight:y,innerWidth:ie,innerHeight:q,paddingLeft:z,paddingRight:ne,paddingTop:X,paddingBottom:Y,marginLeft:b,marginBottom:w,marginTop:B,marginRight:x,x:u,y:f,z:d}}function jde(e){const{height:t,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:A=16,marginLeft:c=A,marginRight:l=A,marginTop:u=A,marginBottom:f=A,inset:d=0,insetLeft:h=d,insetRight:p=d,insetTop:g=d,insetBottom:v=d}=e,y=w=>w==="auto"?20:w,m=n-y(i)-y(a)-c-l-h-p,b=t-y(o)-y(s)-u-f-g-v;return{width:m,height:b}}function $de(e,t,n,r){const{coordinates:i}=t;if(!is(i)&&!_l(i))return t;const a=e.filter(v=>typeof v.type=="string"&&v.type.startsWith("axis"));if(a.length===0)return t;const o=a.map(v=>{const y=v.type==="axisArc"?"arc":"linear";return oR(v,y,n)}),s=ct(o,v=>{var y;return(y=v.labelSpacing)!==null&&y!==void 0?y:0}),A=a.flatMap((v,y)=>{const m=o[y],b=Rg(v,r);return hu(m,b)}).filter(Bt),c=ct(A,v=>v.height)+s,l=a.flatMap((v,y)=>{const m=o[y];return Hg(m)}).filter(v=>v!==null),u=l.length===0?0:ct(l,v=>v.height),{inset:f=c,insetLeft:d=f,insetBottom:h=f,insetTop:p=f+u,insetRight:g=f}=t;return Object.assign(Object.assign({},t),{insetLeft:d,insetBottom:h,insetTop:p,insetRight:g})}function XS(e,t,n,r,i,a,o){const s=bt(e,h=>h.position),{padding:A=a.padding,paddingLeft:c=A,paddingRight:l=A,paddingBottom:u=A,paddingTop:f=A}=i,d={paddingBottom:u,paddingLeft:c,paddingTop:f,paddingRight:l};for(const h of r){const p=`padding${$1(Nb(h))}`,g=s.get(h)||[],v=d[p],y=E=>{E.size===void 0&&(E.size=E.defaultSize)},m=E=>{E.type==="group"?(E.children.forEach(y),E.size=ct(E.children,O=>O.size)):E.size=E.defaultSize},b=E=>{E.size||(v!=="auto"?m(E):(aR(E,t,n,h,a,o),y(E)))},w=E=>{E.type.startsWith("axis")&&E.labelAutoHide===void 0&&(E.labelAutoHide=!0)},B=h==="bottom"||h==="top",x=Or(g,E=>E.order),C=g.filter(E=>E.type.startsWith("axis")&&E.order==x);if(C.length&&(C[0].crossPadding=0),typeof v=="number")g.forEach(y),g.forEach(w);else if(g.length===0)d[p]=0;else{const E=B?t+n[0]+n[1]:t,O=iR(g,E);O.forEach(b);const S=O.reduce((_,{size:F,crossPadding:k=12})=>_+F+k,0);d[p]=S}}return d}function Kde(e,t,n){const r=bt(e,B=>`${B.plane||"xy"}-${B.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:p,insetRight:g,insetTop:v,height:y,width:m,depth:b}=n,w={xy:Ov({width:m,height:y,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:p,insetRight:g,insetTop:v}),yz:Ov({width:b,height:y,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:y,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:Ov({width:m,height:b,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:m,innerHeight:b,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[B,x]of r.entries()){const[C,E]=B.split("-"),O=w[C][E],[S,_]=Ek(x,F=>typeof F.type!="string"?!1:!!(E==="center"||F.type.startsWith("axis")&&["inner","outer"].includes(E)));S.length&&Gde(S,t,O,E),_.length&&ehe(x,t,O)}}function Ov({width:e,height:t,paddingLeft:n,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:A,marginRight:c,innerHeight:l,innerWidth:u,insetBottom:f,insetLeft:d,insetRight:h,insetTop:p}){const g=n+o,v=i+s,y=r+c,m=a+A,b=e-o-c,w=[g+d,v+p,u-d-h,l-p-f,"center",null,null];return{top:[g,0,u,v,"vertical",!0,zt,o,b],right:[e-y,v,y,l,"horizontal",!1,zt],bottom:[g,t-m,u,m,"vertical",!1,zt,o,b],left:[0,v,g,l,"horizontal",!0,zt],"top-left":[g,0,u,v,"vertical",!0,zt],"top-right":[g,0,u,v,"vertical",!0,zt],"bottom-left":[g,t-m,u,m,"vertical",!1,zt],"bottom-right":[g,t-m,u,m,"vertical",!1,zt],center:w,inner:w,outer:w}}function Gde(e,t,n,r){const[i,a]=Ek(e,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));zde(i,t,n,r),the(a,t,n)}function zde(e,t,n,r){r==="center"?OK(t)?Jde(e,t,n):lt(t)?Yde(e,t,n):Wp(t)&&Xde(e,t,n,e[0].orientation):r==="inner"?Vde(e,t,n):r==="outer"&&Wde(e,t,n)}function Vde(e,t,n){const[r,i,,a]=n,[o,s]=t.getCenter(),[A]=Yp(t),c=a/2,l=A*c,u=o-l,f=s-l;for(let d=0;d<e.length;d++){const h=e[d];h.bbox={x:r+u,y:i+f,width:l*2,height:l*2}}}function Wde(e,t,n){const[r,i,a,o]=n;for(const s of e)s.bbox={x:r,y:i,width:a,height:o}}function Yde(e,t,n){const[r,i,a,o]=n;for(const s of e)s.bbox={x:r,y:i,width:a,height:o}}function Xde(e,t,n,r){r==="horizontal"?Zde(e,t,n):r==="vertical"&&qde(e,t,n)}function qde(e,t,n){const[r,i,,a]=n,o=new Array(e.length).fill(0),A=t.map(o).filter((c,l)=>l%2===0).map(c=>c+r);for(let c=0;c<e.length;c++){const l=e[c],u=A[c],f=A[c+1]-u;l.bbox={x:u,y:i,width:f,height:a}}}function Zde(e,t,n){const[r,i,a]=n,o=new Array(e.length).fill(0),A=t.map(o).filter((c,l)=>l%2===1).map(c=>c+i);for(let c=0;c<e.length;c++){const l=e[c],u=A[c],f=A[c+1]-u;l.bbox={x:r,y:u,width:a,height:f}}}function Jde(e,t,n,r){const[i,a,o,s]=n;for(const A of e)A.bbox={x:i,y:a,width:o,height:s},A.radar={index:e.indexOf(A),count:e.length}}function ehe(e,t,n){const[r,i,a,o,s,A,c,l,u]=n,[f,d,h,p,g,v,y,m]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];e.sort((E,O)=>c==null?void 0:c(E.order,O.order));const b=E=>E==="title"||E==="group"||E.startsWith("legend"),w=(E,O,S)=>S===void 0?O:b(E)?S:O,B=(E,O,S)=>S===void 0?O:b(E)?S:O,x=A?d+v:d;for(let E=0,O=x;E<e.length;E++){const S=e[E],{crossPadding:_=0,type:F}=S,{size:k}=S;S.bbox={[f]:A?O-k-_:O+_,[h]:B(F,p,l),[g]:k,[y]:w(F,m,u)},O+=(k+_)*(A?-1:1)}const C=e.filter(E=>E.type==="group");for(const E of C){const{bbox:O,children:S}=E,_=O[y],F=_/S.length,k=S.reduce((I,U)=>{var R;const N=(R=U.layout)===null||R===void 0?void 0:R.justifyContent;return N||I},"flex-start"),Q=S.map((I,U)=>{const{length:R=F,padding:N=0}=I;return R+(U===S.length-1?0:N)}),L=zr(Q),T=_-L,M=k==="flex-start"?0:k==="center"?T/2:T;for(let I=0,U=O[h]+M;I<S.length;I++){const R=S[I],{padding:N=0}=R,j=I===S.length-1?0:N;R.bbox={[g]:O[g],[f]:O[f],[h]:U,[y]:Q[I]-j},ee(R,{layout:{justifyContent:k}}),U+=Q[I]}}}function the(e,t,n){if(e.length===0)return;const[r,i,a,o]=n,[s]=Yp(t),A=o/2*s/Math.sqrt(2),c=r+a/2,l=i+o/2;for(let u=0;u<e.length;u++){const f=e[u];f.bbox={x:c-A,y:l-A,width:A*2,height:A*2}}}var nhe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},tc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gB=Symbol("CALLBACK_ITEM");function rhe(e,t,n){const{encode:r={},scale:i={},transform:a=[]}=t,o=tc(t,["encode","scale","transform"]);return[e,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function AR(e,t,n){return nhe(this,void 0,void 0,function*(){const{library:r}=n,{data:i}=t,[a]=St("data",r),o=vhe(i),{transform:s=[]}=o,l=[tc(o,["transform"]),...s].map(d=>a(d,n)),u=yield y$(l)(i),f=i&&!Array.isArray(i)&&!Array.isArray(u)?{value:u}:u;return[Array.isArray(u)?Is(u):[],Object.assign(Object.assign({},t),{data:f})]})}function ihe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=`${a}${s===0?"":s}`;i[A]=o[s]}else i[a]=o;return[e,Object.assign(Object.assign({},t),{encode:i})]}function ahe(e,t,n){const{encode:r,data:i}=t;if(!r)return[e,t];const a=qi(r,o=>hhe(o)?o:{type:phe(i,o),value:o});return[e,Object.assign(Object.assign({},t),{encode:a})]}function ohe(e,t,n){const{encode:r}=t;if(!r)return[e,t];const i=qi(r,(a,o)=>{const{type:s}=a;return s!=="constant"||fde(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:i})]}function she(e,t,n){const{encode:r,data:i}=t;if(!r)return[e,t];const{library:a}=n,o=bhe(a),s=qi(r,A=>o(i,A));return[e,Object.assign(Object.assign({},t),{encode:s})]}function Ahe(e,t,n){const{tooltip:r={}}=t;return Ta(r)?[e,t]:Array.isArray(r)?[e,Object.assign(Object.assign({},t),{tooltip:{items:r}})]:DA(r)&&WU(r)?[e,Object.assign(Object.assign({},t),{tooltip:r})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[r]}})]}function che(e,t,n){const{data:r,encode:i,tooltip:a={}}=t;if(Ta(a))return[e,t];const o=u=>{if(!u)return u;if(typeof u=="string")return e.map(f=>({name:u,value:r[f][u]}));if(DA(u)){const{field:f,channel:d,color:h,name:p=f,valueFormatter:g=B=>B}=u,v=typeof g=="string"?Ra(g):g,y=d&&i[d],m=y&&i[d].field,b=p||m||d,w=[];for(const B of e){const x=f?r[B][f]:y?i[d].value[B]:null;w[B]={name:b,color:h,value:v(x)}}return w}if(typeof u=="function"){const f=[];for(const d of e){const h=u(r[d],d,r,i);DA(h)?f[d]=Object.assign(Object.assign({},h),{[gB]:!0}):f[d]={value:h}}return f}return u},{title:s,items:A=[]}=a,c=tc(a,["title","items"]),l=Object.assign({title:o(s),items:Array.isArray(A)?A.map(o):[]},c);return[e,Object.assign(Object.assign({},t),{tooltip:l})]}function lhe(e,t,n){const{encode:r}=t,i=tc(t,["encode"]);if(!r)return[e,t];const a=Object.entries(r),o=a.filter(([,A])=>{const{value:c}=A;return Array.isArray(c[0])}).flatMap(([A,c])=>{const l=[[A,new Array(e.length).fill(void 0)]],{value:u}=c,f=tc(c,["value"]);for(let d=0;d<u.length;d++){const h=u[d];if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=l[p]||[`${A}${p}`,new Array(e).fill(void 0)];g[1][d]=h[p],l[p]=g}}return l.map(([d,h])=>[d,Object.assign({type:"column",value:h},f)])}),s=Object.fromEntries([...a,...o]);return[e,Object.assign(Object.assign({},i),{encode:s})]}function uhe(e,t,n){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=t,s=(c,l)=>{if(typeof c=="boolean")return c?{}:null;const u=c[l];return u===void 0||u?u:null},A=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return ee(t,{scale:Object.assign(Object.assign({},Object.fromEntries(A.map(c=>{const l=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(a,c),scrollbar:l},l&&{ratio:l.ratio===void 0?.5:l.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[e,t]}function fhe(e,t,n){const{animate:r}=t;return r||r===void 0?[e,t]:(ee(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t])}function dhe(e,t,n){var r,i;return ee(t,{scale:{series:Object.assign({key:`DEFAULT_${t.type}_SERIES_KEY`},(i=(r=t==null?void 0:t.scale)===null||r===void 0?void 0:r.series)!==null&&i!==void 0?i:{})}}),[e,t]}function hhe(e){if(typeof e!="object"||e instanceof Date||e===null)return!1;const{type:t}=e;return Bt(t)}function phe(e,t){return typeof t=="function"?"transform":typeof t=="string"&&ghe(e,t)?"field":"constant"}function ghe(e,t){return Array.isArray(e)?e.some(n=>n[t]!==void 0):!1}function vhe(e){if(Et(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};const{type:t="inline"}=e,n=tc(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}var cR=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},yhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mhe(e,t,n){return cR(this,void 0,void 0,function*(){const[r,i]=yield whe(e,t,n),{encode:a,scale:o,data:s,tooltip:A,key:c}=i;if(Array.isArray(s)===!1)return null;const{channels:l}=t,u=M1(Object.entries(a).filter(([,d])=>Bt(d)),d=>d.map(([h,p])=>Object.assign({name:h},p)),([d])=>{var h;const p=(h=/([^\d]+)\d*$/.exec(d))===null||h===void 0?void 0:h[1],g=l.find(v=>v.name===p);return g!=null&&g.independent?d:p}),f=l.filter(d=>{const{name:h,required:p}=d;if(u.find(([g])=>g===h))return!0;if(p)throw new Error(`Missing encoding for channel: ${h}.`);return!1}).flatMap(d=>{const{name:h,scale:p,scaleKey:g,range:v,quantitative:y,ordinal:m}=d;return u.filter(([w])=>w.startsWith(h)).map(([w,B],x)=>{const C=B.some(T=>T.visual),E=B.some(T=>T.constant),O=o[w]||{},{independent:S=!1,key:_=g||w,type:F=E?"constant":C?"identity":p}=O,k=yhe(O,["independent","key","type"]),Q=F==="constant",L=Q?void 0:v;return{name:w,values:B,scaleKey:S||Q?Symbol("independent"):_,scale:Object.assign(Object.assign({type:F,markKey:c,range:L},k),{quantitative:y,ordinal:m})}})});return[i,Object.assign(Object.assign({},t),{index:r,channels:f,tooltip:A})]})}function bhe(e){const[t]=St("encode",e);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:t(r)(n),field:Bhe(r)})}function whe(e,t,n){return cR(this,void 0,void 0,function*(){const{library:r}=n,[i]=St("transform",r),{preInference:a=[],postInference:o=[]}=t,{transform:s=[]}=e,A=[rhe,AR,ihe,ahe,ohe,she,lhe,fhe,uhe,Ahe,dhe,...a.map(i),...s.map(i),...o.map(i),che];let c=[],l=e;for(const u of A)[c,l]=yield u(c,l,n);return[c,l]})}function Bhe(e){const{type:t,value:n}=e;return t==="field"&&typeof n=="string"?n:null}var Oa=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function vB(e,t,n){return Oa(this,void 0,void 0,function*(){var r;const{library:i}=n,[a]=St("composition",i),[o]=St("interaction",i),s=new Set(Object.keys(i).map(F=>{var k;return(k=/mark\.(.*)/.exec(F))===null||k===void 0?void 0:k[1]}).filter(Bt)),A=new Set(Object.keys(i).map(F=>{var k;return(k=/component\.(.*)/.exec(F))===null||k===void 0?void 0:k[1]}).filter(Bt)),c=F=>{const{type:k}=F;if(typeof k=="function"){const{props:Q={}}=k,{composite:L=!0}=Q;if(L)return"mark"}return typeof k!="string"?k:s.has(k)||A.has(k)?"mark":k},l=F=>c(F)==="mark",u=F=>c(F)==="standardView",f=F=>{const{type:k}=F;return typeof k!="string"?!1:!!A.has(k)},d=F=>{if(u(F))return[F];const k=c(F);return a({type:k,static:f(F)})(F)},h=[],p=new Map,g=new Map,v=[e],y=[];for(;v.length;){const F=v.shift();if(u(F)){const k=g.get(F),[Q,L]=k?fR(k,F,i):yield lR(F,n);p.set(Q,F),h.push(Q);const T=L.flatMap(d).map(M=>wN(M,i));if(v.push(...T),T.every(u)){const M=yield Promise.all(T.map(I=>uR(I,n)));Kfe(M);for(let I=0;I<T.length;I++){const U=T[I],R=M[I];g.set(U,R)}}}else{const k=l(F)?F:yield gR(F,n),Q=d(k);Array.isArray(Q)?v.push(...Q):typeof Q=="function"&&y.push(Q())}}n.emitter.emit(ht.BEFORE_PAINT);const m=new Map,b=new Map,w=[];t.selectAll(Gr(Kh)).data(h,F=>F.key).join(F=>F.append("g").attr("className",Kh).attr("id",k=>k.key).call(qS).each(function(k,Q,L){Um(k,_e(L),w,n),m.set(k,L)}),F=>F.call(qS).each(function(k,Q,L){Um(k,_e(L),w,n),b.set(k,L)}),F=>F.each(function(k,Q,L){const T=L.nameInteraction.values();for(const M of T)M.destroy()}).remove());const B=(F,k,Q)=>Array.from(F.entries()).map(([L,T])=>{const M=Q||new Map,I=(j,K=$=>$)=>M.set(j,K),U=p.get(L),R=Che(_e(T),U,n),N={view:L,container:T,options:U,setState:I,update:(j,K)=>Oa(this,void 0,void 0,function*(){const V=j1(Array.from(M.values()))(U);return yield R(V,j,()=>{Cn(K)&&k(F,K,M)})})};return n.externals.update=N.update,n.externals.setState=I,N}),x=(F=b,k,Q)=>{var L;const T=B(F,x,Q);for(const M of T){const{options:I,container:U}=M,R=U.nameInteraction;let N=vp(I);k&&(N=N.filter(j=>k.includes(j[0])));for(const j of N){const[K,$]=j,V=R.get(K);if(V&&((L=V.destroy)===null||L===void 0||L.call(V)),$){const z=Lm(M.view,K,$,o)(M,T,n.emitter);R.set(K,{destroy:z})}}}},C=B(m,x);for(const F of C){const{options:k}=F,Q=new Map;F.container.nameInteraction=Q;for(const L of vp(k)){const[T,M]=L;if(M){const U=Lm(F.view,T,M,o)(F,C,n.emitter);Q.set(T,{destroy:U})}}}x();const{width:E,height:O}=e,S=[];for(const F of y){const k=new Promise(Q=>Oa(this,void 0,void 0,function*(){for(const L of F){const T=Object.assign({width:E,height:O},L);yield vB(T,t,n)}Q()}));S.push(k)}n.views=h,(r=n.animations)===null||r===void 0||r.forEach(F=>F==null?void 0:F.cancel()),n.animations=w,n.emitter.emit(ht.AFTER_PAINT);const _=w.filter(Bt).map(Hhe).map(F=>F.finished);return Promise.all([..._,...S])})}function qS(e){e.style("transform",t=>`translate(${t.layout.x}, ${t.layout.y})`)}function xhe(e){const[,t]=St("interaction",e);return n=>{const[r,i]=n;try{return[r,t(r)]}catch{return[r,i.type]}}}function Che(e,t,n){const{library:r}=n,i=xhe(r),a=A=>A[1]&&A[1].props&&A[1].props.reapplyWhenUpdate,s=vp(t).map(i).filter(a).map(A=>A[0]);return(A,c,l)=>Oa(this,void 0,void 0,function*(){const u=[],[f,d]=yield lR(A,n);Um(f,e,u,n);for(const h of s.filter(p=>p!==c))Ehe(h,e,A,f,n);for(const h of d)vB(h,e,n);return l(),{options:A,view:f}})}function Ehe(e,t,n,r,i){var a;const{library:o}=i,[s]=St("interaction",o),c=t.node().nameInteraction,l=vp(n).find(([p])=>p===e),u=c.get(e);if(!u||((a=u.destroy)===null||a===void 0||a.call(u),!l[1]))return;const f=Lm(r,e,l[1],s),d={options:n,view:r,container:t.node(),update:p=>Promise.resolve(p)},h=f(d,[],i.emitter);c.set(e,{destroy:h})}function lR(e,t){return Oa(this,void 0,void 0,function*(){const{library:n}=t,r=yield She(e,t),i=Ohe(r);e.interaction=i.interaction,e.coordinate=i.coordinate,e.marks=[...i.marks,...i.components];const a=wN(i,n),o=yield uR(a,t);return fR(o,a,n)})}function Ohe(e){const{coordinate:t={},interaction:n={},style:r={},marks:i}=e,a=bo(e,["coordinate","interaction","style","marks"]),o=i.map(f=>f.coordinate||{}),s=i.map(f=>f.interaction||{}),A=i.map(f=>f.viewStyle||{}),c=[...o,t].reduceRight((f,d)=>ee(f,d),{}),l=[n,...s].reduce((f,d)=>ee(f,d),{}),u=[...A,r].reduce((f,d)=>ee(f,d),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:l,style:u})}function She(e,t){return Oa(this,void 0,void 0,function*(){const{library:n}=t,[r,i]=St("mark",n),a=new Set(Object.keys(n).map(d=>{var h;return(h=/component\.(.*)/.exec(d))===null||h===void 0?void 0:h[1]}).filter(Bt)),{marks:o}=e,s=[],A=[],c=[...o],{width:l,height:u}=jde(e),f={options:e,width:l,height:u};for(;c.length;){const[d]=c.splice(0,1),h=yield gR(d,t),{type:p=HA("G2Mark type is required."),key:g}=h;if(a.has(p))A.push(h);else{const{props:v={}}=i(p),{composite:y=!0}=v;if(!y)s.push(h);else{const{data:m}=h,b=Object.assign(Object.assign({},h),{data:m&&(Array.isArray(m)?m:m.value)}),w=yield r(b,f),B=Array.isArray(w)?w:[w];c.unshift(...B.map((x,C)=>Object.assign(Object.assign({},x),{key:`${g}-${C}`})))}}}return Object.assign(Object.assign({},e),{marks:s,components:A})})}function uR(e,t){return Oa(this,void 0,void 0,function*(){const{library:n}=t,[r]=St("theme",n),[,i]=St("mark",n),{theme:a,marks:o,coordinates:s=[]}=e,A=r(pR(a)),c=new Map;for(const u of o){const{type:f}=u,{props:d={}}=i(f),h=yield mhe(u,d,t);if(h){const[p,g]=h;c.set(p,g)}}const l=bt(Array.from(c.values()).flatMap(u=>u.channels),({scaleKey:u})=>u);for(const u of l.values()){const f=u.reduce((b,{scale:w})=>ee(b,w),{}),{scaleKey:d}=u[0],{values:h}=u[0],p=Array.from(new Set(h.map(b=>b.field).filter(Bt))),g=ee({guide:{title:p.length===0?void 0:p},field:p[0]},f),{name:v}=u[0],y=u.flatMap(({values:b})=>b.map(w=>w.value)),m=Object.assign(Object.assign({},Rfe(v,y,g,s,A,n)),{uid:Symbol("scale"),key:d});u.forEach(b=>b.scale=m)}return c})}function Lm(e,t,n,r){const i=e.theme,a=typeof t=="string"?i[t]||{}:{};return r(ee(a,Object.assign({type:t},n)))}function fR(e,t,n){var r;const[i]=St("mark",n),[a]=St("theme",n),[o]=St("labelTransform",n),{key:s,frame:A=!1,theme:c,clip:l,style:u={},labelTransform:f=[]}=t,d=a(pR(c)),h=Array.from(e.values()),p=jfe(h,t),g=mde(yde($he(Array.from(p),h,e),t,n)),v=Dde(g,t,d,n),y=pue(v,t,n),m=A?ee({mainLineWidth:1,mainStroke:"#000"},u):u;Kde(iR(g),y,v),Hde(g);const b=new Map(Array.from(e.values()).flatMap(E=>{const{channels:O}=E;return O.map(({scale:S})=>[S.uid,DS(S,n)])}));Dfe(e,b);const w={};for(const E of g){const{scales:O=[]}=E,S=[];for(const _ of O){const{name:F,uid:k}=_,Q=(r=b.get(k))!==null&&r!==void 0?r:DS(_,n);S.push(Q),F==="y"&&Q.update(Object.assign(Object.assign({},Q.getOptions()),{xScale:w.x})),HS(w,{[F]:Q})}E.scaleInstances=S}const B=[],x=new Map;for(const[E,O]of e.entries()){const{children:S,dataDomain:_,modifier:F,key:k,data:Q}=E;x.set(k,Q);const{index:L,channels:T,tooltip:M}=O,I=Object.fromEntries(T.map(({name:P,scale:D})=>[P,D])),U=qi(I,({uid:P})=>b.get(P));HS(w,U);const R=Hfe(T,U),N=i(E),[j,K,$]=khe(N(L,U,R,y)),V=_||j.length,W=F?F(K,V,v):[],z=P=>{var D,G;return(G=(D=M.title)===null||D===void 0?void 0:D[P])===null||G===void 0?void 0:G.value},ne=P=>M.items.map(D=>D[P]),ie=j.map((P,D)=>{const G=Object.assign({points:K[D],transform:W[D],index:P,markKey:k,viewKey:s,data:Q[P]},M&&{title:z(P),items:ne(P)});for(const[Y,X]of Object.entries(R))G[Y]=X[P],$&&(G[`series${Co(Y)}`]=$[D].map(q=>X[q]));return $&&(G.seriesIndex=$[D]),$&&M&&(G.seriesItems=$[D].map(Y=>ne(Y)),G.seriesTitle=$[D].map(Y=>z(Y))),G});O.data=ie,O.index=j;const le=S==null?void 0:S(ie,U,v);B.push(...le||[])}return[{layout:v,theme:d,coordinate:y,markState:e,key:s,clip:l,scale:w,style:m,components:g,data:x,options:t,labelTransform:j1(f.map(o))},B]}function Um(e,t,n,r){return Oa(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:A,coordinate:c,key:l,style:u,clip:f,scale:d}=e,{x:h,y:p,width:g,height:v}=s,y=bo(s,["x","y","width","height"]),m=["view","plot","main","content"],b=m.map((M,I)=>I),w=["a","margin","padding","inset"],B=m.map(M=>Bk(Object.assign({},o.view,u),M)),x=w.map(M=>de(y,M)),C=M=>M.style("x",I=>F[I].x).style("y",I=>F[I].y).style("width",I=>F[I].width).style("height",I=>F[I].height).each(function(I,U,R){Khe(_e(R),B[I])});let E=0,O=0,S=g,_=v;const F=b.map(M=>{const I=x[M],{left:U=0,top:R=0,bottom:N=0,right:j=0}=I;return E+=U,O+=R,S-=U+j,_-=R+N,{x:E,y:O,width:S,height:_}});t.selectAll(Gr(PE)).data(b.filter(M=>Bt(B[M])),M=>m[M]).join(M=>M.append("rect").attr("className",PE).style("zIndex",-2).call(C),M=>M.call(C),M=>M.remove());const k=Lhe(A),Q=k?{duration:k[1]}:!1;for(const[,M]of F1(a,I=>`${I.type}-${I.position}`))M.forEach((I,U)=>I.index=U);const L=t.selectAll(Gr(UE)).data(a,M=>`${M.type}-${M.position}-${M.index}`).join(M=>M.append("g").style("zIndex",({zIndex:I})=>I||-1).attr("className",UE).append(I=>WS(ee({animate:Q,scale:d},I),c,o,i,A)),M=>M.transition(function(I,U,R){const{preserve:N=!1}=I;if(N)return;const j=WS(ee({animate:Q,scale:d},I),c,o,i,A),{attributes:K}=j,[$]=R.childNodes;return $.update(K,!1)})).transitions();n.push(...L.flat().filter(Bt));const T=t.selectAll(Gr(Ss)).data([s],()=>l).join(M=>M.append("rect").style("zIndex",0).style("fill","transparent").attr("className",Ss).call(ZS).call(JS,Array.from(A.keys())).call(eF,f),M=>M.call(JS,Array.from(A.keys())).call(ZS).call(eF,f)).transitions();n.push(...T.flat());for(const[M,I]of A.entries()){const{data:U}=I,{key:R,class:N,type:j}=M,K=t.select(`#${R}`),$=Nhe(M,I,e,r),V=Rhe(M,I,e,i),W=Dhe(M,I,e,i),z=jhe(M,I,e,i),ne=Uhe(t,K,N,"element"),ie=K.selectAll(Gr(Mi)).selectFacetAll(ne).data(U,le=>le.key,le=>le.groupKey).join(le=>le.append($).attr("className",Mi).attr("markType",j).transition(function(P,D,G){return V(P,[G])}),le=>le.call(P=>{const D=P.parent(),G=m$(Y=>{const[X,q]=Y.getBounds().min;return[X,q]});P.transition(function(Y,X,q){Phe(q,D,G);const J=$(Y,X),te=W(Y,[q],[J]);return te!=null&&te.length||(q.nodeName===J.nodeName&&J.nodeName!=="g"?Rp(q,J):(q.parentNode.replaceChild(J,q),J.className=Mi,J.markType=j,J.__data__=q.__data__)),te}).each(function(Y,X,q){q.__removed__&&(q.__removed__=!1)}).attr("markType",j).attr("className",Mi)}),le=>le.each(function(P,D,G){G.__removed__=!0}).transition(function(P,D,G){return z(P,[G])}).remove(),le=>le.append($).attr("className",Mi).attr("markType",j).transition(function(P,D,G){const{__fromElements__:Y}=G,X=W(P,Y,[G]);return new Uh(Y,null,G.parentNode).transition(X).remove(),X}),le=>le.transition(function(P,D,G){const X=new Uh([],G.__toData__,G.parentNode).append($).attr("className",Mi).attr("markType",j).nodes();return W(P,[G],X)}).remove()).transitions();n.push(...ie.flat())}Fhe(e,t,n,i,r),Mhe(e,t,i,r)})}function Fhe(e,t,n,r,i){const[a]=St("labelTransform",r),{markState:o,labelTransform:s}=e,A=t.select(Gr(sm)).node(),c=new Map,l=new Map,u=Array.from(o.entries()).flatMap(([v,y])=>{const{labels:m=[],key:b}=v,w=Ihe(v,y,e,r,i),B=t.select(`#${b}`).selectAll(Gr(Mi)).nodes().filter(x=>{var C;return x.__removed__?!1:!(((C=x.style)===null||C===void 0?void 0:C.visibility)==="hidden"||x.children&&x.children.some(O=>{var S;return((S=O.style)===null||S===void 0?void 0:S.visibility)==="hidden"}))});return m.flatMap((x,C)=>{const{transform:E=[]}=x,O=bo(x,["transform"]);return B.flatMap(S=>{const _=_he(O,C,S);return _.forEach(F=>{c.set(F,k=>w(Object.assign(Object.assign({},k),{element:S}))),l.set(F,x)}),_})})}),f=_e(A).selectAll(Gr(Am)).data(u,v=>v.key).join(v=>v.append(y=>c.get(y)(y)).attr("className",Am),v=>v.each(function(y,m,b){const B=c.get(y)(y);Rp(b,B)}),v=>v.remove()).nodes(),d=bt(f,v=>l.get(v.__data__)),{coordinate:h,layout:p}=e,g={canvas:i.canvas,coordinate:h,layout:p};for(const[v,y]of d){const{transform:m=[]}=v;j1(m.map(a))(y,g)}s&&s(f,g)}function _he(e,t,n){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=n.__data__,A=Qhe(n);if(!r)return[Object.assign(Object.assign({},e),{key:`${o}-${t}`,bounds:A,index:s,points:a,dependentElement:n})];const c=The(e),l=r.map((u,f)=>Object.assign(Object.assign({},e),{key:`${i[f]}-${t}`,bounds:[a[f]],index:u,points:a,dependentElement:n}));return c?c(l):l}function Mhe(e,t,n,r){const i=e.scale,a=We(i,"y.options.breaks",[]),{document:o}=r.canvas;if([av,FU].forEach(l=>{o.getElementsByClassName(l).forEach(u=>{u.remove()})}),!a.length)return;const s=t.select(Gr(Ss)).node(),[A]=St("shape",n),c=new Map;a.forEach((l,u)=>{c.set(l,A({type:"break"},{view:e,selection:t,context:r}))}),_e(s).selectAll(Gr(av)).data(a,l=>l.key).join(l=>l.append((u,f)=>c.get(u)(u,f)).attr("className",av),l=>l.each(function(u,f,d){const p=c.get(u)(u,f);Rp(d,p)}),l=>l.remove()).nodes()}function khe([e,t,n]){if(n)return[e,t,n];const r=[],i=[];for(let a=0;a<e.length;a++){const o=e[a],s=t[a];s.every(([A,c])=>Bt(A)&&Bt(c))&&(r.push(o),i.push(s))}return[r,i]}function The(e){const{selector:t}=e;if(!t)return null;if(typeof t=="function")return t;if(t==="first")return n=>[n[0]];if(t==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${t}`)}function Qhe(e){const t=e.cloneNode(!0),n=e.getAnimations();t.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();t.attr(s[s.length-1])}),e.parentNode.appendChild(t);const r=t.getLocalBounds();t.destroy();const{min:i,max:a}=r;return[i,a]}function Ihe(e,t,n,r,i){const[a]=St("shape",r),{data:o,encode:s}=e,{data:A,defaultLabelShape:c}=t,l=A.map(p=>p.points),u=qi(s,p=>p.value),{theme:f,coordinate:d}=n,h=Object.assign(Object.assign({},i),{document:bN(i),theme:f,coordinate:d});return p=>{const{index:g,points:v}=p,y=o[g],{formatter:m=I=>`${I}`,transform:b,style:w,render:B,selector:x,element:C}=p,E=bo(p,["formatter","transform","style","render","selector","element"]),O=qi(Object.assign(Object.assign({},E),w),I=>dR(I,y,g,o,{channel:u,element:C})),{shape:S=c,text:_}=O,F=bo(O,["shape","text"]),k=typeof m=="string"?Ra(m):m,Q=Object.assign(Object.assign({},F),{text:k(_,y,g,o),datum:y}),L=Object.assign({type:`label.${S}`,render:B},F),T=a(L,h),M=hR(f,"label",S,"label");return T(v,Q,M,l)}}function dR(e,t,n,r,i){return typeof e=="function"?e(t,n,r,i):typeof e!="string"?e:DA(t)&&t[e]!==void 0?t[e]:e}function Lhe(e){let t=-1/0,n=1/0;for(const[r,i]of e){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:A={},exit:c={}}=a,{type:l,duration:u=300,delay:f=0}=A,{type:d,duration:h=300,delay:p=0}=s,{type:g,duration:v=300,delay:y=0}=c;for(const m of o){const{updateType:b=l,updateDuration:w=u,updateDelay:B=f,enterType:x=d,enterDuration:C=h,enterDelay:E=p,exitDuration:O=v,exitDelay:S=y,exitType:_=g}=m;(b===void 0||b)&&(t=Math.max(t,w+B),n=Math.min(n,B)),(_===void 0||_)&&(t=Math.max(t,O+S),n=Math.min(n,S)),(x===void 0||x)&&(t=Math.max(t,C+E),n=Math.min(n,E))}}return t===-1/0?null:[n,t-n]}function Uhe(e,t,n,r){const i=e.node().parentElement;return!i||typeof i.findAll!="function"?[]:i.findAll(a=>a.style.facet!==void 0&&a.style.facet===n&&a!==t.node()).flatMap(a=>a.getElementsByClassName(r))}function Phe(e,t,n){if(!e.__facet__)return;const r=e.parentNode.parentNode,i=t.parentNode,[a,o]=n(r),[s,A]=n(i),c=`translate(${a-s}, ${o-A})`;b$(e,c),t.append(e)}function Nhe(e,t,n,r){const{library:i}=r,[a]=St("shape",i),{data:o,encode:s}=e,{defaultShape:A,data:c,shape:l}=t,u=qi(s,y=>y.value),f=c.map(y=>y.points),{theme:d,coordinate:h}=n,{type:p,style:g={}}=e,v=Object.assign(Object.assign({},r),{document:bN(r),coordinate:h,theme:d});return y=>{const{shape:m=A}=g,{shape:b=m,points:w,seriesIndex:B,index:x}=y,C=bo(y,["shape","points","seriesIndex","index"]),E=Object.assign(Object.assign({},C),{index:x}),O=B?B.map(Q=>o[Q]):o[x],S=B||x,_=qi(g,Q=>dR(Q,O,S,o,{channel:u})),F=l[b]?l[b](_,v):a(Object.assign(Object.assign({},_),{type:vR(e,b)}),v),k=hR(d,p,b,A);return F(w,E,k,f)}}function hR(e,t,n,r){if(typeof t!="string")return;const{color:i}=e,a=e[t]||{},o=a[n]||a[r];return Object.assign({color:i},o)}function yB(e,t,n,r,i){var a,o;const[,s]=St("shape",i),[A]=St("animation",i),{defaultShape:c,shape:l}=n,{theme:u,coordinate:f}=r,h=`default${Co(e)}Animation`,{[h]:p}=((a=l[c])===null||a===void 0?void 0:a.props)||s(vR(t,c)).props,{[e]:g={}}=u,v=((o=t.animate)===null||o===void 0?void 0:o[e])||{},y={coordinate:f};return(m,b,w)=>{const{[`${e}Type`]:B,[`${e}Delay`]:x,[`${e}Duration`]:C,[`${e}Easing`]:E}=m,O=Object.assign({type:B||p},v);if(!O.type)return null;const F=A(O,y)(b,w,ee(g,{delay:x,duration:C,easing:E}));let k=[];return Array.isArray(F)?k=F:k=[F],k.filter(Boolean)}}function Rhe(e,t,n,r){return yB("enter",e,t,n,r)}function Hhe(e){return e.finished.then(()=>{e.cancel()}),e}function Dhe(e,t,n,r){return yB("update",e,t,n,r)}function jhe(e,t,n,r){return yB("exit",e,t,n,r)}function pR(e={}){if(typeof e=="string")return{type:e};const{type:t="light"}=e,n=bo(e,["type"]);return Object.assign(Object.assign({},n),{type:t})}function vp(e){const t={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=e;return Object.entries(ee(t,n)).reverse()}function gR(e,t){return Oa(this,void 0,void 0,function*(){const{data:n}=e,r=bo(e,["data"]);if(n==null)return e;const[,{data:i}]=yield AR([],{data:n},t);return Object.assign({data:i},r)})}function ZS(e){e.style("transform",t=>`translate(${t.paddingLeft+t.marginLeft}, ${t.paddingTop+t.marginTop})`).style("width",t=>t.innerWidth).style("height",t=>t.innerHeight)}function vR(e,t){const{type:n}=e;return typeof t=="string"?`${n}.${t}`:t}function JS(e,t){const n=a=>a.class!==void 0?`${a.class}`:"";e.nodes().length===0||(e.selectAll(Gr(LE)).data(t,a=>a.key).join(a=>a.append("g").attr("className",LE).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),e.select(Gr(sm)).node())||e.append("g").attr("className",sm).style("zIndex",0)}function Gr(...e){return e.map(t=>`.${t}`).join("")}function eF(e,t){e.node()&&e.style("clipPath",n=>{if(!t)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:A}=n;return new _o({style:{x:i+a,y:r+o,width:s,height:A}})})}function $he(e,t,n){var r;for(const[c]of n.entries())if(c.type==="cell")return e.filter(l=>l.name!=="shape");if(t.length!==1||e.some(c=>c.name==="shape"))return e;const{defaultShape:i}=t[0];if(!["point","line","rect","hollow"].includes(i))return e;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},A={field:((r=e.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...e,A]}function Khe(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}function Ghe(...e){return t=>e.reduce((n,r)=>r(n),t)}function zhe(e){const{style:t,scale:n,type:r}=e,i={},a=We(t,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},n==null?void 0:n.x),{padding:1-a})),Object.assign(Object.assign({},e),{scale:Object.assign(Object.assign({},n),i)})}const Vhe=e=>{if(!e||typeof e!="string")return e;const t=e.endsWith("%")?parseFloat(e.slice(0,-1))/100:parseFloat(e);if(isNaN(t)||t<0||t>1)throw new Error(`Invalid gap value: ${e}. It should be between 0 and 1.`);return t};function Whe(e){const{axis:t}=e,n=We(t,"y.breaks");return n&&Tp(e,"scale.y.breaks",n.map(r=>Object.assign(Object.assign({key:`break-${r.start}-${r.end}`},r),{gap:Vhe(r.gap)}))),e}function yR(e){const t=Yhe(e);return t.children&&Array.isArray(t.children)&&(t.children=t.children.map(n=>yR(n))),t}function Yhe(e){return Ghe(zhe,Whe)(e)}function Xhe(e){const t=ee({},e),n=new Map([[t,null]]),r=new Map([[null,-1]]),i=[t];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=n.get(a),A=r.get(a),c=s===null?"0":`${s.key}-${A}`;a.key=c}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=ee({},o[s]);o[s]=A,n.set(A,a),r.set(A,s),i.push(A)}}return t}function qhe(e,t){const n=new m4;return n.registerPlugin(new w4),new mQ({width:e,height:t,container:document.createElement("div"),renderer:n})}function Zhe(e,t={},n=()=>{},r=i=>{throw i}){const i=$d(e),{width:a=640,height:o=480,depth:s=0}=i,A=yR(i),c=Xhe(A),{canvas:l=qhe(a,o),emitter:u=new B4,library:f}=t;t.canvas=l,t.emitter=u,t.externals={};const{width:d,height:h}=l.getConfig();(d!==a||h!==o)&&l.resize(a,o),u.emit(ht.BEFORE_RENDER);const p=_e(l.document.documentElement);return l.ready.then(()=>vB(Object.assign(Object.assign({},c),{width:a,height:o,depth:s}),p,t)).then(()=>{if(s){const[g,v]=l.document.documentElement.getPosition();l.document.documentElement.setPosition(g,v,-s/2)}l.requestAnimationFrame(()=>{l.requestAnimationFrame(()=>{u.emit(ht.AFTER_RENDER),n==null||n()})})}).catch(g=>{r==null||r(g)}),epe(l.getConfig().container)}function tF(e,t={},n=!1,r=!0){const{canvas:i,emitter:a}=t;i&&(Jhe(i),n?i.destroy():i.destroyChildren()),r&&a.off()}function Jhe(e){const t=e.getRoot().querySelectorAll(`.${Kh}`);t==null||t.forEach(n=>{const{nameInteraction:r=new Map}=n;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(i=>{i==null||i.destroy()})})}function epe(e){return typeof e=="string"?document.getElementById(e):e}function tpe(e,t,n){return Math.min(n,Math.max(t,e))}function Sa(e){return!!e.getBandWidth}function nc(e,t,n){if(!Sa(e))return e.invert(t);const{adjustedRange:r}=e;if(r.includes(t))return e.invert(t);const{domain:i}=e.getOptions(),a=n?-1:0,o=e.getStep(),s=n?r:r.map(l=>l+o),A=C6(s,t),c=tpe(A+a,0,i.length-1);return i[c]}function oo(e,t,n){if(!t)return e.getOptions().domain;if(!Sa(e)){const A=li(t);if(!n)return A;const[c]=A,{range:l}=e.getOptions(),[u,f]=l,d=u>f?-1:1,h=e.invert(e.map(c)+d*n);return[c,h]}const{domain:r}=e.getOptions(),i=t[0],a=r.indexOf(i);if(n){const A=a+Math.round(r.length*n);return r.slice(a,A)}const o=t[t.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function zd(e,t,n,r,i,a){const{x:o,y:s}=i,A=(d,h)=>{const[p,g]=a.invert(d);return[nc(o,p,h),nc(s,g,h)]},c=A([e,t],!0),l=A([n,r],!1),u=oo(o,[c[0],l[0]]),f=oo(s,[c[1],l[1]]);return[u,f]}function nF(e,t){const[n,r]=e,i=a=>a.getStep?a.getStep():0;return[t.map(n),t.map(r)+i(t)]}const rF=(e,t)=>{var n,r;const[i,a]=e,o=((r=(n=t.getOptions)===null||n===void 0?void 0:n.call(t))===null||r===void 0?void 0:r.domain)||[],s=o.indexOf(i),A=o.indexOf(a);if(s===-1||A===-1)return[t.map(i),t.map(a)];const c=o.length;return c<=1?[0,1]:[s/(c-1),A/(c-1)]};function npe(e,t,n){const{x:r,y:i}=t,[a,o]=e,s=nF(a,r),A=nF(o,i),c=[s[0],A[0]],l=[s[1],A[1]],[u,f]=n.map(c),[d,h]=n.map(l);return[u,f,d,h]}function pu(e,t){if(t(e))return!0;if(e.tagName==="g"){const{childNodes:n=[]}=e;for(const r of n)if(pu(r,t))return!0}return!1}const rpe={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function ipe(e,t){let n;return pu(e,r=>{var i;return r.tagName!=="g"&&((i=r.style)===null||i===void 0?void 0:i[t])!==void 0?(n=r.style[t],!0):!1}),n??rpe[t]}function mB(e,t,n,r){e.style[t]=n,e.children.forEach(i=>mB(i,t,n))}function bB(e){mB(e,"visibility","hidden")}function Dg(e){mB(e,"visibility","visible")}var Ml=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function La(e){return _e(e).selectAll(`.${Mi}`).nodes().filter(t=>!t.__removed__)}function mR(e,t){return Pm(e,t).flatMap(({container:n})=>La(n))}function Pm(e,t){return t.filter(n=>n!==e&&n.options.parentKey===e.options.key)}function ei(e){return _e(e).select(`.${Ss}`).node()}function gu(e){if(e.tagName==="g")return e.getRenderBounds();const t=e.getGeometryBounds(),n=new pn;return n.setFromTransformedAABB(t,e.getWorldTransform()),n}function ks(e,t){const{offsetX:n,offsetY:r}=t,i=gu(e),{min:[a,o],max:[s,A]}=i,c=n<a||n>s,l=r<o||r>A;return c||l?null:[n-a,r-o]}function Sv(e,t){const{offsetX:n,offsetY:r}=t,[i,a,o,s]=ape(e);return[Math.min(o,Math.max(i,n))-i,Math.min(s,Math.max(a,r))-a]}function ape(e){const t=e.getRenderBounds(),{min:[n,r],max:[i,a]}=t;return[n,r,i,a]}function bR(e){return t=>t.__data__.color}function zu(e){return t=>t.__data__.x}function wo(e){const t=Array.isArray(e)?e:[e],n=new Map(t.flatMap(r=>Array.from(r.markState.keys()).map(a=>[yp(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return n.get(yp(o,a))[i]}}const iF={selected:3,unselected:3,active:2,inactive:2,default:1},ope={selection:["selected","unselected"],highlight:["active","inactive"]},wR=(e,t,n)=>{pu(e,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(t,n)})};function wB(e,t){return t.forEach(n=>{const r=n.__interactionStyle__;r?n.__interactionStyle__=Object.assign(Object.assign({},r),e):n.__interactionStyle__=e}),(n=(i,a)=>i,r=wR)=>ho(void 0,n,r)}function ho(e,t=(r,i)=>r,n=wR){const r="__states__",i="__ordinal__",a=d=>iF[d]||iF.default,o=d=>{var h;return(h=Object.entries(ope).find(([p,g])=>g.includes(d)))===null||h===void 0?void 0:h[0]},s=d=>{var h;const{[r]:p=[],[i]:g={}}=d,v=[...p].sort((b,w)=>a(w)-a(b)),y=new Map;for(const b of v){const w=((h=e??d.__interactionStyle__)===null||h===void 0?void 0:h[b])||{};for(const[B,x]of Object.entries(w))y.has(B)||y.set(B,x)}const m=Object.assign({},g);for(const[b,w]of y.entries())m[b]=w;if(Object.keys(m).length!==0){for(const[b,w]of Object.entries(m)){const B=ipe(d,b),x=t(w,d);n(d,b,x),b in g||(g[b]=B)}d[i]=g}},A=d=>{d[r]||(d[r]=[])};return{setState:(d,...h)=>{A(d),d[r]=[...h],s(d)},updateState:(d,...h)=>{A(d);const p=d[r],g=new Set(h.map(y=>o(y)).filter(y=>y!==void 0)),v=p.filter(y=>!g.has(o(y)));d[r]=[...v,...h],s(d)},removeState:(d,...h)=>{A(d);for(const p of h){const g=d[r].indexOf(p);g!==-1&&d[r].splice(g,1)}s(d)},hasState:(d,h)=>(A(d),d[r].indexOf(h)!==-1)}}function spe(e){return e===void 0?!0:typeof e!="object"?!1:Object.keys(e).length===0}function yp(e,t){return`${e},${t}`}function Ts(e,t){const r=(Array.isArray(e)?e:[e]).flatMap(a=>a.marks.map(o=>[yp(a.key,o.key),o.state])),i={};for(const a of t){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((A,c)=>{const[l,u={}]=c,f=spe(u[o])?s:u[o];for(const[d,h]of Object.entries(f)){const p=A[d],g=(v,y,m,b)=>{const w=yp(b.__data__.viewKey,b.__data__.markKey);return l!==w?p==null?void 0:p(v,y,m,b):typeof h!="function"?h:h(v,y,m,b)};A[d]=g}return A},{})}return i}function pc(e,t){const n=new Map(e.map((i,a)=>[i,a])),r=t?e.map(t):e;return(i,a)=>{if(typeof i!="function")return i;const o=n.get(a),s=t?t(a):a;return i(s,o,r,a)}}function BR(e){var{link:t=!1,valueof:n=(l,u)=>l,coordinate:r}=e,i=Ml(e,["link","valueof","coordinate"]);const a="element-link";if(!t)return[()=>{},()=>{}];const o=l=>l.__data__.points,s=(l,u)=>{const[,f,d]=l,[h,,,p]=u;return[f,h,p,d]};return[l=>{var u;if(l.length<=1)return;const f=li(l,(d,h)=>{const{x:p}=d.__data__,{x:g}=h.__data__;return p-g});for(let d=1;d<f.length;d++){const h=Xr(),p=f[d-1],g=f[d],[v,y,m,b]=s(o(p),o(g));h.moveTo(...v),h.lineTo(...y),h.lineTo(...m),h.lineTo(...b),h.closePath();const w=qi(i,E=>n(E,p)),{fill:B=p.getAttribute("fill")}=w,x=Ml(w,["fill"]),C=new bn({className:a,style:Object.assign({d:h.toString(),fill:B,zIndex:-2},x)});(u=p.link)===null||u===void 0||u.remove(),p.parentNode.appendChild(C),p.link=C}},l=>{var u;(u=l.link)===null||u===void 0||u.remove(),l.link=null}]}function xR(e,t,n){const r=i=>{const{transform:a}=e.style;return a?`${a} ${i}`:i};if(lt(n)){const{points:i}=e.__data__,[a,o]=Ct(n)?hg(i):i,s=n.getCenter(),A=Wt(a,s),c=Wt(o,s),l=Wr(A),u=rT(A,c),f=l+u/2,d=t*Math.cos(f),h=t*Math.sin(f);return r(`translate(${d}, ${h})`)}return Ct(n)?r(`translate(${t}, 0)`):r(`translate(0, ${-t})`)}function CR(e){var{document:t,background:n,scale:r,coordinate:i,valueof:a}=e,o=Ml(e,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const A=(v,y,m)=>{const b=v.invert(y),w=y+v.getBandWidth(b)/2,B=v.getStep(b)/2,x=B*m;return[w-B+x,w+B-x]},c=(v,y)=>{const{x:m}=r;if(!Sa(m))return[0,1];const{__data__:b}=v,{x:w}=b,[B,x]=A(m,w,y);return[B,x]},l=(v,y)=>{const{y:m}=r;if(!Sa(m))return[0,1];const{__data__:b}=v,{y:w}=b,[B,x]=A(m,w,y);return[B,x]},u=(v,y)=>{const{padding:m}=y,[b,w]=c(v,m),[B,x]=l(v,m),C=[[b,B],[w,B],[w,x],[b,x]].map(_=>i.map(_)),{__data__:E}=v,{y:O,y1:S}=E;return TI(t,C,{y:O,y1:S},i,y)},f=(v,y)=>{const{transform:m="scale(1.2, 1.2)",transformOrigin:b="center center",stroke:w=""}=y,B=Ml(y,["transform","transformOrigin","stroke"]),x=Object.assign({transform:m,transformOrigin:b,stroke:w},B),C=v.cloneNode(!0);for(const[E,O]of Object.entries(x))C.style[E]=O;return C},d=()=>{const{x:v,y}=r;return[v,y].some(Sa)};return[v=>{v.background&&v.background.remove();const y=qi(o,_=>a(_,v)),{fill:m="#CCD6EC",fillOpacity:b=.3,zIndex:w=-2,padding:B=.001,lineWidth:x=0}=y,C=Ml(y,["fill","fillOpacity","zIndex","padding","lineWidth"]),E=Object.assign(Object.assign({},C),{fill:m,fillOpacity:b,zIndex:w,padding:B,lineWidth:x}),S=(d()?u:f)(v,E);S.className=s,v.parentNode.parentNode.appendChild(S),v.background=S},v=>{var y;(y=v.background)===null||y===void 0||y.remove(),v.background=null},v=>v.className===s]}function Wa(e,t){const r=e.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(e.cursor=r.style.cursor,r.style.cursor=t)}function Ape(e){Wa(e,e.cursor)}function jg(e,t,n){return e.find(r=>Object.entries(t).every(([i,a])=>n(r)[i]===a))}function mp(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Ic(e,t=!1){const n=Q5(e,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return t&&n.push(["Z"]),n}function ER(e){return e.querySelectorAll(".element")}function cpe(e,t,n=0){const r=[["M",...t[1]]],i=mp(e,t[1]),a=mp(e,t[0]);return i===0?r.push(["L",...t[3]],["A",a,a,0,n,1,...t[0]],["Z"]):r.push(["A",i,i,0,n,0,...t[2]],["L",...t[3]],["A",a,a,0,n,1,...t[0]],["Z"]),r}function Vu(e,t){if(t(e))return e;let n=e.parent;for(;n&&!t(n);)n=n.parent;return n}const BB=["interval","point","density"];function OR({elementsof:e,root:t,coordinate:n,scale:r,validFindByXMarks:i=BB}){var a,o;let s=e(t);const A=l=>i.includes(l.markType);if(s.find(A)){s=s.filter(A);const l=r.x,u=r.series,f=(o=(a=l==null?void 0:l.getBandWidth)===null||a===void 0?void 0:a.call(l))!==null&&o!==void 0?o:0,d=u?h=>{var p,g;const v=Math.round(1/((p=u.valueBandWidth)!==null&&p!==void 0?p:1));return h.__data__.x+((g=h.__data__.series)!==null&&g!==void 0?g:0)*f+f/(v*2)}:h=>h.__data__.x+f/2;return s.sort((h,p)=>d(h)-d(p)),h=>{const p=ks(t,h);if(!p)return;const[g]=n.invert(p),v=xa(d).center,y=v(s,g);return s[y]}}return l=>{const{target:u}=l;return Vu(u,f=>f.classList?f.classList.includes("element"):!1)}}function lpe(e){const a=.01/Math.max(e,1e-4);return Math.max(.1,Math.min(100,a))}function SR(e){return e===!1||e===null||e===void 0}function upe(e){var t,n;const r=[],i=[],a=[],o=e.markState;if(o){for(const[s,A]of o.entries())if(A!=null&&A.channels){const c={};for(const f of A.channels)if((f==null?void 0:f.name)==="x"&&((t=f.values)===null||t===void 0?void 0:t.length)>0){let d=[];for(const h of f.values)h!=null&&h.value&&(d=d.concat(h.value),r.push(h.value));c.x=d}else if(f&&(f.name==="y"||f.name.startsWith("y"))&&((n=f.values)===null||n===void 0?void 0:n.length)>0){const d=f.name,h=[];for(const p of f.values)if(p!=null&&p.value){const g=p.value;h.push(g),(d==="y"||d==="y1")&&(Array.isArray(g)?i.push(g.flat()):i.push([g]))}c[d]=h}const l=c.x||[],u=c.y||[];l.length>0&&u.length>0&&a.push({markKey:s.key||`mark_${a.length}`,channelData:c})}}return{xChannelValues:r.flat(),yChannelValues:i.flat(),markDataPairs:a}}function aF(e,t){const n=new Set;for(const r of t){const{scale:i}=r,a=i==null?void 0:i[e];if(!a)continue;if(a.independent)return!0;const o=a.key||"default";if(n.add(o),n.size>1)return!0}return!1}function fpe(e,t,n,r,i){var a,o,s,A;const c={x:t.x||n.getOptions().domain||[],y:t.y||r.getOptions().domain||[]},l=i||FR(e),{hasIndependentX:u,hasIndependentY:f}=l;if(u||f){let d=1,h=1;for(const[p,g]of e.markState.entries())if(g!=null&&g.channels){if(u){const v=g.channels.find(y=>y.name==="x");if(!((o=(a=p==null?void 0:p.scale)===null||a===void 0?void 0:a.x)===null||o===void 0)&&o.independent){const y=`x${d}`;c[y]=v.scale.domain,d++}}if(f){const v=g.channels.find(y=>y.name==="y");if(!((A=(s=p==null?void 0:p.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent){const y=`y${h}`;c[y]=v.scale.domain,h++}}}}return c}function FR(e){var t,n,r,i,a,o,s,A;const c=Array.from(e.markState.keys()),l=aF("x",c),u=aF("y",c),f=[],d=[],h=[],p=[],g=new Map,v=new Map,y=new Map,m=new Map;let b=1,w=1;for(const[B]of e.markState.entries()){const x=B.key,C=((n=(t=B==null?void 0:B.scale)===null||t===void 0?void 0:t.x)===null||n===void 0?void 0:n.key)||"x";if(!!(!((i=(r=B==null?void 0:B.scale)===null||r===void 0?void 0:r.x)===null||i===void 0)&&i.independent)||l&&C!=="x"){d.push(x),y.has(C)||y.set(C,b++);const _=y.get(C);g.set(x,`x${_}`)}else f.push(x),g.set(x,"x");const O=((o=(a=B==null?void 0:B.scale)===null||a===void 0?void 0:a.y)===null||o===void 0?void 0:o.key)||"y";if(!!(!((A=(s=B==null?void 0:B.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent)||u&&O!=="y"){p.push(x),m.has(O)||m.set(O,w++);const _=m.get(O);v.set(x,`y${_}`)}else h.push(x),v.set(x,"y")}return{hasIndependentX:l,hasIndependentY:u,marksWithSharedX:f,marksWithIndependentX:d,marksWithSharedY:h,marksWithIndependentY:p,markToXScaleMap:g,markToYScaleMap:v}}var Ii=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};const _R="legend-category",xB="legend-html-category",dpe="legend-continuous",hpe="items-item",ppe="legend-category-item-marker",gpe="legend-category-item-label",vpe="legend-category-item-focus-group";function MR(e){return e.getElementsByClassName(ppe)[0]}function kR(e){return e.getElementsByClassName(gpe)[0]}function oF(e){return e.getElementsByClassName(vpe)[0]}function TR(e){return e.getElementsByClassName(hpe)}function CB(e){return e.getElementsByClassName(_R)}function ype(e){return e.getElementsByClassName(xB)}function QR(e){return e.getElementsByClassName(dpe)}function mpe(e,t){[...CB(e),...QR(e)].forEach(r=>{t(r,i=>i)})}function Nm(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function bpe(e,t,n){var r;const i=Object.keys(e).find(a=>{if(a.startsWith(n)){const o=e[a].getOptions();return o.name===n&&o.markKey===t}});return(r=e[i])!==null&&r!==void 0?r:e[n]}function wpe(e,{legends:t,marker:n,label:r,datum:i,filter:a,defaultSelect:o,emitter:s,channel:A,state:c={}}){const l=new Map,u=new Map,f=new Map,d=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=c,p={unselected:de(h,"marker")},g={unselected:de(h,"label")},{setState:v,removeState:y}=ho(p,void 0),{setState:m,removeState:b}=ho(g,void 0),w=Array.from(t(e));let B=w.map(i);const x=()=>{for(const S of w){const _=i(S),F=n(S),k=r(S);B.includes(_)?(y(F,"unselected"),b(k,"unselected")):(v(F,"unselected"),m(k,"unselected"))}};for(const S of w){const _=()=>{Wa(e,"pointer")},F=()=>{Ape(e)},k=L=>Ii(this,void 0,void 0,function*(){const T=i(S),M=B.indexOf(T);M===-1?B.push(T):B.splice(M,1),yield a(B),x();const{nativeEvent:I=!0}=L;I&&(B.length===w.length?s.emit("legend:reset",{nativeEvent:I}):s.emit("legend:filter",Object.assign(Object.assign({},L),{nativeEvent:I,data:{channel:A,values:B}})))});S.addEventListener("click",k),S.addEventListener("pointerenter",_),S.addEventListener("pointerout",F),l.set(S,k),u.set(S,_),f.set(S,F);const Q=oF(S);if(Q){const L=T=>Ii(this,void 0,void 0,function*(){T.stopPropagation();const M=i(S),I=B.indexOf(M),{nativeEvent:U=!0}=T;if(I!==-1&&B.length===1){if(!U)return;B=w.map(i),yield a(B),x(),s.emit("legend:reset",{nativeEvent:U})}else{if(B=[M],yield a(B),x(),!U)return;s.emit("legend:focus",Object.assign(Object.assign({},T),{nativeEvent:U,data:{channel:A,value:M}}))}});Q.addEventListener("click",L),d.set(S,L)}}const C=S=>Ii(this,void 0,void 0,function*(){const{nativeEvent:_}=S;if(_)return;const{data:F}=S,{channel:k,value:Q}=F;k===A&&(B=[Q],yield a(B),x())}),E=S=>Ii(this,void 0,void 0,function*(){const{nativeEvent:_}=S;if(_)return;const{data:F}=S,{channel:k,values:Q}=F;k===A&&(B=Q,yield a(B),x())}),O=S=>Ii(this,void 0,void 0,function*(){const{nativeEvent:_}=S;_||(B=w.map(i),yield a(B),x())});return s.on("legend:filter",E),s.on("legend:focus",C),s.on("legend:reset",O),o&&s.emit("legend:filter",{data:{channel:A,values:o}}),()=>{for(const S of w){S.removeEventListener("click",l.get(S)),S.removeEventListener("pointerenter",u.get(S)),S.removeEventListener("pointerout",f.get(S));const _=oF(S);_&&_.removeEventListener("click",d.get(S))}s.off("legend:focus",C),s.off("legend:filter",E),s.off("legend:reset",O)}}function Bpe(e,{domain:t,filter:n,defaultSelect:r,emitter:i,channel:a}){const o=new Map,s=new Map,A=new Map;let c=[...t];const l=()=>{var g;const v=(g=e.ownerDocument)===null||g===void 0?void 0:g.defaultView;return v&&v.getContextService().getDomElement().parentElement||document.body},u=()=>{const v=l().querySelector(".legend-html"),y=m=>Ii(this,void 0,void 0,function*(){let b=m.target;for(;b&&!b.hasAttribute("legend-value")&&(b=b.parentElement,b!==v););if(!b||!b.hasAttribute("legend-value"))return;m.preventDefault(),m.stopPropagation();const w=b.getAttribute("legend-value");if(!w)return;const B=c.indexOf(w);B===-1?c.push(w):c.splice(B,1),yield n(c),f(),c.length===t.length?i.emit("legend:reset",{nativeEvent:!0}):i.emit("legend:filter",{nativeEvent:!0,data:{channel:a,values:c}})});v.addEventListener("click",y),o.set(v,y)},f=()=>{l().querySelectorAll("[legend-value]").forEach(y=>{const m=y.getAttribute("legend-value");if(!m||!t.includes(m))return;const b=c.includes(m),w=y;b?(w.style.opacity="1",w.classList.remove("legend-item-inactive")):(w.style.opacity="0.4",w.classList.add("legend-item-inactive"))})};u();const d=g=>Ii(this,void 0,void 0,function*(){const{nativeEvent:v}=g;if(v)return;const{data:y}=g,{channel:m,value:b}=y;m===a&&(c=[b],yield n(c),f())}),h=g=>Ii(this,void 0,void 0,function*(){const{nativeEvent:v}=g;if(v)return;const{data:y}=g,{channel:m,values:b}=y;m===a&&(c=b,yield n(c),f())}),p=g=>Ii(this,void 0,void 0,function*(){const{nativeEvent:v}=g;v||(c=[...t],yield n(c),f())});return i.on("legend:filter",h),i.on("legend:focus",d),i.on("legend:reset",p),r&&i.emit("legend:filter",{data:{channel:a,values:r}}),()=>{l().querySelectorAll("[legend-value]").forEach(y=>{const m=y.getAttribute("legend-value");if(!m||!t.includes(m))return;const b=o.get(y),w=s.get(y),B=A.get(y);b&&y.removeEventListener("click",b),w&&y.removeEventListener("pointerenter",w),B&&y.removeEventListener("pointerout",B)}),o.clear(),s.clear(),A.clear(),i.off("legend:filter",h),i.off("legend:focus",d),i.off("legend:reset",p)}}function xpe(e,{legend:t,filter:n,emitter:r,channel:i}){const{attributes:a}=t,o=s=>{const{value:A}=s.detail,c=A.map(l=>{var u,f;const d=(u=a.data)===null||u===void 0?void 0:u.find(h=>h.value===l);return d&&(f=d.domainValue)!==null&&f!==void 0?f:l});n(c),r.emit({nativeEvent:!0,data:{channel:i,values:c}})};return t.addEventListener("valuechange",o),()=>{t.removeEventListener("valuechange",o)}}function IR(e,t){return Ii(this,arguments,void 0,function*(n,{legend:r,channel:i,value:a,ordinal:o,channels:s,allChannels:A,facet:c=!1}){const{view:l,update:u,setState:f}=n;f(r,d=>{var h,p;const{marks:g}=d,v=(p=(h=r.attributes)===null||h===void 0?void 0:h.scales)===null||p===void 0?void 0:p.find(m=>m.name===i),y=g.map(m=>{var b,w;if(((b=m.scale[i].key)!==null&&b!==void 0?b:i)!==((w=v==null?void 0:v.key)!==null&&w!==void 0?w:v==null?void 0:v.name)||m.type==="legends"||Qw.includes(m.type))return m;const{transform:B=[],data:x=[]}=m,C=B.findIndex(({type:S})=>S.startsWith("group")||S.startsWith("bin")),E=[...B];x.length&&E.splice(C+1,0,{type:"filter",[i]:{value:a,ordinal:o}});const O=Object.fromEntries(s.map(S=>{const _=bpe(l.scale,d.key,S);return[S,{domain:_.getOptions().domain}]}));return ee({},m,Object.assign(Object.assign({transform:E,scale:O},!o&&{animate:!1}),{legend:c?!1:Object.fromEntries(A.map(S=>[S,{preserve:!0}]))}))});return Object.assign(Object.assign({},d),{marks:y})}),yield u()})}function Cpe(e,t){for(const n of e)IR(n,Object.assign(Object.assign({},t),{facet:!0}))}function Epe(){return(e,t,n)=>{const{container:r}=e,i=t.filter(u=>u!==e),a=i.length>0,o=u=>Nm(u).scales.map(f=>f.name),s=[...CB(r),...ype(r),...QR(r)],A=s.flatMap(o),c=a?ys(Cpe,50,{trailing:!0}):ys(IR,50,{trailing:!0}),l=s.map(u=>{const{name:f,domain:d}=Nm(u).scales[0],h=o(u),p={legend:u,channel:f,channels:h,allChannels:A};return u.className===_R?wpe(u,{legends:TR,marker:MR,label:kR,datum:g=>{const{__data__:v}=g,{index:y}=v;return d[y]},filter:g=>{const v=Object.assign(Object.assign({},p),{value:g,ordinal:!0});c(a?i:e,v)},state:u.attributes.state,defaultSelect:u.attributes.defaultSelect,channel:f,emitter:n}):u.className===xB?Bpe(r,{domain:d,filter:g=>{const v=Object.assign(Object.assign({},p),{value:g,ordinal:!0});c(a?i:e,v)},defaultSelect:u.attributes.defaultSelect,channel:f,emitter:n}):xpe(r,{legend:u,filter:g=>{const v=Object.assign(Object.assign({},p),{value:g,ordinal:!1});c(a?i:e,v)},emitter:n,channel:f})});return()=>{l.forEach(u=>u())}}}var Ope=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function LR(e,t){const n=Vi(e,"shape"),r=Vi(e,"color"),i=n?n.clone():null,a=[];for(const[s,A]of t){const c=s.type,u=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:A.data).map((f,d)=>{var h;return i?i.map(f||"point"):((h=s==null?void 0:s.style)===null||h===void 0?void 0:h.shape)||A.defaultShape||"point"});typeof c=="string"&&a.push([c,u])}if(a.length===0)return["point",["point"]];if(a.length===1||!n)return a[0];const{range:o}=n.getOptions();return a.map(([s,A])=>{let c=0;for(let l=0;l<a.length;l++){const u=o[l%o.length];A[l]===u&&c++}return[c/A.length,[s,A]]}).sort((s,A)=>A[0]-s[0])[0][1]}function Spe(e,t){const{scales:n,library:r,markState:i}=t,[a,o]=LR(n,i),{itemMarker:s,itemMarkerSize:A}=e,c=(f,d)=>{var h,p,g;const v=((g=(p=(h=r[`mark.${a}`])===null||h===void 0?void 0:h.props)===null||p===void 0?void 0:p.shape[f])===null||g===void 0?void 0:g.props.defaultMarker)||Br(f.split(".")),y=typeof A=="function"?A(d):A;return()=>nJ(v,{color:d.color})(0,0,y)},l=f=>`${o[f]}`;return Vi(n,"shape")&&!s?(f,d)=>c(l(d),f):typeof s=="function"?(f,d)=>{const h=s(f.id,d);return typeof h=="string"?c(h,f):h}:(f,d)=>c(s||l(d),f)}function Fpe(e){const t=Vi(e,"opacity");if(t){const{range:n}=t.getOptions();return(r,i)=>n[i]}}function _pe(e,t){const n=Vi(e,"size");return n instanceof ak?n.map(NaN)*2:t}function Mpe(e,t){const{scales:n,markState:r}=t,[i,a]=LR(n,r),{itemMarker:o,itemMarkerLineWidth:s}=e;if(s!==void 0)return s;const A=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&A.includes(o))return 4;if(typeof o=="function")return(u,f)=>{const d=o(u.id,f);if(typeof d=="string"&&A.includes(d))return 4};if((Array.isArray(a)?a:[a]).some(u=>A.includes(u)))return 4}function kpe(e,t){const{labelFormatter:n=f=>`${f}`}=e,{scales:r,theme:i}=t,a=i.legendCategory.itemMarkerSize,o=_pe(r,a),s={itemMarker:Spe(Object.assign(Object.assign({},e),{itemMarkerSize:o}),t),itemMarkerSize:o,itemMarkerOpacity:Fpe(r),itemMarkerLineWidth:Mpe(e,t)},A=typeof n=="string"?Ra(n):n,c=Vi(r,"color"),l=ise(r),u=c?f=>c.map(f):()=>t.theme.color;return Object.assign(Object.assign({},s),{data:l.map(f=>({id:f,label:A(f),color:u(f)}))})}function Tpe(e,t,n){const{position:r}=t;if(r==="center"){const{bbox:o}=e,{width:s,height:A}=o;return{width:s,height:A}}const{width:i,height:a}=i4(e,t,n);return{width:i,height:a}}function Qpe(e){return Object.assign(Object.assign({},e),{data:(e==null?void 0:e.data.filter(t=>t.id!==""&&t.id!==void 0))||[]})}const EB=e=>{const{labelFormatter:t,layout:n,order:r,orientation:i,position:a,size:o,title:s,cols:A,itemMarker:c,render:l}=e,u=Ope(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker","render"]),{gridRow:f}=u;return d=>{const{value:h,theme:p}=d,{bbox:g}=h,{width:v,height:y}=Tpe(h,e,EB),m=n4(a,n),b=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:v,height:y,layout:A!==void 0?"grid":"flex"},A!==void 0&&{gridCol:A}),f!==void 0&&{gridRow:f}),{titleText:Sg(s)}),kpe(e,d)),{legendCategory:w={}}=p,B=Fg(Object.assign({},w,Qpe(b),u,{classNamePrefix:Na}));if(l)return new pE({className:xB,style:Object.assign(Object.assign({},B),{x:g.x,y:g.y,render:l})});const x=new tse({style:Object.assign(Object.assign({x:g.x,y:g.y,width:g.width,height:g.height},m),{subOptions:B})});return x.appendChild(new pE({className:"legend-category",style:B})),x}};EB.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var Ipe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Lpe(e,t,n){return e.size=t,nse(n)?e.height=t:e.width=t,e}function Upe(e,t,n){const{size:r}=t,i=i4(e,t,n);return Lpe(i,r,i.orientation)}function Ppe(e){return t=>({value:t/e,label:String(t),domainValue:t})}function Npe(e,t,n,r,i){const a=t.thresholds,o=Ppe(r);return Object.assign(Object.assign({},e),{color:i,data:[n,...a,r].map(o)})}function Rpe(e,t,n){const i=[-1/0,...t.thresholds,1/0].map((a,o)=>({value:o,domainValue:a,label:a}));return Object.assign(Object.assign({},e),{data:i,color:n,labelFilter:(a,o)=>o>0&&o<i.length-1})}function Rm(e){const{domain:t}=e.getOptions(),[n,r]=[t[0],Ck(t)];return[n,r]}function Hpe(e,t){const n=e.getOptions(),r=e.clone();return r.update(Object.assign(Object.assign({},n),{range:[uo(t).toString()]})),r}function Dpe(e,t,n,r,i,a){const{length:o}=e,s=n||r,A=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=t||Hpe(s,A),[l,u]=Rm(c),[f,d]=Rm([t,n,r].filter(h=>h!==void 0).find(h=>!(h instanceof R1)));return Object.assign(Object.assign({},e),{domain:[f,d],data:c.getTicks().map(h=>({value:h})),color:new Array(Math.floor(o)).fill(0).map((h,p)=>{const g=(u-l)/(o-1)*p+l,v=c.map(g)||A,y=r?r.map(g):1;return v.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(m,b,w,B)=>`rgba(${b}, ${w}, ${B}, ${y})`)})})}function jpe(e,t,n,r,i,a){const o=Vi(e,"color"),s=Upe(n,r,i);if(o instanceof Pp){const{range:l}=o.getOptions(),[u,f]=Rm(o);return o instanceof hk||o instanceof gk?Npe(s,o,u,f,l):Rpe(s,o,l)}const A=Vi(e,"size"),c=Vi(e,"opacity");return Dpe(s,o,A,c,t,a)}const Io=e=>{const{labelFormatter:t,layout:n,order:r,orientation:i,position:a,size:o,title:s,style:A,crossPadding:c,padding:l}=e,u=Ipe(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:f,value:d,theme:h,scale:p})=>{const{bbox:g}=d,{x:v,y,width:m,height:b}=g,w=n4(a,n),{legendContinuous:B={}}=h,x=Fg(Object.assign({},B,Object.assign(Object.assign(Object.assign({titleText:Sg(s),labelAlign:"value",labelFormatter:typeof t=="string"?E=>Ra(t)(E.label):t},jpe(f,p,d,e,Io,h)),A),{classNamePrefix:Na}),u)),C=new r4({style:Object.assign(Object.assign({x:v,y,width:m,height:b},w),{subOptions:x})});return C.appendChild(new Bne({className:"legend-continuous",style:x})),C}};Io.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const UR=e=>(...t)=>Io(Object.assign({},{block:!0},e))(...t);UR.props=Object.assign(Object.assign({},Io.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const OB=e=>t=>{const{scales:n}=t,r=Vi(n,"size");return Io(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},e))(t)};OB.props=Object.assign(Object.assign({},Io.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const PR=e=>OB(Object.assign({},{block:!0},e));PR.props=Object.assign(Object.assign({},Io.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var $pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function sF(e,t,n,r){switch(r){case"center":return{x:e+n/2,y:t,textAlign:"middle"};case"right":return{x:e+n,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}const Kpe=ese({render(e,t){const{width:n,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:A}=e,c=$pe(e,["width","title","subtitle","spacing","align","x","y"]);t.style.transform=`translate(${s}, ${A})`;const l=de(c,"title"),u=de(c,"subtitle"),d=UO(t,".title","text").attr("className","title").call(we,Object.assign(Object.assign(Object.assign({},sF(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),l)).node().getLocalBounds();UO(t,".sub-title","text").attr("className","sub-title").call(h=>{if(!i)return h.node().remove();h.node().attr(Object.assign(Object.assign(Object.assign({},sF(0,d.max[1]+a,n,o)),{fontSize:12,textBaseline:"top",text:i}),u))})}}),NR=e=>({value:t,theme:n})=>{const{x:r,y:i,width:a,height:o}=t.bbox;return new Kpe({style:ee({},n.title,Object.assign({x:r,y:i,width:a,height:o},e))})};NR.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var Gpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zpe(e,t,n){const{x:r,y:i,width:a,height:o}=e;if(t==="left")return[r+a-n,i];if(t==="right")return[r,i];if(t==="bottom")return[r,i];if(t==="top")return[r,i+o-n]}const Wu=e=>{const{orientation:t,labelFormatter:n,size:r,style:i={},position:a}=e,o=Gpe(e,["orientation","labelFormatter","size","style","position"]);return s=>{var A;const{scales:[c],value:l,theme:u,coordinate:f}=s,{bbox:d}=l,{width:h,height:p}=d,{slider:g={}}=u,v=((A=c.getFormatter)===null||A===void 0?void 0:A.call(c))||(C=>C+""),y=typeof n=="string"?Ra(n):n,m=t==="horizontal",b=Ct(f)&&m,{trackSize:w=g.trackSize}=i,[B,x]=zpe(d,a,w);return new kL({className:"slider",style:Object.assign({},g,Object.assign(Object.assign({x:B,y:x,trackLength:m?h:p,orientation:t,formatter:C=>{const E=y||v,O=b?1-C:C,S=nc(c,O,!0);return E(S)},sparklineData:Wpe(e,s)},i),o))})}};function Vpe(e,t){const[n]=Array.from(e.entries()).filter(([i])=>i.type==="line"||i.type==="area"||i.type==="interval").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o!=null&&o.x){const s=A=>{const c=a[A];return[A,c?c.value:void 0]};return Object.fromEntries(t.map(s))}});if(!(n!=null&&n.series))return n==null?void 0:n.y;const r=n.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(n.y[o]),i),{});return Object.values(r)}function Wpe(e,t){const{markState:n}=t;return Cn(e.sparklineData)?e.sparklineData:Vpe(n,["y","series"])}Wu.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const RR=e=>Wu(Object.assign(Object.assign({},e),{orientation:"horizontal"}));RR.props=Object.assign(Object.assign({},Wu.props),{defaultPosition:"bottom"});const HR=e=>Wu(Object.assign(Object.assign({},e),{orientation:"vertical"}));HR.props=Object.assign(Object.assign({},Wu.props),{defaultPosition:"left"});var Ype=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yu=e=>{const{orientation:t,labelFormatter:n,style:r}=e,i=Ype(e,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:A}=o,{x:c,y:l,width:u,height:f}=A,{scrollbar:d={}}=s,{ratio:h,range:p}=a.getOptions(),g=t==="horizontal"?u:f,v=g/h,[y,m]=p,b=m>y?0:1;return new Ree({className:`${Na}scrollbar`,style:Object.assign({},d,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:l,trackLength:g,value:b}),i),{orientation:t,contentLength:v,viewportLength:g}))})}};Yu.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const DR=e=>Yu(Object.assign(Object.assign({},e),{orientation:"horizontal"}));DR.props=Object.assign(Object.assign({},Yu.props),{defaultPosition:"bottom"});const jR=e=>Yu(Object.assign(Object.assign({},e),{orientation:"vertical"}));jR.props=Object.assign(Object.assign({},Yu.props),{defaultPosition:"left"});const $R=e=>()=>new xn;$R.props={};const SB=(e,t)=>{const{coordinate:r}=t;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Ct(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.01},{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u}];return s.animate(h,Object.assign(Object.assign({},o),e))}},Xpe=(e,t)=>{const{coordinate:r}=t;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Ct(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),e))}},KR=(e,t)=>{const{coordinate:r}=t;return hb.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:fe.NUMBER}),(i,a,o)=>{const[s]=i,A=l=>{const{__data__:u,style:f}=l,{fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=f,{points:g,y:v,y1:y}=u,m=Rs(r,g,[v,y]),{innerRadius:b,outerRadius:w}=m,B=[{scaleInYRadius:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:b+1e-4,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{scaleInYRadius:w,fillOpacity:d,strokeOpacity:h,opacity:p}];return l.animate(B,Object.assign(Object.assign({},o),e))},c=l=>{const{style:u}=l,{transform:f="",fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=u,[g,v]=Ct(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],y=[{transform:`${f} ${v}`.trimStart(),transformOrigin:g,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${f} ${v}`.trimStart(),transformOrigin:g,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{transform:`${f} scale(1, 1)`.trimStart(),transformOrigin:g,fillOpacity:d,strokeOpacity:h,opacity:p}];return l.animate(y,Object.assign(Object.assign({},o),e))};return lt(r)?A(s):c(s)}},qpe=(e,t)=>{const{coordinate:r}=t;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Ct(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),e))}},GR=e=>(t,n,r)=>{const[i]=t,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(A,Object.assign(Object.assign({},r),e))};GR.props={};const zR=e=>(t,n,r)=>{const[i]=t,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(A,Object.assign(Object.assign({},r),e))};zR.props={};const Zpe={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},Jpe={[Z.CIRCLE]:["cx","cy","r"],[Z.ELLIPSE]:["cx","cy","rx","ry"],[Z.RECT]:["x","y","width","height"],[Z.IMAGE]:["x","y","width","height"],[Z.LINE]:["x1","y1","x2","y2"],[Z.POLYLINE]:["points"],[Z.POLYGON]:["points"]};function rc(e,t,n=!1){const r={};for(const i of t){const a=e.style[i];a?r[i]=a:n&&(r[i]=Zpe[i])}return r}const vu=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function Hm(e){const{min:t,max:n}=e.getLocalBounds(),[r,i]=t,[a,o]=n,s=o-i,A=a-r;return[r,i,A,s]}function ege(e){const[t,n,r,i]=e;return`
    M ${t} ${n}
    L ${t+r} ${n}
    L ${t+r} ${n+i}
    L ${t} ${n+i}
    Z
  `}function tge(e,t){const[n,r,i,a]=Hm(e),o=a/i,s=Math.ceil(Math.sqrt(t/o)),A=Math.ceil(t/s),c=[],l=a/A;let u=0,f=t;for(;f>0;){const d=Math.min(f,s),h=i/d;for(let p=0;p<d;p++){const g=n+p*h,v=r+u*l;c.push(ege([g,v,h,l]))}f-=d,u+=1}return c}function nge(e="pack"){return typeof e=="function"?e:tge}function rge(e,t,n){let{transform:r}=e.style;const{transform:i}=t.style;VR(t,e);let a=vu;if(e.nodeName===Z.GROUP){const[A,c,l,u]=Hm(e),[f,d,h,p]=Hm(t),g=A-f,v=c-d,y=l/h,m=u/p;r=`translate(${g}, ${v}) scale(${y}, ${m})`}else a=a.concat(Jpe[e.nodeName]||[]);const o=[Object.assign({transform:r??"none"},rc(e,a,!0)),Object.assign({transform:i??"none"},rc(t,a,!0))];return t.animate(o,n)}function VR(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function ige(e,t){const{nodeName:n}=e;if(n==="path")return e;const r=new bn({style:Object.assign(Object.assign({},rc(e,vu)),{d:t})});return VR(r,e),r}function AF(e,t){const n=e.indexOf(t),r=e.lastIndexOf(t);return n===r}function age(e){return!AF(e,"m")||!AF(e,"M")}function cF(e){const t=_G(e);if(t&&!age(t))return t}function lF(e){const{nodeName:t}=e;if(t==="path"){const n=We(e,"attributes");return n.markerEnd||n.markerStart}return!1}function FB(e,t,n,r){const{nodeName:i}=t,{nodeName:a}=n,o=cF(t),s=cF(n),{opacity:A=1,strokeOpacity:c=1,fillOpacity:l=1}=t.style,{opacity:u=1,strokeOpacity:f=1,fillOpacity:d=1}=n.style,h=i===a&&i!=="path",p=o===void 0||s===void 0,g=lF(t)||lF(n);if(h||p||g)return rge(t,n,r);const v=ige(e,o),y=Object.assign(Object.assign({},rc(t,vu)),{opacity:A,strokeOpacity:c,fillOpacity:l}),m=Object.assign(Object.assign({},rc(n,vu)),{opacity:u,strokeOpacity:f,fillOpacity:d}),b=[y,m];if(o!==s){b[0].d=o,b[1].d=s;const w=v.animate(b,r);return w.onfinish=()=>{Rp(v,n),v.style.d=s,v.style.transform="none"},v.style.transform="none",w}return Nl(y,m)?null:v.animate(b,r)}function oge(e,t,n,r){e.style.visibility="hidden";const i=r(e,t.length);return t.map((a,o)=>{const s=new bn({style:Object.assign({d:i[o]},rc(e,vu))});return FB(a,s,a,n)})}function sge(e,t,n,r){const i=r(t,e.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=t.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],c=t.animate(A,n);return[...e.map((u,f)=>{const d=new bn({style:{d:i[f],fill:t.style.fill}});return FB(u,u,d,n)}),c]}const WR=e=>(t,n,r)=>{const i=nge(e.split),a=Object.assign(Object.assign({},r),e),{length:o}=t,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[A]=t,[c]=n;return FB(A,A,c,a)}if(o===1&&s>1){const[A]=t;return oge(A,n,a,i)}if(o>1&&s===1){const[A]=n;return sge(t,A,a,i)}return null};WR.props={};const YR=(e,t)=>{hb.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:fe.NUMBER});const{coordinate:r}=t;return(i,a,o)=>{const[s]=i;if(!lt(r))return SB(e,t)(i,a,o);const{__data__:A,style:c}=s,{radius:l=0,inset:u=0,fillOpacity:f=1,strokeOpacity:d=1,opacity:h=1}=c,{points:p,y:g,y1:v}=A,y=Z1().cornerRadius(l).padAngle(u*Math.PI/180),m=Rs(r,p,[g,v]),{startAngle:b,endAngle:w}=m,B=[{waveInArcAngle:b+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:b+1e-4,fillOpacity:f,strokeOpacity:d,opacity:h,offset:.01},{waveInArcAngle:w,fillOpacity:f,strokeOpacity:d,opacity:h}],x=s.animate(B,Object.assign(Object.assign({},o),e));return x.onframe=function(){s.style.d=y(Object.assign(Object.assign({},m),{endAngle:Number(s.style.waveInArcAngle)}))},x.onfinish=function(){s.style.d=y(Object.assign(Object.assign({},m),{endAngle:w}))},x}};YR.props={};const Age=e=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c}];return a.animate(u,Object.assign(Object.assign({},i),e))},cge=e=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:l},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(u,Object.assign(Object.assign({},i),e))},XR=e=>(t,n,r)=>{var i,a;const[o]=t,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,A=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(A,Object.assign(Object.assign({},r),e))};XR.props={};const qR=(e,t)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new bn({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,SB(e,t)([u],r,i)};qR.props={};const ZR=(e,t)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new bn({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,KR(e,t)([u],r,i)};ZR.props={};var lge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uge(e,{elements:t,datum:n,groupKey:r=h=>h,regionGroupKey:i=h=>h,link:a=!1,background:o=!1,delay:s=60,scale:A,coordinate:c,emitter:l,state:u={},region:f=!1,regionEleFilter:d=h=>BB.includes(h.markType)}){var h,p;const g=(h=t(e))!==null&&h!==void 0?h:[],v=f?g.filter(d):g,y=new Set(v),m=f?i:r,b=bt(v,m),w=OR({elementsof:t,root:e,coordinate:c,scale:A}),B=pc(v,n),[x,C]=BR(Object.assign({elements:v,valueof:B,link:a,coordinate:c},de(u.active,"link"))),[E,O,S]=CR(Object.assign({document:e.ownerDocument,scale:A,coordinate:c,background:o,valueof:B},de(u.active,"background"))),_=ee(u,{active:Object.assign({},((p=u.active)===null||p===void 0?void 0:p.offset)&&{transform:(...$)=>{const V=u.active.offset(...$),[,W]=$;return xR(v[W],V,c)}})}),F=wB(_,v),{updateState:k,removeState:Q,hasState:L}=F(B);let T;const M=$=>{const{nativeEvent:V=!0}=$;let W=$.target;if(f&&(W=w($)),!y.has(W))return;T&&clearTimeout(T);const z=m(W),ne=b.get(z),ie=new Set(ne);for(const le of v)ie.has(le)?L(le,"active")||k(le,"active"):(k(le,"inactive"),C(le)),le!==W&&O(le);E(W),x(ne),V&&l.emit("element:highlight",{nativeEvent:V,data:{data:n(W),group:ne.map(n)}})},I=()=>{T&&clearTimeout(T),T=setTimeout(()=>{U(),T=null},s)},U=($=!0)=>{for(const V of v)Q(V,"active","inactive"),O(V),C(V);$&&l.emit("element:unhighlight",{nativeEvent:$})},R=$=>{let V=$.target;if(f&&(V=w($)),!V){s>0?I():U();return}o&&!S(V)||!o&&!y.has(V)||(s>0?I():U())},N=()=>{U()};e.addEventListener("pointerover",M),e.addEventListener("pointermove",M),e.addEventListener("pointerout",R),e.addEventListener("pointerleave",N);const j=$=>{const{nativeEvent:V}=$;V||U(!1)},K=$=>{const{nativeEvent:V}=$;if(V)return;const{data:W}=$.data,z=jg(v,W,n);z&&M({target:z,nativeEvent:!1})};return l.on("element:highlight",K),l.on("element:unhighlight",j),()=>{e.removeEventListener("pointerover",M),e.removeEventListener("pointermove",M),e.removeEventListener("pointerout",R),e.removeEventListener("pointerleave",N),l.off("element:highlight",K),l.off("element:unhighlight",j);for(const $ of v)O($),C($)}}function $g(e){var{delay:t,createGroup:n,createRegionGroup:r,background:i=!1,link:a=!1}=e,o=lge(e,["delay","createGroup","createRegionGroup","background","link"]);return(s,A,c)=>{const{container:l,view:u,options:f}=s,{scale:d,coordinate:h}=u,p=ei(l);return uge(p,Object.assign({elements:La,datum:wo(u),groupKey:n?n(u):void 0,regionGroupKey:r?r(u):zu(),coordinate:h,scale:d,state:Ts(f,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:a,delay:t,emitter:c},o))}}$g.props={reapplyWhenUpdate:!0};function JR(e){return $g(Object.assign(Object.assign({},e),{createGroup:zu}))}JR.props={reapplyWhenUpdate:!0};function eH(e){return $g(Object.assign(Object.assign({},e),{createGroup:bR}))}eH.props={reapplyWhenUpdate:!0};var fge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function dge(e,{elements:t,datum:n,groupKey:r=p=>p,scaleFactor:i=1.04,shadow:a=!0,shadowColor:o="rgba(0, 0, 0, 0.4)",shadowBlur:s=10,shadowOffsetX:A=0,shadowOffsetY:c=2,zIndex:l=10,delay:u=60,emitter:f,state:d={},coordinate:h}){const p=()=>{var M;return(M=t(e))!==null&&M!==void 0?M:[]},g=p(),v=pc(g,n),y=ee(d,{active:{}}),m=wB(y,g),{updateState:b,removeState:w,hasState:B}=m(v),x=new Map;let C;const E=M=>{if(x.has(M))return;const I=M.style.transform||"",U=M.style.transformOrigin||"",R=I==="none"?"":I;if(x.set(M,{transform:I,transformOrigin:U,zIndex:M.style.zIndex||0,shadowColor:M.style.shadowColor||"",shadowBlur:M.style.shadowBlur||0,shadowOffsetX:M.style.shadowOffsetX||0,shadowOffsetY:M.style.shadowOffsetY||0}),h&&lt(h)&&!R){const j=h.getCenter();M.style.transformOrigin=`${j[0]}px ${j[1]}px`}const N=`scale(${i})`;M.style.transform=R?`${R} ${N}`:N,M.style.zIndex=l,a&&(M.style.shadowColor=o,M.style.shadowBlur=s,M.style.shadowOffsetX=A,M.style.shadowOffsetY=c)},O=M=>{const I=x.get(M);I&&(M.style.transform=I.transform,M.style.transformOrigin=I.transformOrigin,M.style.zIndex=I.zIndex,M.style.shadowColor=I.shadowColor,M.style.shadowBlur=I.shadowBlur,M.style.shadowOffsetX=I.shadowOffsetX,M.style.shadowOffsetY=I.shadowOffsetY,x.delete(M))},S=M=>{const{nativeEvent:I=!0}=M,U=M.target,R=p();if(!new Set(R).has(U))return;C&&clearTimeout(C);const j=bt(R,r),K=r(U),$=j.get(K);if(!$)return;const V=new Set($);for(const W of R)V.has(W)||(w(W,"active"),O(W));for(const W of $)B(W,"active")||b(W,"active"),E(W);I&&f.emit("element:hoverscale",{nativeEvent:I,data:{data:n(U),group:$.map(n)}})},_=()=>{C&&clearTimeout(C),C=setTimeout(()=>{F(),C=null},u)},F=(M=!0)=>{const I=p();for(const U of I)w(U,"active"),O(U);M&&f.emit("element:unhoverscale",{nativeEvent:M})},k=()=>{u>0?_():F()},Q=()=>{F()};e.addEventListener("pointerover",S),e.addEventListener("pointermove",S),e.addEventListener("pointerout",k),e.addEventListener("pointerleave",Q);const L=M=>{const{nativeEvent:I}=M;I||F(!1)},T=M=>{const{nativeEvent:I}=M;if(I)return;const{data:U}=M.data,R=p(),N=jg(R,U,n);N&&S({target:N,nativeEvent:!1})};return f.on("element:hoverscale",T),f.on("element:unhoverscale",L),()=>{e.removeEventListener("pointerover",S),e.removeEventListener("pointermove",S),e.removeEventListener("pointerout",k),e.removeEventListener("pointerleave",Q),f.off("element:hoverscale",T),f.off("element:unhoverscale",L);const M=p();for(const I of M)O(I);x.clear()}}function tH(e){var{delay:t,createGroup:n,scale:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c}=e,l=fge(e,["delay","createGroup","scale","shadow","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","zIndex"]);return(u,f,d)=>{const{container:h,view:p,options:g}=u,v=ei(h),y=wo(p),{coordinate:m}=p;return dge(v,Object.assign({elements:La,datum:y,groupKey:n?b=>n(p)(y(b)):void 0,state:Ts(g,["active"]),scaleFactor:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c,delay:t,emitter:d,coordinate:m},l))}}tH.props={reapplyWhenUpdate:!0};var hge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function pge(e,{elements:t,datum:n,groupKey:r=p=>p,regionGroupKey:i=p=>p,link:a=!1,single:o=!1,multipleSelectHotkey:s,coordinate:A,background:c=!1,scale:l,emitter:u,state:f={},region:d=!1,regionEleFilter:h=p=>BB.includes(p.markType)}){var p;const g=t(e),v=new Set(g),y=OR({elementsof:t,root:e,coordinate:A,scale:l}),m=bt(g,r),b=bt(g,i),w=pc(g,n),[B,x]=BR(Object.assign({link:a,elements:g,valueof:w,coordinate:A},de(f.selected,"link"))),[C,E]=CR(Object.assign({document:e.ownerDocument,background:c,coordinate:A,scale:l,valueof:w},de(f.selected,"background"))),O=ee(f,{selected:Object.assign({},((p=f.selected)===null||p===void 0?void 0:p.offset)&&{transform:(...z)=>{const ne=f.selected.offset(...z),[,ie]=z;return xR(g[ie],ne,A)}})}),S=wB(O,g),{updateState:_,removeState:F,hasState:k}=S(w);let Q=!o,L=null;const T=(z=!0)=>{for(const ne of g)F(ne,"selected","unselected"),x(ne),E(ne);z&&u.emit("element:unselect",{nativeEvent:!0})},M=({event:z,element:ne,nativeEvent:ie=!0,filter:le=G=>!0,groupBy:P=r,groupMap:D=m})=>{const G=g.filter(le);if(k(ne,"selected"))T();else{const Y=P(ne),X=D.get(Y),q=new Set(X);for(const J of G)q.has(J)?_(J,"selected"):(_(J,"unselected"),x(J)),J!==ne&&E(J);if(B(X),C(ne),!ie)return;u.emit("element:select",Object.assign(Object.assign({},z),{nativeEvent:ie,data:{data:[n(ne),...X.map(n)]}}))}},I=({event:z,element:ne,nativeEvent:ie=!0,filter:le=G=>!0,groupBy:P=r,groupMap:D=m})=>{const G=P(ne),Y=D.get(G),X=new Set(Y),q=g.filter(le);if(k(ne,"selected")){if(!g.some(te=>!X.has(te)&&k(te,"selected")))return T();for(const te of Y)_(te,"unselected"),x(te),E(te)}else{const J=Y.some(te=>k(te,"selected"));for(const te of q)X.has(te)?_(te,"selected"):k(te,"selected")||_(te,"unselected");!J&&a&&B(Y),C(ne)}ie&&u.emit("element:select",Object.assign(Object.assign({},z),{nativeEvent:ie,data:{data:g.filter(J=>k(J,"selected")).map(n)}}))},U=z=>{if(v.has(z))return!0;for(const ne of v)if(pu(ne,le=>le===z))return!0;return!1},R=z=>{if(v.has(z))return z;for(const ne of v){let ie=null;if(pu(ne,le=>{le===z&&(ie=ne)}),ie)return ie}return z},N=z=>{const{target:ne,nativeEvent:ie=!0}=z,le=Q?I:M;let P=ne;const D=U(ne);return!d||D?D?le({event:z,element:R(P),nativeEvent:ie,groupBy:r}):T():(P=y(z),v.has(P)?le({event:z,element:P,nativeEvent:ie,filter:h,groupBy:i,groupMap:b}):T())},j=Array.isArray(s)?s:[s],K=z=>{j.includes(z.code)&&!L&&(L=z.code,Q=!0)},$=z=>{z.code===L&&(L=null,Q=!1)};e.addEventListener("click",N),s&&(Q=!1,document.addEventListener("keydown",K),document.addEventListener("keyup",$));const V=z=>{const{nativeEvent:ne,data:ie}=z;if(ne)return;const le=Q?ie.data:ie.data.slice(0,1);for(const P of le){const D=jg(g,P,n);N({target:D,nativeEvent:!1})}},W=()=>{T(!1)};return u.on("element:select",V),u.on("element:unselect",W),()=>{for(const z of g)x(z);e.removeEventListener("click",N),s&&(document.removeEventListener("keydown",K),document.removeEventListener("keyup",$)),u.off("element:select",V),u.off("element:unselect",W)}}function Kg(e){var{createGroup:t,createRegionGroup:n,background:r=!1,link:i=!1}=e,a=hge(e,["createGroup","createRegionGroup","background","link"]);return(o,s,A)=>{const{container:c,view:l,options:u}=o,{coordinate:f,scale:d}=l,h=ei(c);return pge(h,Object.assign({elements:La,datum:wo(l),groupKey:t?t(l):void 0,regionGroupKey:n?n(l):zu(),coordinate:f,scale:d,state:Ts(u,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:A},a))}}Kg.props={reapplyWhenUpdate:!0};function nH(e){return Kg(Object.assign(Object.assign({},e),{createGroup:zu}))}nH.props={reapplyWhenUpdate:!0};function rH(e){return Kg(Object.assign(Object.assign({},e),{createGroup:bR}))}rH.props={reapplyWhenUpdate:!0};var gge=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},vge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function yge(e){const{transform:t=[]}=e,n=t.find(i=>i.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return t.push(r),e.transform=t,r}function mge(e,t,n){const[r]=Array.from(e.entries()).filter(([i])=>i.type===t).map(([i])=>{const{encode:a}=i,o=s=>{const A=a[s];return[s,A?A.value:void 0]};return Object.fromEntries(n.map(o))});return r}function iH(e){var{wait:t=20,leading:n,trailing:r=!1,labelFormatter:i=o=>`${o}`}=e,a=vge(e,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:A,update:c,setState:l}=o,{markState:u,scale:f,coordinate:d}=s,h=mge(u,"line",["x","y","series"]);if(!h)return;const{y:p,x:g,series:v=[]}=h,y=p.map((T,M)=>M),m=li(y.map(T=>g[T])),b=ei(A),w=A.getElementsByClassName(Mi),B=A.getElementsByClassName(Am),C=bt(B,T=>T.__data__.key.split("-")[0]),E=new Ns({style:Object.assign({x1:0,y1:0,x2:0,y2:b.getAttribute("height"),stroke:"black",lineWidth:1},de(a,"rule"))}),O=new fi({style:Object.assign({x:0,y:b.getAttribute("height"),text:"",fontSize:10},de(a,"label"))});E.append(O),b.appendChild(E);const S=(T,M,I)=>{const[U]=T.invert(I),R=M.invert(U);return m[E6(m,R)]},_=(T,M)=>{E.setAttribute("x1",T[0]),E.setAttribute("x2",T[0]),O.setAttribute("text",i(M))};let F;const k=T=>gge(this,void 0,void 0,function*(){const{x:M}=f,I=S(d,M,T);_(T,I),l("chartIndex",R=>{const N=ee({},R),j=N.marks.find(z=>z.type==="line"),$=ct(_1(y,z=>ct(z,ne=>+p[ne])/Or(z,ne=>+p[ne]),z=>v[z]).values()),V=[1/$,$];ee(j,{scale:{y:{domain:V}}});const W=yge(j);W.groupBy="color",W.basis=(z,ne)=>{const ie=z[xa(le=>g[+le]).center(z,I)];return ne[ie]};for(const z of N.marks)z.animate=!1;return N}),F=(yield c("chartIndex")).view}),Q=T=>{const{scale:M,coordinate:I}=F,{x:U,y:R}=M,N=S(I,U,T);_(T,N);for(const j of w){const{seriesIndex:K,key:$}=j.__data__,V=K[xa(D=>g[+D]).center(K,N)],W=[0,R.map(1)],z=[0,R.map(p[V]/p[K[0]])],[,ne]=I.map(W),[,ie]=I.map(z),le=ne-ie;j.setAttribute("transform",`translate(0, ${le})`);const P=C.get($)||[];for(const D of P)D.setAttribute("dy",le)}},L=ys(T=>{const M=ks(b,T);M&&Q(M)},t,{leading:n,trailing:r});return k([0,0]),b.addEventListener("pointerenter",L),b.addEventListener("pointermove",L),b.addEventListener("pointerleave",L),()=>{E.remove(),b.removeEventListener("pointerenter",L),b.removeEventListener("pointermove",L),b.removeEventListener("pointerleave",L)}}}iH.props={reapplyWhenUpdate:!0};function bge(e){const{coordinate:t={}}=e,{transform:n=[]}=t,r=n.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return n.push(i),t.transform=n,e.coordinate=t,i}function wge({wait:e=30,leading:t,trailing:n=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,A=ei(s),c=ys(l=>{const u=ks(A,l);if(!u){o("fisheye"),a();return}o("fisheye",f=>{const d=ee({},f,{interaction:{tooltip:{preserve:!0}}});for(const v of d.marks)v.animate=!1;const[h,p]=u,g=bge(d);return g.focusX=h,g.focusY=p,g.visual=!0,d}),a()},e,{leading:t,trailing:n});return A.addEventListener("pointerenter",c),A.addEventListener("pointermove",c),A.addEventListener("pointerleave",c),()=>{A.removeEventListener("pointerenter",c),A.removeEventListener("pointermove",c),A.removeEventListener("pointerleave",c)}}}var Bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const wa="tooltipLocked";function bp(e,t){var n;if(t)return typeof t=="string"?document.querySelector(t):t;const r=(n=e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function Bge(e){const t=e.getRenderBounds(),{min:[n,r],max:[i,a]}=t;return{x:n,y:r,width:i-n,height:a-r}}function xge(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function Cge(e,t,n,r,i,a,o,s={},A=[10,10]){const c={[ns("tooltip")]:{},[ns("tooltip-title")]:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},l=new Cne({className:"tooltip",style:{x:t,y:n,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:A,template:{prefixCls:Na},style:ee(c,s)}});return e.appendChild(l.HTMLTooltipElement),l}function aH({root:e,data:t,x:n,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:A=!1,css:c,mount:l,bounding:u,offset:f}){const d=bp(e,l),h=bp(e),p=o?h:e,g=u||Bge(e),v=xge(h,d),{tooltipElement:y=Cge(d,n,r,s,A,g,v,c,f)}=p,{items:m,title:b=""}=t;y.update(Object.assign({x:n,y:r,data:m.map(w=>Object.assign(Object.assign({},w),{value:!w.value&&w.value!==0?"":w.value})),title:b,position:s,enterable:A,container:v},i!==void 0&&{content:i(a,{items:m,title:b})})),p.tooltipElement=y}function Za({root:e,single:t,emitter:n,nativeEvent:r=!0,event:i=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const a=bp(e),o=t?a:e,{tooltipElement:s}=o;s&&s.hide(i==null?void 0:i.clientX,i==null?void 0:i.clientY),sH(e),AH(e),cH(e)}function Dm({root:e,single:t}){const n=bp(e),r=t?n:e;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),sH(e),AH(e),cH(e)}function _B(e){const{value:t}=e;return Object.assign(Object.assign({},e),{value:t===void 0?"undefined":t})}function Ege(e){var t,n,r,i,a,o,s;const{__data__:A}=e,{title:c,items:l=[]}=A;if(l.some(B=>gB in B)){const B=l.filter(Bt).map(x=>{var{color:C=MB(e)}=x,E=Bo(x,["color"]);return Object.assign(Object.assign({},E),{color:C})}).map(_B);return Object.assign(Object.assign({},c&&{title:c}),{items:B})}const f=(n=(t=A==null?void 0:A.normalized)===null||t===void 0?void 0:t.x)!==null&&n!==void 0?n:0,d=(r=e.parentNode)===null||r===void 0?void 0:r.__data__,h=(i=d==null?void 0:d.encode)!==null&&i!==void 0?i:{},{x:p={},y:g={},color:v={}}=h,{value:y=[]}=p,{value:m=[]}=g,{value:b=[]}=v,w=Math.min(Math.round(y.length*f),y.length-1);return{title:`${y[w]}, ${m[w]}`,items:[{name:(a=v.field)!==null&&a!==void 0?a:"value",value:b[w],color:((o=e.style)===null||o===void 0?void 0:o.fill)||((s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"color"))||"#000"}]}}function Oge(e){const{__data__:t}=e;if(Np(e))return Ege(e);const{title:n,items:r=[]}=t,i=r.filter(Bt).map(a=>{var{color:o=MB(e)}=a,s=Bo(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(_B);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function MB(e){const t=e.getAttribute("fill"),n=e.getAttribute("stroke"),{__data__:r}=e,{color:i=t&&t!=="transparent"?t:n}=r;return i}function uF(e,t=n=>n){const n=new Map(e.map(r=>[t(r),r]));return Array.from(n.values())}function oH(e,t,n,r=e.map(a=>a.__data__),i={}){const a=A=>A instanceof Date?+A:A,o=uF(r.map(A=>A.title),a).filter(Bt),s=r.flatMap((A,c)=>{const l=A.element||e[c],{items:u=[],title:f}=A,d=u.filter(Bt),h=n!==void 0?n:u.length<=1;return d.map(p=>{var{color:g=MB(l)||i.color,name:v}=p,y=Bo(p,["color","name"]);const m=v$(t,A),b=h&&!(gB in y)?m||v:v||m;return Object.assign(Object.assign({},y),{color:g,name:b||f})})}).map(_B);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:uF(s,A=>`(${a(A.name)}, ${a(A.value)}, ${a(A.color)})`)})}function Sge(e,t,n,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:A,startY:c,transposed:l,polar:u,insetLeft:f,insetTop:d}=r,h=Bo(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),g=(B,x,C)=>{const E=new Ji({style:Object.assign({cx:B,cy:x,r:C},p)});return e.appendChild(E),E},v=(B,x,C,E)=>{const O=new Ns({style:Object.assign({x1:B,x2:x,y1:C,y2:E},p)});return e.appendChild(O),O},m=((B,x)=>{if(x.length===1)return x[0];const C=x.map(O=>Ht(O,B)),E=Su(C,O=>O);return x[E]})(n,t),b=()=>l?[A+m[0],A+m[0],c,c+a]:[A,A+i,m[1]+c,m[1]+c],w=()=>{const B=A+f+o/2,x=c+d+s/2,C=Ht([B,x],m);return[B,x,C]};if(u){const[B,x,C]=w(),E=e.ruleX||g(B,x,C);E.style.cx=B,E.style.cy=x,E.style.r=C,e.ruleX=E}else{const[B,x,C,E]=b(),O=e.ruleX||v(B,x,C,E);O.style.x1=B,O.style.x2=x,O.style.y1=C,O.style.y2=E,e.ruleX=O}}function Fge(e,t,n){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:A,transposed:c,polar:l,insetLeft:u,insetTop:f}=n,d=Bo(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const h=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),p=t.map(E=>E[1]),g=t.map(E=>E[0]),v=jl(p),y=jl(g),m=()=>{if(l){const E=Math.min(a,o)/2,O=s+u+a/2,S=A+f+o/2,_=Wr(Wt([y,v],[O,S])),F=O+E*Math.cos(_),k=S+E*Math.sin(_);return[O,F,S,k]}return c?[s,s+r,v+A,v+A]:[y+s,y+s,A,A+i]},[b,w,B,x]=m(),C=()=>{const E=new Ns({style:Object.assign({x1:b,x2:w,y1:B,y2:x},h)});return e.appendChild(E),E};if(g.length>0){const E=e.ruleY||C();E.style.x1=b,E.style.x2=w,E.style.y1=B,E.style.y2=x,e.ruleY=E}}function sH(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function AH(e){e.ruleX&&(e.ruleX.remove(),e.ruleX=void 0)}function _ge(e,{data:t,style:n,theme:r}){e.markers&&e.markers.forEach(o=>o.remove());const{type:i=""}=n,a=t.filter(o=>{const[{x:s,y:A}]=o;return Bt(s)&&Bt(A)}).map(o=>{const[{color:s,element:A},c]=o,l=s||A.style.fill||A.style.stroke||r.color,u=i==="hollow"?"transparent":l,f=i==="hollow"?l:"#fff";return new Ji({className:`${Na}tooltip-marker`,style:Object.assign({cx:c[0],cy:c[1],fill:u,r:4,stroke:f,lineWidth:2,pointerEvents:"none"},n)})});for(const o of a)e.appendChild(o);e.markers=a}function cH(e){e.markers&&(e.markers.forEach(t=>t.remove()),e.markers=[])}function fF(e,t){return Array.from(e.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[t]})}function Ei(e,t){return e===void 0?t:e}function lH(e){const{title:t,items:n}=e;return n.length===0&&t===void 0}function Mge(e){return Array.from(e.values()).some(t=>{var n;return((n=t.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&t.tooltip})}function kge(e,t){const{innerWidth:n,innerHeight:r,marginLeft:i,paddingLeft:a,insetLeft:o,marginTop:s,paddingTop:A,insetTop:c}=e.getOptions();return{x:(t.x-i-a-o)/n,y:(t.y-s-A-c)/r}}function Tge(e){const{x:t}=e;if(!t||!t.valueBandWidth)return!0;const{valueBandWidth:n}=t;return Et(n)?!0:new Set(n.values()).size===1}function Qge(e,t){const{adjustedRange:n,valueBandWidth:r,valueStep:i}=e,a=Array.from(r.values()),o=Array.from(i.values()),A=n.map((c,l)=>{const u=(o[l]-a[l])/2;return[c-u,c+a[l]+u]}).findIndex(([c,l])=>c<=t&&t<=l);return A!==-1?A:t>.5?n.length-1:0}function uH({root:e,event:t,elements:n=[],coordinate:r,scale:i,shared:a}){var o,s;const A=m=>m.markType==="interval",c=m=>Qw.includes(m.markType),l=n.filter(m=>!c(m)),u=l.length>0&&l.every(A)&&!lt(r),f=i.x,d=Tge(i),h=i.series,p=(s=(o=f==null?void 0:f.getBandWidth)===null||o===void 0?void 0:o.call(f))!==null&&s!==void 0?s:0,g=h&&h.valueBandWidth?m=>{const b=Math.round(1/h.valueBandWidth);return m.__data__.x+m.__data__.series*p+p/(b*2)}:m=>m.__data__.x+p/2;u&&l.sort((m,b)=>g(m)-g(b));const v=m=>{const{target:b=Br(n)}=m;return Vu(b,w=>w.classList?(Np(w)&&Tp(w,"__data__.normalized",kge(r,{x:m.offsetX,y:m.offsetY})),w.classList.includes("element")):!1)};return(u?m=>{const b=ks(e,m);if(!b)return;const[w]=r.invert(b),B=xa(g).center,x=d?B(l,w):Qge(f,w),C=l[x];if(!a){const E=l.find(O=>O!==C&&g(O)===g(C));if(E)return v(m)||E}return C}:v)(t)}function fH({root:e,event:t,elements:n,coordinate:r,scale:i,startX:a,startY:o}){const s=Ct(r),A=[],c=[];for(const T of n){if(Qw.includes(T.markType))continue;const{__data__:M}=T,{seriesX:I,title:U,items:R}=M;I?A.push(T):(U||R)&&c.push(T)}const l=T=>T.markType==="interval",u=c.length&&c.every(l)&&!lt(r),f=T=>T.__data__.x,h=!!i.x.getBandWidth&&c.length>0;A.sort((T,M)=>{const I=s?0:1,U=R=>R.getBounds().min[I];return s?U(M)-U(T):U(T)-U(M)});const p=T=>{const M=s?1:0,{min:I,max:U}=T.getLocalBounds();return li([I[M],U[M]])};u?c.sort((T,M)=>f(T)-f(M)):c.sort((T,M)=>{const[I,U]=p(T),[R,N]=p(M),j=(I+U)/2,K=(R+N)/2;return s?K-j:j-K});const g=new Map(A.map(T=>{const{__data__:M}=T,{seriesX:I}=M,U=I.map((N,j)=>j),R=li(U,N=>I[+N]);return[T,[R,I]]})),{x:v}=i,y=v!=null&&v.getBandWidth?v.getBandWidth()/2:0,m=T=>{const[M]=r.invert(T);return M-y},b=(T,M,I,U)=>{const{_x:R}=T,N=R!==void 0?v.map(R):m(M),j=U.filter(Bt),[K,$]=li([j[0],j[j.length-1]]),V=K===$;if(!h&&(N<K||N>$)&&!V)return null;const W=xa(ne=>U[+ne]).center,z=W(I,N);return I[z]},w=u?(T,M)=>{const I=xa(f).center,U=I(M,m(T)),R=M[U];return bt(M,f).get(f(R))}:(T,M)=>{const U=T[s?1:0],R=M.filter(K=>{const[$,V]=p(K);return U>=$&&U<=V});if(!h||R.length>0)return R;const N=xa(K=>{const[$,V]=p(K);return($+V)/2}).center,j=N(M,U);return[M[j]].filter(Bt)},B=(T,M)=>{const{__data__:I}=T;return Object.fromEntries(Object.entries(I).filter(([U])=>U.startsWith("series")&&U!=="series").map(([U,R])=>{const N=R[M];return[oM(U.replace("series","")),N]}))},x=ks(e,t);if(!x)return;const C=[x[0]-a,x[1]-o];if(!C)return;const E=w(C,c),O=[],S=[];for(const T of A){const[M,I]=g.get(T),U=b(t,C,M,I);if(U!==null){O.push(T);const R=B(T,U),{x:N,y:j}=R,K=r.map([(N||0)+y,j||0]);S.push([Object.assign(Object.assign({},R),{element:T}),K])}}const _=Array.from(new Set(S.map(T=>T[0].x))),F=_[Su(_,T=>Math.abs(T-m(C)))],k=S.filter(T=>T[0].x===F),Q=[...k.map(T=>T[0]),...E.map(T=>T.__data__)];return{selectedElements:[...O,...E],selectedData:Q,filteredSeriesData:k,abstractX:m}}function dF(e,t){var{elements:n,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:A,crosshairsY:c,render:l,groupName:u,emitter:f,wait:d=50,leading:h=!0,trailing:p=!1,startX:g=0,startY:v=0,body:y=!0,single:m=!0,position:b,enterable:w,mount:B,bounding:x,theme:C,offset:E,disableNative:O=!1,marker:S=!0,preserve:_=!1,style:F={},css:k={},clickLock:Q=!1,disableAutoHide:L=!1}=t,T=Bo(t,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css","clickLock","disableAutoHide"]);const M=n(e),I=ee(F,T),U=lt(o),R=Ct(o),{innerWidth:N,innerHeight:j,width:K,height:$,insetLeft:V,insetTop:W}=o.getOptions(),z=ys(te=>{var ae;if(Q&&e.getAttribute(wa))return;const re=ks(e,te);if(!re)return;const he=gu(e),ue=he.min[0],ge=he.min[1],{selectedElements:ye,selectedData:me,filteredSeriesData:Ce,abstractX:Se}=fH({root:e,event:te,elements:M,coordinate:o,scale:a,startX:g,startY:v}),Fe=oH(ye,a,u,me,C);if(r&&Fe.items.sort((Je,en)=>r(Je)-r(en)),i&&(Fe.items=Fe.items.filter(i)),ye.length===0||lH(Fe)){ne(te);return}if(y&&aH({root:e,data:Fe,x:re[0]+ue,y:re[1]+ge,render:l,event:te,single:m,position:b,enterable:w,mount:B,bounding:x,css:k,offset:E}),s||A||c){const Je=de(I,"crosshairs"),en=Object.assign(Object.assign({},Je),de(I,"crosshairsX")),Fr=Object.assign(Object.assign({},Je),de(I,"crosshairsY")),Dt=Ce.map(On=>On[1]);A&&Sge(e,Dt,re,Object.assign(Object.assign({},en),{plotWidth:N,plotHeight:j,mainWidth:K,mainHeight:$,insetLeft:V,insetTop:W,startX:g,startY:v,transposed:R,polar:U})),c&&Fge(e,Dt,Object.assign(Object.assign({},Fr),{plotWidth:N,plotHeight:j,mainWidth:K,mainHeight:$,insetLeft:V,insetTop:W,startX:g,startY:v,transposed:R,polar:U}))}if(S){const Je=de(I,"marker");_ge(e,{data:Ce,style:Je,theme:C})}const Ee=(ae=Ce[0])===null||ae===void 0?void 0:ae[0].x,ut=Ee??Se(focus);f.emit("tooltip:show",Object.assign(Object.assign({},te),{nativeEvent:!0,data:Object.assign(Object.assign({},Fe),{data:{x:nc(a.x,ut,!0)}})}))},d,{leading:h,trailing:p}),ne=te=>{Q&&e.getAttribute(wa)||L||Za({root:e,single:m,emitter:f,event:te})},ie=()=>{Dm({root:e,single:m})},le=te=>{var ae,{nativeEvent:re,data:he,offsetX:ue,offsetY:ge}=te,ye=Bo(te,["nativeEvent","data","offsetX","offsetY"]);if(re)return;const me=(ae=he==null?void 0:he.data)===null||ae===void 0?void 0:ae.x,Se=a.x.map(me),[Fe,Ee]=o.map([Se,.5]),ut=gu(e),Je=ut.min[0],en=ut.min[1];z(Object.assign(Object.assign({},ye),{offsetX:ue!==void 0?ue:Je+Fe,offsetY:ge!==void 0?ge:en+Ee,_x:me}))},P=()=>{Za({root:e,single:m,emitter:f,nativeEvent:!1})},D=()=>{J(),ie()},G=te=>{ks(e,te)||ne(te)},Y=()=>{q()},X=te=>{Q&&e.setAttribute(wa,!e.getAttribute(wa)),z(te)},q=()=>{O||(e.addEventListener("pointerdown",X),e.addEventListener("pointerenter",z),e.addEventListener("pointermove",z),e.addEventListener("pointerleave",G),e.addEventListener("pointerup",ne))},J=()=>{O||(e.removeEventListener("pointerdown",X),e.removeEventListener("pointerenter",z),e.removeEventListener("pointermove",z),e.removeEventListener("pointerleave",G),e.removeEventListener("pointerup",ne))};return q(),f.on("tooltip:show",le),f.on("tooltip:hide",P),f.on("tooltip:disable",D),f.on("tooltip:enable",Y),()=>{J(),f.off("tooltip:show",le),f.off("tooltip:hide",P),f.off("tooltip:disable",D),f.off("tooltip:enable",Y),_?Za({root:e,single:m,emitter:f,nativeEvent:!1}):ie()}}function Ige(e,{elements:t,coordinate:n,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:A,wait:c=50,leading:l=!0,trailing:u=!1,groupKey:f=F=>F,single:d=!0,position:h,enterable:p,datum:g,view:v,mount:y,bounding:m,theme:b,offset:w,shared:B=!1,body:x=!0,disableNative:C=!1,preserve:E=!1,css:O={},clickLock:S=!1,disableAutoHide:_=!1}){const F=t(e),k=bt(F,f),Q=ys(K=>{if(S&&e.getAttribute(wa))return;const $=uH({root:e,event:K,elements:F,coordinate:n,scale:r,shared:B});if(!$){_||Za({root:e,single:d,emitter:A,event:K});return}const V=f($),W=k.get(V);if(!W)return;const z=W.length===1&&!B?Oge(W[0]):oH(W,r,a,void 0,b);if(o&&z.items.sort((le,P)=>o(le)-o(P)),s&&(z.items=z.items.filter(s)),lH(z)){_||Za({root:e,single:d,emitter:A,event:K});return}const{offsetX:ne,offsetY:ie}=K;x&&aH({root:e,data:z,x:ne,y:ie,render:i,event:K,single:d,position:h,enterable:p,mount:y,bounding:m,css:O,offset:w}),A.emit("tooltip:show",Object.assign(Object.assign({},K),{nativeEvent:!0,data:Object.assign(Object.assign({},z),{data:D1($,v)})}))},c,{leading:l,trailing:u}),L=K=>{_||Za({root:e,single:d,emitter:A,event:K})},T=K=>{S&&e.setAttribute(wa,!e.getAttribute(wa)),Q(K)},M=()=>{C||(e.addEventListener("pointerdown",T),e.addEventListener("pointermove",Q),e.addEventListener("pointerleave",L),e.addEventListener("pointerup",L))},I=()=>{C||(e.removeEventListener("pointerdown",T),e.removeEventListener("pointermove",Q),e.removeEventListener("pointerleave",L),e.removeEventListener("pointerup",L))},U=({nativeEvent:K,offsetX:$,offsetY:V,data:W})=>{if(K)return;const{data:z}=W,ne=jg(F,z,g);if(!ne)return;const ie=ne.getBBox(),{x:le,y:P,width:D,height:G}=ie,Y=e.getBBox();Q({target:ne,offsetX:$!==void 0?$+Y.x:le+D/2,offsetY:V!==void 0?V+Y.y:P+G/2})},R=({nativeEvent:K}={})=>{K||Za({root:e,single:d,emitter:A,nativeEvent:!1})},N=()=>{I(),Dm({root:e,single:d})},j=()=>{M()};return A.on("tooltip:show",U),A.on("tooltip:hide",R),A.on("tooltip:enable",j),A.on("tooltip:disable",N),M(),()=>{I(),A.off("tooltip:show",U),A.off("tooltip:hide",R),A.off("tooltip:enable",j),A.off("tooltip:disable",N),E?Za({root:e,single:d,emitter:A,nativeEvent:!1}):Dm({root:e,single:d})}}function dH(e){const{shared:t,crosshairs:n,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:A=!1}=e,c=Bo(e,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(l,u,f)=>{const{container:d,view:h}=l,{scale:p,markState:g,coordinate:v,theme:y}=h,m=fF(g,"seriesTooltip"),b=fF(g,"crosshairs"),w=ei(d),B=Ei(a,m),x=Ei(n,b);if(c.clickLock&&!A&&w.setAttribute(wa,!1),B&&Mge(g)&&!A)return dF(w,Object.assign(Object.assign({},c),{theme:y,elements:La,scale:p,coordinate:v,crosshairs:x,crosshairsX:Ei(Ei(r,n),!1),crosshairsY:Ei(i,x),item:s,emitter:f}));if(B&&A){const C=u.filter(Q=>Q!==l&&Q.options.parentKey===l.options.key),E=mR(l,u),O=C[0].view.scale,S=w.getBounds(),_=S.min[0],F=S.min[1];Object.assign(O,{facet:!0});const k=w.parentNode.parentNode;return c.clickLock&&k.setAttribute(wa,!1),dF(k,Object.assign(Object.assign({},c),{theme:y,elements:()=>E,scale:O,coordinate:v,crosshairs:Ei(n,b),crosshairsX:Ei(Ei(r,n),!1),crosshairsY:Ei(i,x),item:s,startX:_,startY:F,emitter:f}))}return Ige(w,Object.assign(Object.assign({},c),{datum:wo(h),elements:La,scale:p,coordinate:v,groupKey:t?zu():void 0,item:s,emitter:f,view:h,theme:y,shared:t}))}}dH.props={reapplyWhenUpdate:!0};function Lge(){return(e,t,n)=>{const{container:r,view:i,options:a}=e,o=CB(r),s=La(r),A=d=>Nm(d).scales[0].name,c=d=>{const{scale:{[d]:h}}=i;return h},l=Ts(a,["active","inactive"]),u=pc(s,wo(i)),f=[];for(const d of o){const h=U=>{const{data:R}=d.attributes,{__data__:N}=U,{index:j}=N;return R[j].label},p=A(d),g=TR(d),v=c(p),y=bt(s,U=>v.invert(U.__data__[p])),{state:m={}}=d.attributes,{inactive:b={}}=m,{setState:w,removeState:B}=ho(l,u),x={inactive:de(b,"marker")},C={inactive:de(b,"label")},{setState:E,removeState:O}=ho(x),{setState:S,removeState:_}=ho(C),F=U=>{for(const R of g){const N=MR(R),j=kR(R);R===U||U===null?(O(N,"inactive"),_(j,"inactive")):(E(N,"inactive"),S(j,"inactive"))}},k=(U,R)=>{const N=h(R),j=new Set(y.get(N));for(const $ of s)j.has($)?w($,"active"):w($,"inactive");F(R);const{nativeEvent:K=!0}=U;K&&n.emit("legend:highlight",Object.assign(Object.assign({},U),{nativeEvent:K,data:{channel:p,value:N}}))},Q=new Map;for(const U of g){const R=N=>{k(N,U)};U.addEventListener("pointerover",R),Q.set(U,R)}const L=U=>{for(const N of s)B(N,"inactive","active");F(null);const{nativeEvent:R=!0}=U;R&&n.emit("legend:unhighlight",{nativeEvent:R})},T=U=>{const{nativeEvent:R,data:N}=U;if(R)return;const{channel:j,value:K}=N;if(j!==p)return;const $=g.find(V=>h(V)===K);$&&k({nativeEvent:!1},$)},M=U=>{const{nativeEvent:R}=U;R||L({nativeEvent:!1})};d.addEventListener("pointerleave",L),n.on("legend:highlight",T),n.on("legend:unhighlight",M);const I=()=>{d.removeEventListener(L),n.off("legend:highlight",T),n.off("legend:unhighlight",M);for(const[U,R]of Q)U.removeEventListener(R)};f.push(I)}return()=>f.forEach(d=>d())}}var Lr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Uge(e,t){const[n,r,i,a]=e,[o,s,A,c]=t;return!(o>i||A<n||s>a||c<r)}function Pge(e,t,n,r,i){const[a,o,s,A]=i;return[Math.max(a,Math.min(e,n)),Math.max(o,Math.min(t,r)),Math.min(s,Math.max(e,n)),Math.min(A,Math.max(t,r))]}function Nge(e){const{width:t,height:n}=e.getBBox();return[0,0,t,n]}function ua(e,t){for(const[n,r]of Object.entries(t))e.style(n,r)}const hF=VA(e=>{const t=e.attributes,{x:n,y:r,width:i,height:a,class:o,renders:s={},handleSize:A=10,document:c}=t,l=Lr(t,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||n===void 0||r===void 0)return;const u=A/2,f=(K,$,V)=>{K.handle||(K.handle=V.createElement("rect"),K.append(K.handle));const{handle:W}=K;return W.attr($),W},d=de(Td(l,"handleNW","handleNE"),"handleN"),{render:h=f}=d,p=Lr(d,["render"]),g=de(l,"handleE"),{render:v=f}=g,y=Lr(g,["render"]),m=de(Td(l,"handleSE","handleSW"),"handleS"),{render:b=f}=m,w=Lr(m,["render"]),B=de(l,"handleW"),{render:x=f}=B,C=Lr(B,["render"]),E=de(l,"handleNW"),{render:O=f}=E,S=Lr(E,["render"]),_=de(l,"handleNE"),{render:F=f}=_,k=Lr(_,["render"]),Q=de(l,"handleSE"),{render:L=f}=Q,T=Lr(Q,["render"]),M=de(l,"handleSW"),{render:I=f}=M,U=Lr(M,["render"]),R=(K,$)=>{const{id:V}=K,W=$(K,K.attributes,c);W.id=V,W.style.draggable=!0},N=K=>()=>{const $=VA(V=>R(V,K));return new $({})},j=_e(e).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);j.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(ua,Object.assign(Object.assign({width:i,height:a},Td(l,"handle")),{transform:void 0})),j.maybeAppend("handle-n",N(h)).style("x",u).style("y",-u).style("width",i-A).style("height",A).style("fill","transparent").call(ua,p),j.maybeAppend("handle-e",N(v)).style("x",i-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(ua,y),j.maybeAppend("handle-s",N(b)).style("x",u).style("y",a-u).style("width",i-A).style("height",A).style("fill","transparent").call(ua,w),j.maybeAppend("handle-w",N(x)).style("x",-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(ua,C),j.maybeAppend("handle-nw",N(O)).style("x",-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(ua,S),j.maybeAppend("handle-ne",N(F)).style("x",i-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(ua,k),j.maybeAppend("handle-se",N(L)).style("x",i-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(ua,T),j.maybeAppend("handle-sw",N(I)).style("x",-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(ua,U)});function kB(e,t){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=Nge(e),brushRegion:A=(W,z,ne,ie,le)=>[W,z,ne,ie],reverse:c=!1,fill:l="#777",fillOpacity:u="0.3",stroke:f="#fff",selectedHandles:d=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,h=Lr(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let p=null,g=null,v=null,y=null,m=null,b=!1;const[w,B,x,C]=s;Wa(e,"crosshair"),e.style.draggable=!0;const E=(W,z,ne)=>{if(a(ne),y&&y.remove(),m&&m.remove(),p=[W,z],c)return O();S()},O=()=>{m=new bn({style:Object.assign(Object.assign({},h),{fill:l,fillOpacity:u,stroke:f,pointerEvents:"none"})}),y=new hF({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(m),e.appendChild(y)},S=()=>{y=new hF({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},h),{fill:l,fillOpacity:u,stroke:f,draggable:!0}),className:"mask"}),e.appendChild(y)},_=(W=!0)=>{y&&y.remove(),m&&m.remove(),p=null,g=null,v=null,b=!1,y=null,m=null,r(W)},F=(W,z,ne=!0)=>{const[ie,le,P,D]=Pge(W[0],W[1],z[0],z[1],s),[G,Y,X,q]=A(ie,le,P,D,s);return c?Q(G,Y,X,q):k(G,Y,X,q),n(G,Y,X,q,ne),[G,Y,X,q]},k=(W,z,ne,ie)=>{y.style.x=W,y.style.y=z,y.style.width=ne-W,y.style.height=ie-z},Q=(W,z,ne,ie)=>{m.style.d=`
      M${w},${B}L${x},${B}L${x},${C}L${w},${C}Z
      M${W},${z}L${W},${ie}L${ne},${ie}L${ne},${z}Z
    `,y.style.x=W,y.style.y=z,y.style.width=ne-W,y.style.height=ie-z},L=W=>{const z=(Y,X,q,J,te)=>Y+X<J?J-X:Y+q>te?te-q:Y,ne=W[0]-v[0],ie=W[1]-v[1],le=z(ne,p[0],g[0],w,x),P=z(ie,p[1],g[1],B,C),D=[p[0]+le,p[1]+P],G=[g[0]+le,g[1]+P];F(D,G)},T={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},M=W=>U(W)||I(W),I=W=>{const{id:z}=W;return d.indexOf(z)===-1?!1:new Set(Object.keys(T)).has(z)},U=W=>W===y.getElementById("selection"),R=W=>{const{target:z}=W,[ne,ie]=Sv(e,W);if(!y||!M(z)){E(ne,ie,W),b=!0;return}M(z)&&(v=[ne,ie])},N=W=>{const{target:z}=W,ne=Sv(e,W);if(!p)return;if(!v)return F(p,ne);if(U(z))return L(ne);const[ie,le]=[ne[0]-v[0],ne[1]-v[1]],{id:P}=z;if(T[P]){const[D,G,Y,X]=T[P].vector;return F([p[0]+ie*D,p[1]+le*G],[g[0]+ie*Y,g[1]+le*X])}},j=W=>{if(v){v=null;const{x:P,y:D,width:G,height:Y}=y.style;p=[P,D],g=[P+G,D+Y],o(P,D,P+G,D+Y,W);return}g=Sv(e,W);const[z,ne,ie,le]=F(p,g);b=!1,i(z,ne,ie,le,W)},K=W=>{const{target:z}=W;y&&!M(z)&&_()},$=W=>{const{target:z}=W;!y||!M(z)||b?Wa(e,"crosshair"):U(z)?Wa(e,"move"):I(z)&&Wa(e,T[z.id].cursor)},V=()=>{Wa(e,"default")};return e.addEventListener("dragstart",R),e.addEventListener("drag",N),e.addEventListener("dragend",j),e.addEventListener("click",K),e.addEventListener("pointermove",$),e.addEventListener("pointerleave",V),{mask:y,move(W,z,ne,ie,le=!0){y||E(W,z,{}),p=[W,z],g=[ne,ie],F([W,z],[ne,ie],le)},remove(W=!0){y&&_(W)},destroy(){y&&_(!1),Wa(e,"default"),e.removeEventListener("dragstart",R),e.removeEventListener("drag",N),e.removeEventListener("dragend",j),e.removeEventListener("click",K),e.removeEventListener("pointermove",$),e.removeEventListener("pointerleave",V)}}}function TB(e,t,n){return t.filter(r=>{if(r===e)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===n)})}function Rge(e,t,n){return TB(e,t,n).map(r=>ei(r.container))}function Hge(e,t,n){return TB(e,t,n).map(r=>r.options)}function pF(e,t){var{elements:n,selectedHandles:r,siblings:i=N=>[],datum:a,brushRegion:o,extent:s,reverse:A,scale:c,coordinate:l,series:u=!1,key:f=N=>N,bboxOf:d=N=>{const{x:j,y:K,width:$,height:V}=N.style;return{x:j,y:K,width:$,height:V}},state:h={},emitter:p}=t,g=Lr(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const v=n(e),y=i(e),m=y.flatMap(n),b=pc(v,a),w=de(g,"mask"),{setState:B,removeState:x}=ho(h,b),C=new Map,{width:E,height:O,x:S=0,y:_=0}=d(e),F=s||[0,0,E,O],k=()=>{for(const N of[...v,...m])x(N,"active","inactive")},Q=(N,j,K,$)=>{var V;for(const z of y)(V=z.brush)===null||V===void 0||V.remove();const W=new Set;for(const z of v){const{min:ne,max:ie}=z.getLocalBounds(),[le,P]=ne,[D,G]=ie;Uge([le,P,D,G],[N,j,K,$])?(B(z,"active"),W.add(f(z))):B(z,"inactive")}for(const z of m)W.has(f(z))?B(z,"active"):B(z,"inactive")},L=()=>{for(const N of v)x(N,"inactive");for(const N of C.values())N.remove();C.clear()},T=(N,j,K,$)=>{const V=z=>{const ne=z.cloneNode();return ne.__data__=z.__data__,z.parentNode.appendChild(ne),C.set(z,ne),ne},W=new _o({style:{x:N+S,y:j+_,width:K-N,height:$-j}});e.appendChild(W);for(const z of v){const ne=C.get(z)||V(z);ne.style.clipPath=W,B(z,"inactive"),B(ne,"active")}},M=kB(e,Object.assign(Object.assign({},w),{extent:F,brushRegion:o,reverse:A,selectedHandles:r,brushended:N=>{const j=u?L:k;N&&p.emit("brush:remove",{nativeEvent:!0}),j()},brushed:(N,j,K,$,V)=>{const W=zd(N,j,K,$,c,l);V&&p.emit("brush:highlight",{nativeEvent:!0,data:{selection:W}}),(u?T:Q)(N,j,K,$)},brushcreated:(N,j,K,$,V)=>{const W=zd(N,j,K,$,c,l);p.emit("brush:end",Object.assign(Object.assign({},V),{nativeEvent:!0,data:{selection:W}}))},brushupdated:(N,j,K,$,V)=>{const W=zd(N,j,K,$,c,l);p.emit("brush:end",Object.assign(Object.assign({},V),{nativeEvent:!0,data:{selection:W}}))},brushstarted:N=>{p.emit("brush:start",N)}})),I=({nativeEvent:N,data:j})=>{if(N)return;const{selection:K}=j,[$,V,W,z]=npe(K,c,l);M.move($,V,W,z,!1)};p.on("brush:highlight",I);const U=({nativeEvent:N}={})=>{N||M.remove(!1)};p.on("brush:remove",U);const R=M.destroy.bind(M);return M.destroy=()=>{p.off("brush:highlight",I),p.off("brush:remove",U),R()},M}function Gg(e){var{facet:t,brushKey:n}=e,r=Lr(e,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:A,options:c}=i,l=ei(s),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]],{scale:d,coordinate:h}=A;if(t){const g=l.getBounds(),v=g.min[0],y=g.min[1],m=g.max[0],b=g.max[1];return pF(l.parentNode.parentNode,Object.assign(Object.assign({elements:()=>mR(i,a),datum:wo(Pm(i,a).map(w=>w.view)),brushRegion:(w,B,x,C)=>[w,B,x,C],extent:[v,y,m,b],state:Ts(Pm(i,a).map(w=>w.options),f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r))}const p=pF(l,Object.assign(Object.assign({elements:La,key:g=>g.__data__.key,siblings:()=>Rge(i,a,n),datum:wo([A,...TB(i,a,n).map(g=>g.view)]),brushRegion:(g,v,y,m)=>[g,v,y,m],extent:void 0,state:Ts([c,...Hge(i,a,n)],f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r));return l.brush=p,()=>p.destroy()}}Gg.props={reapplyWhenUpdate:!0};function QB(e,t,n,r,i){const[,a,,o]=i;return[e,a,n,o]}function Dge(e){return Gg(Object.assign(Object.assign({},e),{brushRegion:QB,selectedHandles:["handle-e","handle-w"]}))}function IB(e,t,n,r,i){const[a,,o]=i;return[a,t,o,r]}function jge(e){return Gg(Object.assign(Object.assign({},e),{brushRegion:IB,selectedHandles:["handle-n","handle-s"]}))}var LB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $ge="axis",Kge="axis-line",Gge="axis-main-group",hH="axis-hot-area";function zge(e){return e.getElementsByClassName($ge)}function pH(e){return e.getElementsByClassName(Kge)[0]}function Vge(e){return e.getElementsByClassName(Gge)[0]}function gH(e){return Vge(e).getLocalBounds()}function Wge(e,t){var{cross:n,offsetX:r,offsetY:i}=t,a=LB(t,["cross","offsetX","offsetY"]);const o=gH(e),s=pH(e),[A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=(u-c)*2;return{brushRegion:IB,hotZone:new _o({className:hH,style:Object.assign({width:n?d/2:d,transform:`translate(${(n?c:A-d/2).toFixed(2)}, ${l})`,height:f-l},a)}),extent:n?(h,p,g,v)=>[-1/0,p,1/0,v]:(h,p,g,v)=>[Math.floor(c-r),p,Math.ceil(u-r),v]}}function Yge(e,t){var{offsetY:n,offsetX:r,cross:i=!1}=t,a=LB(t,["offsetY","offsetX","cross"]);const o=gH(e),s=pH(e),[,A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=f-l;return{brushRegion:QB,hotZone:new _o({className:hH,style:Object.assign({width:u-c,height:i?d:d*2,transform:`translate(${c}, ${i?l:A-d})`},a)}),extent:i?(h,p,g,v)=>[h,-1/0,g,1/0]:(h,p,g,v)=>[h,Math.floor(l-n),g,Math.ceil(f-n)]}}function Xge(e,t){var{axes:n,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:A,reverse:c=!1,state:l={},emitter:u,coordinate:f}=t,d=LB(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const h=r(e),p=n(e),g=pc(h,o),{setState:v,removeState:y}=ho(l,g),m=new Map,b=de(d,"mask"),w=I=>Array.from(m.values()).every(([U,R,N,j])=>I.some(([K,$])=>K>=U&&K<=N&&$>=R&&$<=j)),B=p.map(I=>I.attributes.scale),x=I=>I.length>2?[I[0],I[I.length-1]]:I,C=new Map,E=()=>{C.clear();for(let I=0;I<p.length;I++){const U=B[I],{domain:R}=U.getOptions();C.set(I,x(R))}};E();const O=(I,U)=>{const R=[];for(const j of h){const K=i(j);w(K)?(v(j,"active"),R.push(j)):v(j,"inactive")}if(C.set(I,_(R,I)),!U)return;const N=()=>{if(!F)return Array.from(C.values());const j=[];for(const[K,$]of C){const V=B[K],{name:W}=V.getOptions();W==="x"?j[0]=$:j[1]=$}return j};u.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:N()}})},S=I=>{for(const U of h)y(U,"active","inactive");E(),I&&u.emit("brushAxis:remove",{nativeEvent:!0})},_=(I,U)=>{const R=B[U],{name:N}=R.getOptions(),j=I.map(K=>{const $=K.__data__;return R.invert($[N])});return x(oo(R,j))},F=p.some(a)&&p.some(I=>!a(I)),k=[];for(let I=0;I<p.length;I++){const U=p[I],R=a(U)?Yge:Wge,{hotZone:N,brushRegion:j,extent:K}=R(U,{offsetY:s,offsetX:A,cross:F,zIndex:999,fill:"transparent"});U.parentNode.appendChild(N);const $=kB(N,Object.assign(Object.assign({},b),{reverse:c,brushRegion:j,brushended(V){m.delete(U),Array.from(m.entries()).length===0?S(V):O(I,V)},brushed(V,W,z,ne,ie){m.set(U,K(V,W,z,ne)),O(I,ie)}}));k.push($)}const Q=(I={})=>{const{nativeEvent:U}=I;U||k.forEach(R=>R.remove(!1))},L=(I,U,R)=>{const[N,j]=I,K=W=>W.getStep?W.getStep():0,$=T(N,U,R),V=T(j,U,R)+K(U);return a(R)?[$,-1/0,V,1/0]:[-1/0,$,1/0,V]},T=(I,U,R)=>{const{height:N,width:j}=f.getOptions(),K=U.clone();return a(R)?K.update({range:[0,j]}):K.update({range:[N,0]}),K.map(I)},M=I=>{const{nativeEvent:U}=I;if(U)return;const{selection:R}=I.data;for(let N=0;N<k.length;N++){const j=R[N],K=k[N],$=p[N];if(j){const V=B[N];K.move(...L(j,V,$),!1)}else K.remove(!1)}};return u.on("brushAxis:remove",Q),u.on("brushAxis:highlight",M),()=>{k.forEach(I=>I.destroy()),u.off("brushAxis:remove",Q),u.off("brushAxis:highlight",M)}}function qge(e){return(t,n,r)=>{const{container:i,view:a,options:o}=t,s=ei(i),{x:A,y:c}=s.getBBox(),{coordinate:l}=a;return Xge(i,Object.assign({elements:La,axes:zge,offsetY:c,offsetX:A,points:u=>u.__data__.points,horizontal:u=>{const{startPos:[f,d],endPos:[h,p]}=u.attributes;return f!==h&&d===p},datum:wo(a),state:Ts(o,["active",["inactive",{opacity:.5}]]),coordinate:l,emitter:r},e))}}var Zge=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},vH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Jge(e=300){let t=null;return n=>{const{timeStamp:r}=n;return t!==null&&r-t<e?(t=r,!0):(t=r,!1)}}function e0e(e,t){var{filter:n,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:A,coordinate:c,selection:l,series:u=!1}=t,f=vH(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=de(f,"mask"),{width:h,height:p}=e.getBBox(),g=a||[0,0,h,p],v=Jge(),y=kB(e,Object.assign(Object.assign({},d),{extent:g,brushRegion:i,reverse:o,brushcreated:m}));e.addEventListener("click",b);function m(B,x,C,E,O){B===C&&x===E||(O.nativeEvent=!0,n(l(B,x,C,E),O),y.remove())}function b(B){v(B)&&(B.nativeEvent=!0,r(B))}const w=({nativeEvent:B,data:x})=>{if(B)return;const{selection:C}=x;n(C,{nativeEvent:!1})};return s.on("brush:filter",w),()=>{y.destroy(),s.off("brush:filter",w),e.removeEventListener("click",b)}}function UB(e){var{hideX:t=!0,hideY:n=!0}=e,r=vH(e,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:A,options:c,update:l,setState:u}=i,f=ei(s),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let h=!1,p=!1,g=A;const{scale:v,coordinate:y}=A;return e0e(f,Object.assign(Object.assign({brushRegion:(m,b,w,B)=>[m,b,w,B],selection:(m,b,w,B)=>{const{scale:x,coordinate:C}=g;return zd(m,b,w,B,x,C)},filter:(m,b)=>Zge(this,void 0,void 0,function*(){if(p)return;p=!0;const[w,B]=m;u("brushFilter",C=>{const{marks:E}=C,O=E.map(S=>ee({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},S,{scale:{x:{domain:w,nice:!1},y:{domain:B,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:O,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[w,B]}})),g=(yield l()).view,p=!1,h=!0}),reset:m=>{if(p||!h)return;const{scale:b}=A,{x:w,y:B}=b,x=w.getOptions().domain,C=B.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},m),{data:{selection:[x,C]}})),h=!1,g=A,u("brushFilter"),l()},extent:void 0,emitter:o,scale:v,coordinate:y},d),r))}}function t0e(e){return UB(Object.assign(Object.assign({hideX:!0},e),{brushRegion:QB}))}function n0e(e){return UB(Object.assign(Object.assign({hideY:!0},e),{brushRegion:IB}))}function yH(e,t,n){const r=e?n:t,i=e?t:n,a=Sa(r),o=Sa(i),s=i.getOptions().domain,A=!o&&s&&s.length>=2&&s[0]===0;return{currentScale:r,targetScale:i,isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:A}}function r0e(e,t,n,r,i){const a=e?r:n,o=d=>{const h={};return Object.keys(i).forEach(p=>{(p===d||p.match(new RegExp(`^${d}\\d+$`)))&&(h[p]=i[p])}),h},s=o(e?"x":"y"),A=Object.keys(s),c=A.map(d=>t[d]),l=Sa(a),u=c.map(d=>Sa(d)),f=c.map((d,h)=>{const p=d.getOptions().domain;return!u[h]&&p&&p.length>=2&&p[0]===0});return{currentScale:a,targetScales:c,isSourceDiscrete:l,isTargetDiscrete:u,shouldPreserveZeroBaseline:f,targetScaleKeys:A}}function i0e(e){return Array.from(new Set(e)).sort((n,r)=>n-r)}function a0e({isTargetDiscrete:e,filteredValues:t,shouldPreserveZeroBaseline:n}){if(e)return i0e(t);{const r=Math.min(...t),i=Math.max(...t);return n?[0,i]:[r,i]}}function Lc(e){return e instanceof Date?e.getTime():typeof e=="string"?parseFloat(e):Number(e)}function PB(e,t,n,r,i,a="filter",o=!1){if(SR(a))return[];const s=o?"y":"x",A=o?"x":"y",c=[];for(const l of e){const{channelData:u}=l,f=u[s]||[],d=u[A]||[],h=Array.isArray(f[0])?f[0]:f,p=Array.isArray(d[0]);if(h.length===0)continue;const g=h.length;for(let v=0;v<g;v++){const y=h[v];let m=!1;if(n)m=t.includes(y);else if(t.length>=2){const b=Lc(y),w=Lc(t[0]),B=Lc(t[t.length-1]);!isNaN(b)&&!isNaN(w)&&!isNaN(B)&&(m=b>=w&&b<=B)}if(a==="filter"&&m){if(p){const b=d.length;for(let w=0;w<b;w++){const B=d[w];if(Array.isArray(B)&&v<B.length){const x=B[v],C=Lc(x);isNaN(C)||c.push(C)}}}else if(v<d.length){const b=d[v],w=Lc(b);isNaN(w)||c.push(w)}}}}return c.length>0?a0e({isTargetDiscrete:r,filteredValues:c,shouldPreserveZeroBaseline:i}):[]}function o0e({markDataPairs:e,domain:t,scaleInfo:n,adaptiveMode:r,shouldFilterXAxis:i=!1}){const{isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:s}=n;return PB(e,t,a,o,s,r,i)}function s0e({markDataPairs:e,domain:t,scaleInfo:n,markToScaleMap:r,adaptiveMode:i,shouldFilterXAxis:a=!1}){const o=new Map,{isSourceDiscrete:s,isTargetDiscrete:A,shouldPreserveZeroBaseline:c,targetScaleKeys:l}=n;return e.forEach(u=>{const f=r.get(u.markKey);if(!f)return;const d=l.indexOf(f);if(d===-1)return;const h=A[d],p=c[d],g=PB([u],t,s,h,p,i,a);o.set(f,g)}),o}function A0e(e,t,n,r,i,a,o=!1,s){const A=new Map;if(e.length===0||t.length===0)return A;const{isSourceDiscrete:c,isTargetDiscrete:l,shouldPreserveZeroBaseline:u}=n,f=s?e.filter(h=>s.get(h.markKey)===i):e.filter(h=>h.markKey===r);if(f.length===0)return A;const d=PB(f,t,c,l,u,a,o);return A.set(i,d),A}function mH(e,t,n,r){r&&t instanceof Map?t.forEach((i,a)=>{i&&Array.isArray(i)&&i.length>0&&(e[a]=i)}):!r&&Array.isArray(t)&&t.length>0&&(e[n?"x":"y"]=t)}var c0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};const bH="slider";function wH(e){var t,n,r,i;if(!(e!=null&&e.markState))return 0;let a=0;for(const[o,s]of e.markState.entries()){if(o.type!=="point"||!(s!=null&&s.channels))continue;const A=(t=s.channels)===null||t===void 0?void 0:t.find(c=>c.name==="size");if(A){if(((r=(n=A.scale)===null||n===void 0?void 0:n.range)===null||r===void 0?void 0:r.length)>0){const c=Math.max(...A.scale.range.filter(l=>typeof l=="number"));a=Math.max(a,c);continue}if(((i=A.values)===null||i===void 0?void 0:i.length)>0){const c=A.values.filter(l=>l.value!==void 0).flatMap(l=>Array.isArray(l.value)?l.value:[l.value]).filter(l=>typeof l=="number"&&!isNaN(l));c.length>0&&(a=Math.max(a,...c))}}}return a}function gF(e,t,n,r,i,a,o){if(o){const s=a?r:i.x,A=a?i.y:r;e.emit(t,Object.assign(Object.assign({},n),{nativeEvent:o,data:{selection:[wp(s),wp(A)]}}))}}function vF(e,t,n,r){const{domain0:i,filteredDomain:a,channel0:o,channel1:s,prefix:A,hasState:c,isMultiAxis:l,markToScaleMap:u,enableAdaptiveFiltering:f}=r;l&&a instanceof Map?e(t,d=>Object.assign({},u0e(d,n,{[o]:{domain:i,nice:!1}},A,c,o,s,u||new Map,a))):e(t,d=>Object.assign({},l0e(d,n,Object.assign({[o]:{domain:i,nice:!1}},f&&Array.isArray(a)?{[s]:{domain:a,nice:!0}}:{}),A,c,o,s)))}function l0e(e,t,n,r,i=!1,a="x",o="y"){const{marks:s}=e,A=wH(t),c=s.map(l=>{var u,f;return ee({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:n,[r]:Object.assign(Object.assign({},((u=l[r])===null||u===void 0?void 0:u[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((f=l[r])===null||f===void 0?void 0:f[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:c,insetLeft:A,insetRight:A,insetTop:A,insetBottom:A,clip:!0,animate:!1})}function u0e(e,t,n,r,i=!1,a="x",o="y",s=new Map,A=new Map){const{marks:c}=e,l=wH(t),u=c.map(f=>{var d,h;const p=typeof(f==null?void 0:f.key)=="string"?f.key:String((f==null?void 0:f.key)||""),g=s.get(p),v=A.get(g),y=v&&{y:Object.assign({domain:v,nice:!0},g!=="y"?{independent:!0}:void 0)};return ee({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},f,{scale:Object.assign(Object.assign({},n),y),[r]:Object.assign(Object.assign({},((d=f[r])===null||d===void 0?void 0:d[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((h=f[r])===null||h===void 0?void 0:h[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:u,insetLeft:l,insetRight:l,insetTop:l,insetBottom:l,clip:!0,animate:!1})}function f0e(e,t,n){const[r,i]=e,a=n?A=>1-A:A=>A,o=nc(t,a(r),!0),s=nc(t,a(i),!1);return oo(t,[o,s])}function wp(e){return[e[0],e[e.length-1]]}function BH({initDomain:e={},className:t=bH,prefix:n="slider",setValue:r=(l,u)=>l.setValues(u),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,adaptiveMode:A="filter",getInitValues:c=l=>{var u;const f=(u=l==null?void 0:l.attributes)===null||u===void 0?void 0:u.values;if(f[0]!==0||f[1]!==1)return f}}){return(l,u,f)=>{const{container:d,view:h,update:p,setState:g}=l,v=d.getElementsByClassName(t);if(!v.length)return()=>{};const{scale:y,coordinate:m}=h,{x:b,y:w}=y,B=Ct(m),x=T=>{const M=T==="vertical"?"y":"x",I=T==="vertical"?"x":"y";return B?[I,M]:[M,I]},C=new Map,E=new Set,O=FR(h),S=fpe(h,e,b,w,O),_=Array.from(v),F=T=>_.some(M=>{const{orientation:I}=M.attributes,[U]=x(I);return U===T}),k=F("x")&&!F("y"),Q=F("y")&&!F("x"),L=!SR(A)&&(k||Q);for(const T of v){const{orientation:M}=T.attributes,[I,U]=x(M),R=`${n}${Co(I)}:filter`,N=I==="x",{ratio:j}=b.getOptions(),{ratio:K}=w.getOptions(),$=le=>{if(le.data){const{selection:X}=le.data,[q=wp(S.x),J=wp(S.y)]=X;return N?[oo(b,q,j),oo(w,J,K)]:[oo(w,J,K),oo(b,q,j)]}const{value:P}=le.detail,D=y[I],G=f0e(P,D,B&&M==="horizontal"),Y=S[U];return[G,Y]};let V=!1;const z=g0e({getFiltering:()=>V,setFiltering:le=>{V=le},domainsOf:$,view:h,independentScaleInfo:O,enableAdaptiveFiltering:L,hasOnlyXSlider:k,hasOnlyYSlider:Q,adaptiveMode:A,scaleX:b,scaleY:w,scale:y,channelDomain:S,channel0:I,channel1:U,isX:N,emitter:f,eventName:R,setState:g,slider:T,prefix:n,hasState:i,update:p,wait:a,leading:o,trailing:s}),ne=le=>{const{nativeEvent:P}=le;if(P)return;const{data:D}=le,{selection:G}=D,[Y,X]=G;T.dispatchEvent(new gt("valuechange",{data:D,nativeEvent:!1}));const q=N?rF(Y,b):rF(X,w);r(T,q)};f.on(R,ne),T.addEventListener("valuechange",z),C.set(T,z),E.add([R,ne]);const ie=c(T);ie&&T.dispatchEvent(new gt("valuechange",{detail:{value:ie},nativeEvent:!1,initValue:!0}))}return()=>{for(const[T,M]of C)T.removeEventListener("valuechange",M);for(const[T,M]of E)f.off(T,M)}}}function d0e({view:e,domain0:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,scale:A,channelDomain:c,independentScaleInfo:l,channel0:u}){const f=new Map,d=new Map;if(!r||i.length===0||!(t!=null&&t.length))return{filteredDomain:f,markToScaleMap:d};const h=We(e,"options.slider");if(Object.keys(h).length>0&&Object.prototype.hasOwnProperty.call(h,u)){const g=r0e(n,A,o,s,c);(n?l.markToXScaleMap:l.markToYScaleMap).forEach((m,b)=>{d.set(b,m)});const y=s0e({markDataPairs:i,domain:t,scaleInfo:g,markToScaleMap:d,adaptiveMode:a,shouldFilterXAxis:n});return mH(c,y,n,!0),{filteredDomain:y,markToScaleMap:d}}else{const g=h0e(e,u);if(g){const v=yH(n,o,s),y=n?l.markToXScaleMap:l.markToYScaleMap,m=y.get(g)||"";if(m)return d.set(g,m),{filteredDomain:A0e(i,t,v,g,m,a,n,y),markToScaleMap:d}}}return{filteredDomain:f,markToScaleMap:d}}function h0e(e,t){for(const[n]of e.markState.entries()){const r=We(n,"slider");if(Object.keys(r||{}).length>0&&Object.prototype.hasOwnProperty.call(r,t))return String(n.key||"")}return null}function p0e({domain0:e,domain1:t,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,channelDomain:A,hasOnlyXSlider:c,hasOnlyYSlider:l,isX:u}){let f=t;if(r&&i.length>0&&(c&&u||l&&!u)&&(e==null?void 0:e.length)>0){const d=yH(n,o,s);f=o0e({markDataPairs:i,domain:e,scaleInfo:d,adaptiveMode:a,shouldFilterXAxis:n}),mH(A,f,n,!1)}return f}function g0e({getFiltering:e,setFiltering:t,domainsOf:n,view:r,independentScaleInfo:i,enableAdaptiveFiltering:a,hasOnlyXSlider:o,hasOnlyYSlider:s,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,channel0:d,channel1:h,isX:p,emitter:g,eventName:v,setState:y,slider:m,prefix:b,hasState:w,update:B,wait:x,leading:C,trailing:E}){return ys(O=>c0e(this,void 0,void 0,function*(){const{initValue:S=!1}=O;if(e()&&!S)return;t(!0);const{nativeEvent:_=!0}=O,{markDataPairs:F}=upe(r);if(i[`hasIndependent${h.toUpperCase()}`]){const[Q]=n(O),L=s&&!p,{filteredDomain:T,markToScaleMap:M}=d0e({view:r,domain0:Q,shouldFilterXAxis:L,enableAdaptiveFiltering:a&&(o&&p||s&&!p),markDataPairs:F,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,independentScaleInfo:i,channel0:d});f[d]=Q,gF(g,v,O,Q,f,p,_),vF(y,m,r,{domain0:Q,filteredDomain:T,channel0:d,channel1:h,prefix:b,hasState:w,isMultiAxis:!0,markToScaleMap:M,enableAdaptiveFiltering:a})}else{const[Q,L]=n(O),M=p0e({domain0:Q,domain1:L,shouldFilterXAxis:s&&!p,enableAdaptiveFiltering:a,markDataPairs:F,adaptiveMode:A,scaleX:c,scaleY:l,channelDomain:f,hasOnlyXSlider:o,hasOnlyYSlider:s,isX:p});f[d]=Q,gF(g,v,O,Q,f,p,_),vF(y,m,r,{domain0:Q,filteredDomain:M,channel0:d,channel1:h,prefix:b,hasState:w,isMultiAxis:!1,markToScaleMap:void 0,enableAdaptiveFiltering:a})}yield B(),t(!1)}),x,{leading:C,trailing:E})}function v0e(e){var t;try{const n=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView;if(!n||typeof n.getContextService!="function")return null;const r=n.getContextService().getDomElement();return r instanceof HTMLElement?r:null}catch{return null}}function xH({className:e=bH,setValue:t=(o,s)=>o.setValues(s),minRange:n=.01,wheelSensitivity:r=.05,x:i=!0,y:a=!0}={}){return o=>{const{container:s,view:A}=o,{coordinate:c}=A,l=Ct(c),u=v0e(s),f=Math.max(1e-6,Math.min(1,n)),d=s.getElementsByClassName(e);if(!d.length)return()=>{};const h=(y,m)=>y===!0?!0:y===!1?!1:y==="shift"?m.shiftKey&&!m.ctrlKey&&!m.altKey:y==="ctrl"?m.ctrlKey&&!m.shiftKey&&!m.altKey:y==="alt"?m.altKey&&!m.shiftKey&&!m.ctrlKey:!1,p=(y,m)=>{t(y,m),y.dispatchEvent(new gt("valuechange",{detail:{value:m},nativeEvent:!0}))},g=(y,m,b,w,B)=>{const C=(y-m)/b,E=Math.max(0,Math.min(1,C));return Math.max(w,Math.min(B,E))},v=y=>{if(!u)return;const m=y.target;if(!u.contains(m))return;const b=u.getBoundingClientRect(),w=y.clientX-b.left,B=y.clientY-b.top,x=[];for(const C of d){const{values:E,orientation:O}=C.attributes;if(!E)continue;const S=O==="horizontal";h((l?S?"y":"x":S?"x":"y")==="x"?i:a,y)&&x.push(C)}if(x.length!==0){y.preventDefault(),y.stopPropagation();for(const C of x){const{values:E,orientation:O,x:S,y:_,trackLength:F}=C.attributes,[k,Q]=E,L=Q-k,M=O==="horizontal"?g(w,S,F,k,Q):g(B,_,F,k,Q),I=r*lpe(L),R=1+y.deltaY*I,N=Math.max(f,Math.min(1,L*R)),j=(M-k)/L,K=(Q-M)/L;let $=M-N*j,V=M+N*K;$<0?($=0,V=Math.min(1,N)):V>1&&(V=1,$=Math.max(0,1-N)),p(C,[$,V])}}};return u&&u.addEventListener("wheel",v,{passive:!1,capture:!0}),()=>{u&&u.removeEventListener("wheel",v,{capture:!0})}}}xH.props={reapplyWhenUpdate:!0};const yF=`${Na}scrollbar`;function y0e(e={}){return(t,n,r)=>{const{view:i,container:a}=t;if(!a.getElementsByClassName(yF).length)return()=>{};const{scale:s}=i,{x:A,y:c}=s,l={x:[...A.getOptions().domain],y:[...c.getOptions().domain]};return A.update({domain:A.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),BH(Object.assign({initDomain:l,className:yF,prefix:"scrollbar",hasState:!0,setValue:(f,d)=>f.setValue(d[0]),getInitValues:f=>{const d=f.slider.attributes.values;if(d[0]!==0||d[1]!==1)return d},adaptiveMode:!1},e))(t,n,r)}}var m0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function b0e(e,t,n){return`<${e} style="${Object.entries(n).map(([r,i])=>`${rJ(r)}:${i}`).join(";")}">${t}</${e}>`}const w0e={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function mF(e){return e.nodeName!=="text"?!1:!!e.isOverflowing()}function CH(e){var{offsetX:t=8,offsetY:n=8}=e,r=m0e(e,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,A=de(r,"tip"),c=new Set,l=f=>{const{target:d}=f;if(!mF(d)){f.stopPropagation();return}const{offsetX:h,offsetY:p}=f,g=h+t-o,v=p+n-s;if(d.tip){d.tip.style.x=g,d.tip.style.y=v;return}const{text:y}=d.style,m=new Ps({className:"poptip",style:{innerHTML:b0e("div",y,Object.assign(Object.assign({},w0e),A)),x:g,y:v}});a.appendChild(m),d.tip=m,c.add(m)},u=f=>{const{target:d}=f;if(!mF(d)){f.stopPropagation();return}d.tip&&(d.tip.remove(),d.tip=null,c.delete(d.tip))};return a.addEventListener("pointerover",l),a.addEventListener("pointerout",u),()=>{a.removeEventListener("pointerover",l),a.removeEventListener("pointerout",u),c.forEach(f=>f.remove())}}}CH.props={reapplyWhenUpdate:!0};var B0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},x0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function C0e(e){return _e(e).select(`.${Ss}`).node()}const E0e={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function O0e(e={}){const{originData:t=[],layout:n}=e,r=x0e(e,["originData","layout"]),i=ee({},E0e,r),a=de(i,"breadCrumb"),o=de(i,"active");return s=>{const{update:A,setState:c,container:l,options:u}=s,f=C0e(l),d=u.marks[0],{state:h}=d,p=new xn;f.appendChild(p);const g=(B,x)=>B0e(this,void 0,void 0,function*(){if(p.removeChildren(),x){let C="",E=a.y,O=0;const S=[],_=f.getBBox().width,F=B.map((k,Q)=>{C=`${C}${k}/`,S.push(k);const L=new fi({name:C.replace(/\/$/,""),style:Object.assign(Object.assign({text:k,x:O,path:[...S],depth:Q},a),{y:E})});p.appendChild(L),O+=L.getBBox().width;const T=new fi({style:Object.assign(Object.assign({x:O,text:" / "},a),{y:E})});return p.appendChild(T),O+=T.getBBox().width,O>_&&(E=p.getBBox().height+a.y,O=0,L.attr({x:O,y:E}),O+=L.getBBox().width,T.attr({x:O,y:E}),O+=T.getBBox().width),Q===nh(B)-1&&T.remove(),L});F.forEach((k,Q)=>{if(Q===nh(F)-1)return;const L=Object.assign({},k.attributes);k.attr("cursor","pointer"),k.addEventListener("mouseenter",()=>{k.attr(o)}),k.addEventListener("mouseleave",()=>{k.attr(L)}),k.addEventListener("click",()=>{g(We(k,["style","path"]),We(k,["style","depth"]))})})}mpe(l,c),c("treemapDrillDown",C=>{const{marks:E}=C,O=B.join("/"),S=E.map(_=>{if(_.type!=="rect")return _;let F=t;if(x){const Q=t.filter(U=>{const R=We(U,["id"]);return R&&(R.match(`${O}/`)||O.match(R))}).map(U=>({value:U.height===0?We(U,["value"]):void 0,name:We(U,["id"])})),{paddingLeft:L,paddingBottom:T,paddingRight:M}=n,I=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||p.getBBox().height+10)/(x+1),paddingLeft:L/(x+1),paddingBottom:T/(x+1),paddingRight:M/(x+1),path:U=>U.name,layer:U=>U.depth===x+1});F=sP(Q,I,{value:"value"})[0]}else F=t.filter(Q=>Q.depth===1);const k=[];return F.forEach(({path:Q})=>{k.push(Br(Q))}),ee({},_,{data:F,scale:{color:{domain:k}}})});return Object.assign(Object.assign({},C),{marks:S})}),yield A(void 0,["legendFilter"])}),v=B=>B.attributes.key.split("-")[0],y=B=>We(B,["__data__","key"]),m=B=>{const x=B.target,{markType:C,nodeName:E,attributes:O}=x||{};if(C!=="rect"&&E!==Z.TEXT)return;const S=E===Z.TEXT&&We(O,"isTreemapLabel")===!0?v(x):y(x),_=LA(t,F=>F.id===S);We(_,"height")&&g(We(_,"path"),We(_,"depth"))};f.addEventListener("click",m);const b=b1(Object.assign(Object.assign({},h.active),h.inactive)),w=()=>{ER(f).forEach(x=>{const C=We(x,["style","cursor"]),E=LA(t,O=>O.id===We(x,["__data__","key"]));if(C!=="pointer"&&(E!=null&&E.height)){x.style.cursor="pointer";const O=w1(x.attributes,b);x.addEventListener("mouseenter",()=>{x.attr(h.active)}),x.addEventListener("mouseleave",()=>{x.attr(ee(O,h.inactive))})}})};return w(),f.addEventListener("mousemove",w),()=>{p.remove(),f.removeEventListener("click",m),f.removeEventListener("mousemove",w)}}}var S0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};const F0e=e=>e.querySelectorAll(".element").filter(t=>(t.style||{})[kw]===SA);function _0e(e){return _e(e).select(`.${Ss}`).node()}const M0e={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.6)",fontSize:11},y:4,active:{fill:"rgba(0, 0, 0, 0.4)"}};function k0e(e={}){const{breadCrumb:t={}}=e,n=ee({},M0e,t);return r=>{const{update:i,setState:a,container:o,view:s,options:A}=r,c=o.ownerDocument,l=_0e(o),u=A.marks.find(({id:y})=>y===SA);if(!u)return;const{state:f}=u,d=c.createElement("g");d.style.transform=`translate(${n.x||0}px, ${n.y||0}px)`,d.setAttribute("x","drilldown-breadcrumb"),l.appendChild(d);const h=y=>S0e(this,void 0,void 0,function*(){if(d.removeChildren(),y&&y.length>0){const m=c.createElement("text",{style:Object.assign({text:n.rootText},n.style)});d.appendChild(m);let b="";const w=y;let B=n.style.y,x=m.getBBox().width;const C=l.getBBox().width,E=w.map((S,_)=>{const F=c.createElement("text",{style:Object.assign(Object.assign({x,text:" / "},n.style),{y:B})});d.appendChild(F),x+=F.getBBox().width,b=`${b}${S} / `;const k=c.createElement("text",{name:b.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:S,x},n.style),{y:B})});return d.appendChild(k),x+=k.getBBox().width,x>C&&(B=d.getBBox().height,x=0,F.attr({x,y:B}),x+=F.getBBox().width,k.attr({x,y:B}),x+=k.getBBox().width),k});[m,...E].forEach((S,_)=>{if(_===E.length)return;const F=Object.assign({},S.attributes);S.attr("cursor","pointer"),S.addEventListener("mouseenter",()=>{S.attr(n.active)}),S.addEventListener("mouseleave",()=>{S.attr(F)}),S.addEventListener("click",()=>{h(y.slice(0,_))})})}a("drillDown",m=>{const{marks:b}=m,w=b.map(B=>{if(B.id!==SA&&B.type!=="rect")return B;const{data:x}=B,C=x.filter(E=>{var O;const S=(O=E.path)!==null&&O!==void 0?O:[];if(y.length===0)return!0;if(!Array.isArray(S)||S.length<y.length)return!1;for(let _=0;_<y.length;_++)if(S[_]!==y[_])return!1;return!0});return ee({},B,{data:C})});return Object.assign(Object.assign({},m),{marks:w})}),yield i()}),p=y=>{var m,b;const w=y.target,B=w.markType,x=w.style||{},C=x[kw],E=x[Xh],O=w.__data__;if(B!=="rect"||C!==SA||!E)return;const S=(b=(m=O==null?void 0:O.data)===null||m===void 0?void 0:m.path)!==null&&b!==void 0?b:[];h(S)};l.addEventListener("click",p);const g=b1(Object.assign(Object.assign({},f.active),f.inactive)),v=()=>{F0e(l).forEach(m=>{const b=We(m,["style",Xh]);if(We(m,["style","cursor"])!=="pointer"&&b){m.style.cursor="pointer";const B=w1(m.attributes,g);m.addEventListener("mouseenter",()=>{m.attr(f.active)}),m.addEventListener("mouseleave",()=>{m.attr(ee(B,f.inactive))})}})};return l.addEventListener("mousemove",v),()=>{d.remove(),l.removeEventListener("click",p),l.removeEventListener("mousemove",v)}}}var Fv=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},T0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Q0e={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},_v="movePoint",bF=e=>{const t=e.target,{markType:n}=t;n==="line"&&(t.attr("_lineWidth",t.attr("lineWidth")||1),t.attr("lineWidth",t.attr("_lineWidth")+3)),n==="interval"&&(t.attr("_opacity",t.attr("opacity")||1),t.attr("opacity",.7*t.attr("_opacity")))},wF=e=>{const t=e.target,{markType:n}=t;n==="line"&&t.attr("lineWidth",t.attr("_lineWidth")),n==="interval"&&t.attr("opacity",t.attr("_opacity"))},I0e=(e,t,n)=>t.map(r=>["x","color"].reduce((a,o)=>{const s=n[o];return s&&r[s]!==e[s]?!1:a},!0)?Object.assign(Object.assign({},r),e):r),L0e=e=>{const t=We(e,["__data__","y"]),r=We(e,["__data__","y1"])-t,{__data__:{data:i,encode:a,transform:o},childNodes:s}=e.parentNode,A=LA(o,({type:u})=>u==="normalizeY"),c=We(a,["y","field"]),l=i[s.indexOf(e)][c];return(u,f=!1)=>A||f?u/(1-u)/(r/(1-r))*l:u},U0e=(e,t)=>{const n=We(e,["__data__","seriesItems",t,"0","value"]),r=We(e,["__data__","seriesIndex",t]),{__data__:{data:i,encode:a,transform:o}}=e.parentNode,s=LA(o,({type:l})=>l==="normalizeY"),A=We(a,["y","field"]),c=i[r][A];return l=>s?n===1?l:l/(1-l)/(n/(1-n))*c:l},BF=(e,t,n)=>{e.forEach((r,i)=>{r.attr("stroke",t[1]===i?n.activeStroke:n.stroke)})},xF=(e,t,n,r)=>{const i=new bn({style:n}),a=new fi({style:r});return t.appendChild(a),e.appendChild(i),[i,a]},CF=(e,t)=>{if(!We(e,["options","range","indexOf"]))return;const r=e.options.range.indexOf(t);return e.sortedDomain[r]},Mv=(e,t,n)=>{const r=mp(e,t),a=mp(e,n)/r,o=e[0]+(t[0]-e[0])*a,s=e[1]+(t[1]-e[1])*a;return[o,s]};function P0e(e={}){const{selection:t=[],precision:n=2}=e,r=T0e(e,["selection","precision"]),i=Object.assign(Object.assign({},Q0e),r||{}),a=de(i,"path"),o=de(i,"label"),s=de(i,"point");return(A,c,l)=>{const{update:u,setState:f,container:d,view:h,options:{marks:p,coordinate:g}}=A,v=ei(d);let y=ER(v),m,b=t;const{transform:w=[],type:B}=g,x=!!LA(w,({type:M})=>M==="transpose"),C=B==="polar",E=B==="theta",O=!!LA(y,({markType:M})=>M==="area");O&&(y=y.filter(({markType:M})=>M==="area"));const S=new xn({style:{zIndex:2}});v.appendChild(S);const _=()=>{l.emit("element-point:select",{nativeEvent:!0,data:{selection:b}})},F=(M,I)=>{l.emit("element-point:moved",{nativeEvent:!0,data:{changeData:M,data:I}})},k=M=>{const I=M.target;b=[I.parentNode.childNodes.indexOf(I)],_(),L(I)},Q=M=>{const{data:{selection:I},nativeEvent:U}=M;if(U)return;b=I;const R=We(y,[b==null?void 0:b[0]]);R&&L(R)},L=M=>{const{attributes:I,markType:U,__data__:R}=M,{stroke:N}=I,{points:j,seriesTitle:K,color:$,title:V,seriesX:W,y1:z}=R;if(x&&U!=="interval")return;const{scale:ne,coordinate:ie}=(m==null?void 0:m.view)||h,{color:le,y:P,x:D}=ne,G=ie.getCenter();S.removeChildren();let Y;const X=(q,J,te,ae)=>Fv(this,void 0,void 0,function*(){return f("elementPointMove",re=>{var he;const ue=(((he=m==null?void 0:m.options)===null||he===void 0?void 0:he.marks)||p).map(ge=>{if(!ae.includes(ge.type))return ge;const{data:ye,encode:me}=ge,Se=Object.keys(me).reduce((Ee,ut)=>{const Je=me[ut];return ut==="x"&&(Ee[Je]=q),ut==="y"&&(Ee[Je]=J),ut==="color"&&(Ee[Je]=te),Ee},{}),Fe=I0e(Se,ye,me);return F(Se,Fe),ee({},ge,{data:Fe,animate:!1})});return Object.assign(Object.assign({},re),{marks:ue})}),yield u("elementPointMove")});if(["line","area"].includes(U))j.forEach((q,J)=>{const te=D.invert(W[J]);if(!te)return;const ae=new Ji({name:_v,style:Object.assign({cx:q[0],cy:q[1],fill:N},s)}),re=U0e(M,J);ae.addEventListener("mousedown",he=>{const ue=ie.output([W[J],0]),ge=K==null?void 0:K.length;d.attr("cursor","move"),b[1]!==J&&(b[1]=J,_()),BF(S.childNodes,b,s);const[ye,me]=xF(S,ae,a,o),Ce=Fe=>{const Ee=q[1]+Fe.clientY-Y[1];if(O)if(C){const ut=q[0]+Fe.clientX-Y[0],[Je,en]=Mv(G,ue,[ut,Ee]),[,Fr]=ie.output([1,P.output(0)]),[,Dt]=ie.invert([Je,Fr-(j[J+ge][1]-en)]),On=(J+1)%ge,js=(J-1+ge)%ge,Lo=Ic([j[js],[Je,en],K[On]&&j[On]]);me.attr("text",re(P.invert(Dt)).toFixed(n)),ye.attr("d",Lo),ae.attr("cx",Je),ae.attr("cy",en)}else{const[,ut]=ie.output([1,P.output(0)]),[,Je]=ie.invert([q[0],ut-(j[J+ge][1]-Ee)]),en=Ic([j[J-1],[q[0],Ee],K[J+1]&&j[J+1]]);me.attr("text",re(P.invert(Je)).toFixed(n)),ye.attr("d",en),ae.attr("cy",Ee)}else{const[,ut]=ie.invert([q[0],Ee]),Je=Ic([j[J-1],[q[0],Ee],j[J+1]]);me.attr("text",P.invert(ut).toFixed(n)),ye.attr("d",Je),ae.attr("cy",Ee)}};Y=[he.clientX,he.clientY],window.addEventListener("mousemove",Ce);const Se=()=>Fv(this,void 0,void 0,function*(){if(d.attr("cursor","default"),window.removeEventListener("mousemove",Ce),d.removeEventListener("mouseup",Se),dt(me.attr("text")))return;const Fe=Number(me.attr("text")),Ee=CF(le,$);m=yield X(te,Fe,Ee,["line","area"]),me.remove(),ye.remove(),L(M)});d.addEventListener("mouseup",Se)}),S.appendChild(ae)}),BF(S.childNodes,b,s);else if(U==="interval"){let q=[(j[0][0]+j[1][0])/2,j[0][1]];x?q=[j[0][0],(j[0][1]+j[1][1])/2]:E&&(q=j[0]);const J=L0e(M),te=new Ji({name:_v,style:Object.assign(Object.assign({cx:q[0],cy:q[1],fill:N},s),{stroke:s.activeStroke})});te.addEventListener("mousedown",ae=>{d.attr("cursor","move");const re=CF(le,$),[he,ue]=xF(S,te,a,o),ge=me=>{if(x){const Ce=q[0]+me.clientX-Y[0],[Se]=ie.output([P.output(0),P.output(0)]),[,Fe]=ie.invert([Se+(Ce-j[2][0]),q[1]]),Ee=Ic([[Ce,j[0][1]],[Ce,j[1][1]],j[2],j[3]],!0);ue.attr("text",J(P.invert(Fe)).toFixed(n)),he.attr("d",Ee),te.attr("cx",Ce)}else if(E){const Ce=q[1]+me.clientY-Y[1],Se=q[0]+me.clientX-Y[0],[Fe,Ee]=Mv(G,[Se,Ce],q),[ut,Je]=Mv(G,[Se,Ce],j[1]),en=ie.invert([Fe,Ee])[1],Fr=z-en;if(Fr<0)return;const Dt=cpe(G,[[Fe,Ee],[ut,Je],j[2],j[3]],Fr>.5?1:0);ue.attr("text",J(Fr,!0).toFixed(n)),he.attr("d",Dt),te.attr("cx",Fe),te.attr("cy",Ee)}else{const Ce=q[1]+me.clientY-Y[1],[,Se]=ie.output([1,P.output(0)]),[,Fe]=ie.invert([q[0],Se-(j[2][1]-Ce)]),Ee=Ic([[j[0][0],Ce],[j[1][0],Ce],j[2],j[3]],!0);ue.attr("text",J(P.invert(Fe)).toFixed(n)),he.attr("d",Ee),te.attr("cy",Ce)}};Y=[ae.clientX,ae.clientY],window.addEventListener("mousemove",ge);const ye=()=>Fv(this,void 0,void 0,function*(){if(d.attr("cursor","default"),d.removeEventListener("mouseup",ye),window.removeEventListener("mousemove",ge),dt(ue.attr("text")))return;const me=Number(ue.attr("text"));m=yield X(V,me,re,[U]),ue.remove(),he.remove(),L(M)});d.addEventListener("mouseup",ye)}),S.appendChild(te)}};y.forEach((M,I)=>{b[0]===I&&L(M),M.addEventListener("click",k),M.addEventListener("mouseenter",bF),M.addEventListener("mouseleave",wF)});const T=M=>{const I=M==null?void 0:M.target;(!I||I.name!==_v&&!y.includes(I))&&(b=[],_(),S.removeChildren())};return l.on("element-point:select",Q),l.on("element-point:unselect",T),d.addEventListener("mousedown",T),()=>{S.remove(),l.off("element-point:select",Q),l.off("element-point:unselect",T),d.removeEventListener("mousedown",T),y.forEach(M=>{M.removeEventListener("click",k),M.removeEventListener("mouseenter",bF),M.removeEventListener("mouseleave",wF)})}}}var EF={},kv={},Tv=34,Uc=10,Qv=13;function EH(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function N0e(e,t){var n=EH(e);return function(r,i){return t(n(r),i,e)}}function OF(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ar(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function R0e(e){return e<0?"-"+Ar(-e,6):e>9999?"+"+Ar(e,6):Ar(e,4)}function H0e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":R0e(e.getUTCFullYear())+"-"+Ar(e.getUTCMonth()+1,2)+"-"+Ar(e.getUTCDate(),2)+(i?"T"+Ar(t,2)+":"+Ar(n,2)+":"+Ar(r,2)+"."+Ar(i,3)+"Z":r?"T"+Ar(t,2)+":"+Ar(n,2)+":"+Ar(r,2)+"Z":n||t?"T"+Ar(t,2)+":"+Ar(n,2)+"Z":"")}function D0e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,f){var d,h,p=i(u,function(g,v){if(d)return d(g,v-1);h=g,d=f?N0e(g,f):EH(g)});return p.columns=h||[],p}function i(u,f){var d=[],h=u.length,p=0,g=0,v,y=h<=0,m=!1;u.charCodeAt(h-1)===Uc&&--h,u.charCodeAt(h-1)===Qv&&--h;function b(){if(y)return kv;if(m)return m=!1,EF;var B,x=p,C;if(u.charCodeAt(x)===Tv){for(;p++<h&&u.charCodeAt(p)!==Tv||u.charCodeAt(++p)===Tv;);return(B=p)>=h?y=!0:(C=u.charCodeAt(p++))===Uc?m=!0:C===Qv&&(m=!0,u.charCodeAt(p)===Uc&&++p),u.slice(x+1,B-1).replace(/""/g,'"')}for(;p<h;){if((C=u.charCodeAt(B=p++))===Uc)m=!0;else if(C===Qv)m=!0,u.charCodeAt(p)===Uc&&++p;else if(C!==n)continue;return u.slice(x,B)}return y=!0,u.slice(x,h)}for(;(v=b())!==kv;){for(var w=[];v!==EF&&v!==kv;)w.push(v),v=b();f&&(w=f(w,g++))==null||d.push(w)}return d}function a(u,f){return u.map(function(d){return f.map(function(h){return l(d[h])}).join(e)})}function o(u,f){return f==null&&(f=OF(u)),[f.map(l).join(e)].concat(a(u,f)).join(`
`)}function s(u,f){return f==null&&(f=OF(u)),a(u,f).join(`
`)}function A(u){return u.map(c).join(`
`)}function c(u){return u.map(l).join(e)}function l(u){return u==null?"":u instanceof Date?H0e(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:A,formatRow:c,formatValue:l}}function j0e(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))$0e&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const $0e=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var K0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};const OH=e=>{const{value:t,format:n=t.split(".").pop(),delimiter:r=",",autoType:i=!0}=e;return()=>K0e(void 0,void 0,void 0,function*(){const a=yield fetch(t);if(n==="csv"){const o=yield a.text();return D0e(r).parse(o,i?j0e:ws)}if(n==="json")return yield a.json();throw new Error(`Unknown format: ${n}.`)})};OH.props={};function G0e(e){return!e||Object.keys(e).length===0}const SH=e=>{const{fields:t,key:n="key",value:r="value"}=e;return i=>G0e(t)?i:i.flatMap(a=>t.map(o=>Object.assign(Object.assign({},a),{[n]:o,[r]:a[o]})))};SH.props={};function z0e(e){return e!=null&&!Number.isNaN(e)}const FH=e=>{const{callback:t=z0e}=e;return n=>n.filter(t)};FH.props={};const _H=e=>{const{callback:t}=e;return n=>Array.isArray(n)?[...n].sort(t):n};_H.props={};function V0e(e,t=[]){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}const MH=e=>{const{fields:t}=e;return n=>n.map(r=>V0e(r,t))};MH.props={};function W0e(e){return Object.keys(e).length===0}const kH=e=>t=>{if(!e||W0e(e))return t;const n=r=>Object.entries(r).reduce((i,[a,o])=>(i[e[a]||a]=o,i),{});return t.map(n)};kH.props={};function Y0e(e,t){return e.map(n=>{if(Array.isArray(n)){const[r,i=t]=n;return[r,i]}return[n,t]})}const TH=e=>{const{fields:t=[]}=e,n=Y0e(t,!0);return r=>{const i=(a,o)=>n.reduce((s,[A,c=!0])=>s!==0?s:c?a[A]<o[A]?-1:+(a[A]!==o[A]):a[A]>o[A]?-1:+(a[A]!==o[A]),0);return[...r].sort(i)}};TH.props={};const QH=e=>{const{value:t}=e;return()=>t};QH.props={};const IH=e=>{const{callback:t=ws}=e;return n=>t(n)};IH.props={};const LH=e=>{const{callback:t=ws}=e;return n=>Array.isArray(n)?n.map(t):n};LH.props={};var X0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})};function q0e(e,t){return{set(n,r,i){if(t[n]===void 0)return this;const a=r?r.call(null,t[n]):t[n];return i?i.call(null,a):typeof e[n]=="function"?e[n](a):e[n]=a,this},setAsync(n,r,i){return X0e(this,void 0,void 0,function*(){if(t[n]===void 0)return this;const a=r?yield r.call(null,t[n]):t[n];return i?i.call(null,a):typeof e[n]=="function"?e[n](a):e[n]=a,this})}}}const Iv=Math.PI/180,sl=64,Vd=2048;function Z0e(e){return e.text}function J0e(){return"serif"}function SF(){return"normal"}function eve(e){return e.value}function tve(){return~~(Math.random()*2)*90}function nve(){return 1}function rve(){}function ive(e,t,n,r){if(t.sprite)return;const i=e.context,a=e.ratio;i.clearRect(0,0,(sl<<5)/a,Vd/a);let o=0,s=0,A=0;const c=n.length;for(--r;++r<c;){t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;let f=i.measureText(t.text+"m").width*a,d=t.size<<1;if(t.rotate){const h=Math.sin(t.rotate*Iv),p=Math.cos(t.rotate*Iv),g=f*p,v=f*h,y=d*p,m=d*h;f=Math.max(Math.abs(g+m),Math.abs(g-m))+31>>5<<5,d=~~Math.max(Math.abs(v+y),Math.abs(v-y))}else f=f+31>>5<<5;if(d>A&&(A=d),o+f>=sl<<5&&(o=0,s+=A,A=0),s+d>=Vd)break;i.translate((o+(f>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*Iv),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=f,t.height=d,t.xoff=o,t.yoff=s,t.x1=f>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=f}const l=i.getImageData(0,0,(sl<<5)/a,Vd/a).data,u=[];for(;--r>=0;){if(t=n[r],!t.hasText)continue;const f=t.width,d=f>>5;let h=t.y1-t.y0;for(let v=0;v<h*d;v++)u[v]=0;if(o=t.xoff,o==null)return;s=t.yoff;let p=0,g=-1;for(let v=0;v<h;v++){for(let y=0;y<f;y++){const m=d*v+(y>>5),b=l[(s+v)*(sl<<5)+(o+y)<<2]?1<<31-y%32:0;u[m]|=b,p|=b}p?g=v:(t.y0++,h--,v--,s++)}t.y1=t.y0+g,t.sprite=u.slice(0,(t.y1-t.y0)*d)}}function ave(e,t,n){n>>=5;const r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,A=e.y1-e.y0;let c=(e.y+e.y0)*n+(a>>5),l;for(let u=0;u<A;u++){l=0;for(let f=0;f<=i;f++)if((l<<s|(f<i?(l=r[u*i+f])>>>o:0))&t[c+f])return!0;c+=n}return!1}function ove(e,t){const n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function sve(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function UH(e){const t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Ave(e){const n=4*e[0]/e[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4;break}return[r,i]}}function FF(e){const t=[];let n=-1;for(;++n<e;)t[n]=0;return t}function cve(){return document.createElement("canvas")}function fa(e){return typeof e=="function"?e:function(){return e}}const lve={archimedean:UH,rectangular:Ave};function uve(){let e=[256,256],t=Z0e,n=J0e,r=eve,i=SF,a=tve,o=nve,s=UH,A=Math.random,c=rve,l=[],u=null,f=1/0,d=cve;const h=SF,p={};p.start=function(){const[y,m]=e,b=g(d()),w=p.board?p.board:FF((e[0]>>5)*e[1]),B=l.length,x=[],C=l.map(function(_,F,k){return _.text=t.call(this,_,F,k),_.font=n.call(this,_,F,k),_.style=h.call(this,_,F,k),_.weight=i.call(this,_,F,k),_.rotate=a.call(this,_,F,k),_.size=~~r.call(this,_,F,k),_.padding=o.call(this,_,F,k),_}).sort(function(_,F){return F.size-_.size});let E=-1,O=p.board?[{x:0,y:0},{x:y,y:m}]:void 0;u&&clearInterval(u),u=setInterval(S,0),S();function S(){const _=Date.now();for(;Date.now()-_<f&&++E<B;){const F=C[E];F.x=y*(A()+.5)>>1,F.y=m*(A()+.5)>>1,ive(b,F,C,E),F.hasText&&v(w,F,O)&&(c.call(null,"word",{cloud:p,word:F}),x.push(F),O?p.hasImage||ove(O,F):O=[{x:F.x+F.x0,y:F.y+F.y0},{x:F.x+F.x1,y:F.y+F.y1}],F.x-=e[0]>>1,F.y-=e[1]>>1)}p._tags=x,p._bounds=O,E>=B&&(p.stop(),c.call(null,"end",{cloud:p,words:x,bounds:O}))}return p},p.stop=function(){return u&&(clearInterval(u),u=null),p};function g(y){y.width=y.height=1;const m=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(sl<<5)/m,y.height=Vd/m;const b=y.getContext("2d");return b.fillStyle=b.strokeStyle="red",b.textAlign="center",b.textBaseline="middle",{context:b,ratio:m}}function v(y,m,b){const w=m.x,B=m.y,x=Math.sqrt(e[0]*e[0]+e[1]*e[1]),C=s(e),E=A()<.5?1:-1;let O,S=-E,_,F;for(;(O=C(S+=E))&&(_=~~O[0],F=~~O[1],!(Math.min(Math.abs(_),Math.abs(F))>=x));)if(m.x=w+_,m.y=B+F,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!b||!ave(m,y,e[0]))&&(!b||sve(m,b))){const k=m.sprite,Q=m.width>>5,L=e[0]>>5,T=m.x-(Q<<4),M=T&127,I=32-M,U=m.y1-m.y0;let R,N=(m.y+m.y0)*L+(T>>5);for(let j=0;j<U;j++){R=0;for(let K=0;K<=Q;K++)y[N+K]|=R<<I|(K<Q?(R=k[j*Q+K])>>>M:0);N+=L}return delete m.sprite,!0}return!1}return p.createMask=y=>{const m=document.createElement("canvas"),[b,w]=e;if(!b||!w)return;const B=b>>5,x=FF((b>>5)*w);m.width=b,m.height=w;const C=m.getContext("2d");C.drawImage(y,0,0,y.width,y.height,0,0,b,w);const E=C.getImageData(0,0,b,w).data;for(let O=0;O<w;O++)for(let S=0;S<b;S++){const _=B*O+(S>>5),F=O*b+S<<2,Q=E[F]>=250&&E[F+1]>=250&&E[F+2]>=250?1<<31-S%32:0;x[_]|=Q}p.board=x,p.hasImage=!0},p.timeInterval=function(y){f=y??1/0},p.words=function(y){l=y},p.size=function(y=[]){e=[+y[0],+y[1]]},p.text=function(y){t=fa(y)},p.font=function(y){n=fa(y)},p.fontWeight=function(y){i=fa(y)},p.rotate=function(y){a=fa(y)},p.canvas=function(y){d=fa(y)},p.spiral=function(y){s=lve[y]||y},p.fontSize=function(y){r=fa(y)},p.padding=function(y){o=fa(y)},p.random=function(y){A=fa(y)},p.on=function(y){c=fa(y)},p}var fve=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(e,t||[])).next())})},dve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const hve={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function pve(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}if(typeof e=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=()=>t(r),r.onerror=()=>{console.error(`'image ${e} load failed !!!'`),n()};return}n()})}function gve(e,t){if(typeof e=="function")return e;if(Array.isArray(e)){const[n,r]=e;if(!t)return()=>(r+n)/2;const[i,a]=t;return a===i?()=>(r+n)/2:({value:o})=>(r-n)/(a-i)*(o-i)+n}return()=>e}const PH=(e,t)=>n=>fve(void 0,void 0,void 0,function*(){const r=Object.assign({},hve,e,{canvas:t.createCanvas}),i=uve();yield q0e(i,r).set("fontSize",y=>{const m=n.map(b=>b.value);return gve(y,[Or(m),ct(m)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",pve,i.createMask),i.words([...n]);const a=i.start(),[o,s]=r.size,A=[{x:0,y:0},{x:o,y:s}],{_bounds:c=A,_tags:l,hasImage:u}=a,f=l.map(y=>{var{x:m,y:b,font:w}=y,B=dve(y,["x","y","font"]);return Object.assign(Object.assign({},B),{x:m+o/2,y:b+s/2,fontFamily:w})}),[{x:d,y:h},{x:p,y:g}]=c,v={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},v),{x:u?0:d,y:u?0:h}),Object.assign(Object.assign({},v),{x:u?o:p,y:u?s:g})),f});PH.props={};function _F(e){return typeof e=="string"?t=>t[e]:e}const NH=e=>{const{join:t,on:n,select:r=[],as:i=r,unknown:a=NaN}=e,[o,s]=n,A=_F(s),c=_F(o),l=_1(t,([u])=>u,u=>A(u));return u=>u.map(f=>{const d=l.get(c(f));return Object.assign(Object.assign({},f),r.reduce((h,p,g)=>(h[i[g]]=d?d[p]:a,h),{}))})};NH.props={};const RH=e=>{const{start:t,end:n}=e;return r=>r.slice(t,n)};RH.props={};var HH={exports:{}},DH={exports:{}};(function(e){var t=e.exports;e.exports.isNumber=function(n){return typeof n=="number"},e.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.min(r,n[i]);return r},e.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.max(r,n[i]);return r},e.exports.findMinMulti=function(n){for(var r=t.findMin(n[0]),i=1;i<n.length;i++)r=Math.min(r,t.findMin(n[i]));return r},e.exports.findMaxMulti=function(n){for(var r=t.findMax(n[0]),i=1;i<n.length;i++)r=Math.max(r,t.findMax(n[i]));return r},e.exports.inside=function(n,r,i){return n<=i&&i<=r}})(DH);var vve=DH.exports;(function(e){var t=50,n=2,r=Math.log(2),i=e.exports,a=vve;function o(A){return 1-Math.abs(A)}e.exports.getUnifiedMinMax=function(A,c){return i.getUnifiedMinMaxMulti([A],c)},e.exports.getUnifiedMinMaxMulti=function(A,c){c=c||{};var l=!1,u=!1,f=a.isNumber(c.width)?c.width:n,d=a.isNumber(c.size)?c.size:t,h=a.isNumber(c.min)?c.min:(l=!0,a.findMinMulti(A)),p=a.isNumber(c.max)?c.max:(u=!0,a.findMaxMulti(A)),g=p-h,v=g/(d-1);return l&&(h=h-2*f*v),u&&(p=p+2*f*v),{min:h,max:p}},e.exports.create=function(A,c){if(c=c||{},!A||A.length===0)return[];var l=a.isNumber(c.size)?c.size:t,u=a.isNumber(c.width)?c.width:n,f=i.getUnifiedMinMax(A,{size:l,width:u,min:c.min,max:c.max}),d=f.min,h=f.max,p=h-d,g=p/(l-1);if(p===0)return[{x:d,y:1}];for(var v=[],y=0;y<l;y++)v.push({x:d+y*g,y:0});var m=function(S){return Math.floor((S-d)/g)},b=s(o,u),w=b[u],B=b[u-1]-b[u-2],x=0;A.forEach(function(S){var _=m(S);if(!(_+u<0||_-u>=v.length)){var F=Math.max(_-u,0),k=_,Q=Math.min(_+u,v.length-1),L=F-(_-u),T=_+u-Q,M=b[-u-1+L]||0,I=b[-u-1+T]||0,U=w/(w-M-I);L>0&&(x+=U*(L-1)*B);var R=Math.max(0,_-u+1);a.inside(0,v.length-1,R)&&(v[R].y+=U*1*B),a.inside(0,v.length-1,k+1)&&(v[k+1].y-=U*2*B),a.inside(0,v.length-1,Q+1)&&(v[Q+1].y+=U*1*B)}});var C=x,E=0,O=0;return v.forEach(function(S){E+=S.y,C+=E,S.y=C,O+=C}),O>0&&v.forEach(function(S){S.y/=O}),v};function s(A,c){for(var l={},u=0,f=-c;f<=c;f++)u+=A(f/c),l[f]=u;return l}e.exports.getExpectedValueFromPdf=function(A){if(!(!A||A.length===0)){var c=0;return A.forEach(function(l){c+=l.x*l.y}),c}},e.exports.getXWithLeftTailArea=function(A,c){if(!(!A||A.length===0)){for(var l=0,u=0,f=0;f<A.length&&(u=f,l+=A[f].y,!(l>=c));f++);return A[u].x}},e.exports.getPerplexity=function(A){if(!(!A||A.length===0)){var c=0;return A.forEach(function(l){var u=Math.log(l.y);isFinite(u)&&(c+=l.y*u)}),c=-c/r,Math.pow(2,c)}}})(HH);var yve=HH.exports;const mve=P1(yve),jH=e=>{const{field:t,groupBy:n,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=e,[A,c]=r;return l=>Array.from(bt(l,f=>n.map(d=>f[d]).join("-")).values()).map(f=>{const d=mve.create(f.map(g=>g[t]),{min:i,max:a,size:o,width:s}),h=d.map(g=>g.x),p=d.map(g=>g.y);return Object.assign(Object.assign({},f[0]),{[A]:h,[c]:p})})};jH.props={};function bve(e,t,n,r){r=r||{};const i=r.maxIterations||100,a=r.tolerance||1e-10,o=e(t),s=e(n);let A=n-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return t;if(s===0)return n;for(let c=0;c<i;++c){A/=2;const l=t+A,u=e(l);if(u*o>=0&&(t=l),Math.abs(A)<a||u===0)return l}return t+A}function jm(e){const t=new Array(e);for(let n=0;n<e;++n)t[n]=0;return t}function MF(e,t){return jm(e).map(()=>jm(t))}function TA(e,t){let n=0;for(let r=0;r<e.length;++r)n+=e[r]*t[r];return n}function $m(e){return Math.sqrt(TA(e,e))}function Km(e,t,n){for(let r=0;r<t.length;++r)e[r]=t[r]*n}function ba(e,t,n,r,i){for(let a=0;a<e.length;++a)e[a]=t*n[a]+r*i[a]}function wve(e,t,n){n=n||{};const r=n.maxIterations||t.length*200,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,A=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,l=n.psi!==void 0?n.psi:-.5,u=n.sigma!==void 0?n.sigma:.5;let f;const d=t.length,h=new Array(d+1);h[0]=t,h[0].fx=e(t),h[0].id=0;for(let w=0;w<d;++w){const B=t.slice();B[w]=B[w]?B[w]*i:a,h[w+1]=B,h[w+1].fx=e(B),h[w+1].id=w+1}function p(w){for(let B=0;B<w.length;B++)h[d][B]=w[B];h[d].fx=w.fx}const g=(w,B)=>w.fx-B.fx,v=t.slice(),y=t.slice(),m=t.slice(),b=t.slice();for(let w=0;w<r;++w){if(h.sort(g),n.history){const x=h.map(C=>{const E=C.slice();return E.fx=C.fx,E.id=C.id,E});x.sort((C,E)=>C.id-E.id),n.history.push({x:h[0].slice(),fx:h[0].fx,simplex:x})}f=0;for(let x=0;x<d;++x)f=Math.max(f,Math.abs(h[0][x]-h[1][x]));if(Math.abs(h[0].fx-h[d].fx)<o&&f<s)break;for(let x=0;x<d;++x){v[x]=0;for(let C=0;C<d;++C)v[x]+=h[C][x];v[x]/=d}const B=h[d];if(ba(y,1+A,v,-A,B),y.fx=e(y),y.fx<h[0].fx)ba(b,1+c,v,-c,B),b.fx=e(b),b.fx<y.fx?p(b):p(y);else if(y.fx>=h[d-1].fx){let x=!1;if(y.fx>B.fx?(ba(m,1+l,v,-l,B),m.fx=e(m),m.fx<B.fx?p(m):x=!0):(ba(m,1-l*A,v,l*A,B),m.fx=e(m),m.fx<y.fx?p(m):x=!0),x){if(u>=1)break;for(let C=1;C<h.length;++C)ba(h[C],1-u,h[0],u,h[C]),h[C].fx=e(h[C])}}else p(y)}return h.sort(g),{fx:h[0].fx,x:h[0]}}function Bve(e,t,n,r,i,a,o){const s=n.fx,A=TA(n.fxprime,t);let c=s,l=s,u=A,f=0;i=i||1,a=a||1e-6,o=o||.1;function d(h,p,g){for(let v=0;v<16;++v)if(i=(h+p)/2,ba(r.x,1,n.x,i,t),c=r.fx=e(r.x,r.fxprime),u=TA(r.fxprime,t),c>s+a*i*A||c>=g)p=i;else{if(Math.abs(u)<=-o*A)return i;u*(p-h)>=0&&(p=h),h=i,g=c}return 0}for(let h=0;h<10;++h){if(ba(r.x,1,n.x,i,t),c=r.fx=e(r.x,r.fxprime),u=TA(r.fxprime,t),c>s+a*i*A||h&&c>=l)return d(f,i,l);if(Math.abs(u)<=-o*A)return i;if(u>=0)return d(i,f,c);l=c,f=i,i*=2}return i}function xve(e,t,n){let r={x:t.slice(),fx:0,fxprime:t.slice()},i={x:t.slice(),fx:0,fxprime:t.slice()};const a=t.slice();let o,s=1;n=n||{};const A=n.maxIterations||t.length*20;r.fx=e(r.x,r.fxprime);const c=r.fxprime.slice();Km(c,r.fxprime,-1);for(let l=0;l<A;++l){if(s=Bve(e,c,r,i,s),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)Km(c,r.fxprime,-1);else{ba(a,1,i.fxprime,-1,r.fxprime);const u=TA(r.fxprime,r.fxprime),f=Math.max(0,TA(a,i.fxprime)/u);ba(c,f,c,-1,i.fxprime),o=r,r=i,i=o}if($m(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const $H=1e-10;function KH(e,t){const n=Eve(e),r=n.filter(function(A){return Cve(A,e)});let i=0,a=0,o;const s=[];if(r.length>1){const A=Ove(r);for(o=0;o<r.length;++o){const l=r[o];l.angle=Math.atan2(l.x-A.x,l.y-A.y)}r.sort(function(l,u){return u.angle-l.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const l=r[o];a+=(c.x+l.x)*(l.y-c.y);const u={x:(l.x+c.x)/2,y:(l.y+c.y)/2};let f=null;for(let d=0;d<l.parentIndex.length;++d)if(c.parentIndex.indexOf(l.parentIndex[d])>-1){const h=e[l.parentIndex[d]],p=Math.atan2(l.x-h.x,l.y-h.y),g=Math.atan2(c.x-h.x,c.y-h.y);let v=g-p;v<0&&(v+=2*Math.PI);const y=g-v/2;let m=yu(u,{x:h.x+h.radius*Math.sin(y),y:h.y+h.radius*Math.cos(y)});m>h.radius*2&&(m=h.radius*2),(f===null||f.width>m)&&(f={circle:h,width:m,p1:l,p2:c})}f!==null&&(s.push(f),i+=Gm(f.circle.radius,f.width),c=l)}}else{let A=e[0];for(o=1;o<e.length;++o)e[o].radius<A.radius&&(A=e[o]);let c=!1;for(o=0;o<e.length;++o)if(yu(e[o],A)>Math.abs(A.radius-e[o].radius)){c=!0;break}c?i=a=0:(i=A.radius*A.radius*Math.PI,s.push({circle:A,p1:{x:A.x,y:A.y+A.radius},p2:{x:A.x-$H,y:A.y+A.radius},width:A.radius*2}))}return a/=2,t&&(t.area=i+a,t.arcArea=i,t.polygonArea=a,t.arcs=s,t.innerPoints=r,t.intersectionPoints=n),i+a}function Cve(e,t){for(let n=0;n<t.length;++n)if(yu(e,t[n])>t[n].radius+$H)return!1;return!0}function Eve(e){const t=[];for(let n=0;n<e.length;++n)for(let r=n+1;r<e.length;++r){const i=zH(e[n],e[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[n,r],t.push(o)}}return t}function Gm(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function yu(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function GH(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);const r=e-(n*n-t*t+e*e)/(2*n),i=t-(n*n-e*e+t*t)/(2*n);return Gm(e,r)+Gm(t,i)}function zH(e,t){const n=yu(e,t),r=e.radius,i=t.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=e.x+a*(t.x-e.x)/n,A=e.y+a*(t.y-e.y)/n,c=-(t.y-e.y)*(o/n),l=-(t.x-e.x)*(o/n);return[{x:s+c,y:A-l},{x:s-c,y:A+l}]}function Ove(e){const t={x:0,y:0};for(let n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function Sve(e,t){t=t||{},t.maxIterations=t.maxIterations||500;const n=t.initialLayout||kve,r=t.lossFunction||NB;e=Fve(e);const i=n(e,t),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const c=wve(function(l){const u={};for(let f=0;f<o.length;++f){const d=o[f];u[d]={x:l[2*f],y:l[2*f+1],radius:i[d].radius}}return r(u,e)},a,t).x;for(let l=0;l<o.length;++l)s=o[l],i[s].x=c[2*l],i[s].y=c[2*l+1];return i}const VH=1e-10;function zm(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+VH?Math.abs(e-t):bve(function(r){return GH(e,t,r)-n},0,e+t)}function Fve(e){e=e.slice();const t=[],n={};let r,i,a,o;for(r=0;r<e.length;++r){const s=e[r];s.sets.length==1?t.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],n[[a,o]]=!0,n[[o,a]]=!0)}for(t.sort((s,A)=>s>A?1:-1),r=0;r<t.length;++r)for(a=t[r],i=r+1;i<t.length;++i)o=t[i],[a,o]in n||e.push({sets:[a,o],size:0});return e}function _ve(e,t,n){const r=MF(t.length,t.length),i=MF(t.length,t.length);return e.filter(function(a){return a.sets.length==2}).map(function(a){const o=n[a.sets[0]],s=n[a.sets[1]],A=Math.sqrt(t[o].size/Math.PI),c=Math.sqrt(t[s].size/Math.PI),l=zm(A,c,a.size);r[o][s]=r[s][o]=l;let u=0;a.size+1e-10>=Math.min(t[o].size,t[s].size)?u=1:a.size<=1e-10&&(u=-1),i[o][s]=i[s][o]=u}),{distances:r,constraints:i}}function Mve(e,t,n,r){let i=0,a;for(a=0;a<t.length;++a)t[a]=0;for(a=0;a<n.length;++a){const o=e[2*a],s=e[2*a+1];for(let A=a+1;A<n.length;++A){const c=e[2*A],l=e[2*A+1],u=n[a][A],f=r[a][A],d=(c-o)*(c-o)+(l-s)*(l-s),h=Math.sqrt(d),p=d-u*u;f>0&&h<=u||f<0&&h>=u||(i+=2*p*p,t[2*a]+=4*p*(o-c),t[2*a+1]+=4*p*(s-l),t[2*A]+=4*p*(c-o),t[2*A+1]+=4*p*(l-s))}}return i}function kve(e,t){let n=Qve(e,t);const r=t.lossFunction||NB;if(e.length>=8){const i=Tve(e,t),a=r(i,e),o=r(n,e);a+1e-8<o&&(n=i)}return n}function Tve(e,t){t=t||{};const n=t.restarts||10,r=[],i={};let a;for(a=0;a<e.length;++a){const p=e[a];p.sets.length==1&&(i[p.sets[0]]=r.length,r.push(p))}const o=_ve(e,r,i);let s=o.distances;const A=o.constraints,c=$m(s.map($m))/s.length;s=s.map(function(p){return p.map(function(g){return g/c})});const l=function(p,g){return Mve(p,g,s,A)};let u,f;for(a=0;a<n;++a){const p=jm(s.length*2).map(Math.random);f=xve(l,p,t),(!u||f.fx<u.fx)&&(u=f)}const d=u.x,h={};for(a=0;a<r.length;++a){const p=r[a];h[p.sets[0]]={x:d[2*a]*c,y:d[2*a+1]*c,radius:Math.sqrt(p.size/Math.PI)}}if(t.history)for(a=0;a<t.history.length;++a)Km(t.history[a].x,c);return h}function Qve(e,t){const n=t&&t.lossFunction?t.lossFunction:NB,r={},i={};let a;for(let u=0;u<e.length;++u){const f=e[u];f.sets.length==1&&(a=f.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:f.size,radius:Math.sqrt(f.size/Math.PI)},i[a]=[])}e=e.filter(function(u){return u.sets.length==2});for(let u=0;u<e.length;++u){const f=e[u];let d=f.hasOwnProperty("weight")?f.weight:1;const h=f.sets[0],p=f.sets[1];f.size+VH>=Math.min(r[h].size,r[p].size)&&(d=0),i[h].push({set:p,size:f.size,weight:d}),i[p].push({set:h,size:f.size,weight:d})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let u=0;for(let f=0;f<i[a].length;++f)u+=i[a][f].size*i[a][f].weight;o.push({set:a,size:u})}function s(u,f){return f.size-u.size}o.sort(s);const A={};function c(u){return u.set in A}function l(u,f){r[f].x=u.x,r[f].y=u.y,A[f]=!0}l({x:0,y:0},o[0].set);for(let u=1;u<o.length;++u){const f=o[u].set,d=i[f].filter(c);if(a=r[f],d.sort(s),d.length===0)throw"ERROR: missing pairwise overlap information";const h=[];for(let v=0;v<d.length;++v){const y=r[d[v].set],m=zm(a.radius,y.radius,d[v].size);h.push({x:y.x+m,y:y.y}),h.push({x:y.x-m,y:y.y}),h.push({y:y.y+m,x:y.x}),h.push({y:y.y-m,x:y.x});for(let b=v+1;b<d.length;++b){const w=r[d[b].set],B=zm(a.radius,w.radius,d[b].size),x=zH({x:y.x,y:y.y,radius:m},{x:w.x,y:w.y,radius:B});for(let C=0;C<x.length;++C)h.push(x[C])}}let p=1e50,g=h[0];for(let v=0;v<h.length;++v){r[f].x=h[v].x,r[f].y=h[v].y;const y=n(r,e);y<p&&(p=y,g=h[v])}l(g,f)}return r}function NB(e,t){let n=0;function r(i){return i.map(function(a){return e[a]})}for(let i=0;i<t.length;++i){const a=t[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const A=e[a.sets[0]],c=e[a.sets[1]];o=GH(A.radius,c.radius,yu(A,c))}else o=KH(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;n+=s*(o-a.size)*(o-a.size)}return n}function Ive(e){const t=function(n){const r=Math.max.apply(null,e.map(function(a){return a[n]+a.radius})),i=Math.min.apply(null,e.map(function(a){return a[n]-a.radius}));return{max:r,min:i}};return{xRange:t("x"),yRange:t("y")}}function Lve(e,t,n,r){const i=[],a=[];for(const p in e)e.hasOwnProperty(p)&&(a.push(p),i.push(e[p]));t-=2*r,n-=2*r;const o=Ive(i),s=o.xRange,A=o.yRange;if(s.max==s.min||A.max==A.min)return console.log("not scaling solution: zero size detected"),e;const c=t/(s.max-s.min),l=n/(A.max-A.min),u=Math.min(l,c),f=(t-(s.max-s.min)*u)/2,d=(n-(A.max-A.min)*u)/2,h={};for(let p=0;p<i.length;++p){const g=i[p];h[a[p]]={radius:u*g.radius,x:r+f+(g.x-s.min)*u,y:r+d+(g.y-A.min)*u}}return h}function Uve(e,t,n){const r=[],i=e-n,a=t;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}function Pve(e){const t={};KH(e,t);const n=t.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return Uve(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let i=0;i<n.length;++i){const a=n[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const WH=e=>{const{sets:t="sets",size:n="size",as:r=["key","path"],padding:i=0}=e,[a,o]=r;return s=>{const A=s.map(u=>Object.assign(Object.assign({},u),{sets:u[t],size:u[n],[a]:u.sets.join("&")}));A.sort((u,f)=>u.sets.length-f.sets.length);const c=Sve(A);let l;return A.map(u=>{const f=u[t],d=({width:h,height:p})=>{l=l||Lve(c,h,p,i);const g=f.map(y=>l[y]);let v=Pve(g);return/[zZ]$/.test(v)||(v+=" Z"),v};return Object.assign(Object.assign({},u),{[o]:d})})}};WH.props={};const YH=()=>e=>(console.log("G2 data section:",e),e);YH.props={};function Nve(e,t){if(t<0||t>1)throw new Error("alpha must be between 0 and 1.");if(e.length===0)return[];let n=e[0];const r=[];for(const i of e){if(i==null){r.push(i),console.warn("EMAThe value is null or undefined",e);continue}n==null&&(n=i);const a=n*t+(1-t)*i;r.push(a),n=a}return r}const XH=e=>{const{field:t="y",alpha:n=.6,as:r=t}=e;return i=>{const a=i.map(s=>s[t]),o=Nve(a,n);return i.map((s,A)=>Object.assign(Object.assign({},s),{[r]:o[A]}))}};XH.props={};const qH=.01;function mu(e){const{min:t,max:n}=e;return[[t[0],t[1]],[n[0],n[1]]]}function kF(e,t,n=qH){const[r,i]=e,[a,o]=t;return r>=a[0]-n&&r<=o[0]+n&&i>=a[1]-n&&i<=o[1]+n}function ZH(e,t,n=qH){const[r,i]=e;return!(kF(r,t,n)&&kF(i,t,n))}function Rve(e,t){const[n,r]=e,[i,a]=t;return n[0]<a[0]&&r[0]>i[0]&&n[1]<a[1]&&r[1]>i[1]}const Hve=e=>{const{priority:t}=e;return n=>{const r=[];return t&&n.sort(t),n.forEach(i=>{Dg(i);const a=i.getLocalBounds();r.some(s=>Rve(mu(a),mu(s.getLocalBounds())))?bB(i):r.push(i)}),n}};function Dve([e,t],[n,r]){return r>e&&t>n}function Ed(){const e=new Map;return[r=>e.get(r),(r,i)=>e.set(r,i)]}function jve(e){const t=e.cloneNode(!0),n=t.getElementById("connector");n&&t.removeChild(n);const{min:r,max:i}=t.getRenderBounds();return t.destroy(),{min:r,max:i}}const $ve=e=>{const{maxIterations:t=10,maxError:n=.1,padding:r=1}=e;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=Ed(),[A,c]=Ed(),[l,u]=Ed(),[f,d]=Ed();for(const h of i){const{min:p,max:g}=jve(h),[v,y]=p,[m,b]=g;s(h,y),c(h,y),u(h,b-y),d(h,[v,m])}for(let h=0;h<t;h++){i.sort((g,v)=>zt(A(g),A(v)));let p=0;for(let g=0;g<a-1;g++){const v=i[g];let y=g+1,m;for(;(m=i[y])&&!Dve(f(v),f(m));)y+=1;if(m){const b=A(v),w=l(v),B=A(m),x=B-(b+w);if(x<r){const C=(r-x)/2;p=Math.max(p,C),c(v,b-C),c(m,B+C)}}}if(p<n)break}for(const h of i)h.style.y+=A(h)-o(h);return i}};function JH(e){return typeof e=="object"?e:uo(e)}function Lv(e){let t=e/255;return t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),t}function TF(e,t,n){return .2126*Lv(e)+.7152*Lv(t)+.0722*Lv(n)}function e3(e,t){if(!e||!t||e===t)return 1;const{r:n,g:r,b:i}=e,{r:a,g:o,b:s}=t,A=TF(n,r,i),c=TF(a,o,s);return(Math.max(A,c)+.05)/(Math.min(A,c)+.05)}function t3(e,t){const n=ac(t,r=>e3(e,JH(r)));return t[n]}const Kve=e=>{const{threshold:t=4.5,palette:n=["#000","#fff"]}=e;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;e3(o,a)<t&&i.attr("fill",t3(a,n))}),r)},Gve=()=>e=>(e.forEach(t=>{Dg(t);const n=t.attr("bounds"),r=t.getLocalBounds();ZH(mu(r),n)&&bB(t)}),e),zve=(e,t)=>{const[[n,r],[i,a]]=t,[[o,s],[A,c]]=e;let l=0,u=0;return o<n?l=n-o:A>i&&(l=i-A),s<r?u=r-s:c>a&&(u=a-c),[l,u]},Vve=(e,t)=>!e||!e.min||!e.max?!t||!t.min||!t.max?{min:[0,0],max:[0,0]}:t:!t||!t.min||!t.max?e:{min:[Math.min(e.min[0],t.min[0]),Math.min(e.min[1],t.min[1])],max:[Math.max(e.max[0],t.max[0]),Math.max(e.max[1],t.max[1])]},Wve=(e={})=>(t,{canvas:n,layout:r})=>{const{bounds:i="view",offsetX:a=0,offsetY:o=0}=e,A=(()=>{if(i==="main"){const{x:c=0,y:l=0,width:u=0,height:f=0,marginLeft:d=0,marginRight:h=0,marginTop:p=0,marginBottom:g=0,paddingLeft:v=0,paddingRight:y=0,paddingTop:m=0,paddingBottom:b=0}=r;return[[c+d+v+a,l+p+m+o],[c+u-h-y-a,l+f-g-b-o]]}else{const{x:c=0,y:l=0,width:u=0,height:f=0}=r;return[[c+a,l+o],[c+u-a,l+f-o]]}})();return t.forEach(c=>{Dg(c);const{max:l,min:u}=Vve(c.getRenderBounds(),c.getBounds());if(!l||!u||l[0]===0&&l[1]===0&&u[0]===0&&u[1]===0)return;const[f,d]=l,[h,p]=u,g=zve([[h,p],[f,d]],A);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=g[0],c.style.connectorPoints[0][1]-=g[1]),c.style.x+=g[0],c.style.y+=g[1]}),t};function QF(e){var t;const n=e.getAnimations();if(!n||n.length===0)return gu(e);const r=e.cloneNode(!0);r.style.visibility="hidden",n.forEach(a=>{const o=a.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(t=e.parentNode)===null||t===void 0||t.appendChild(r);const i=gu(r);return r.destroy(),i}const Yve=e=>{const{palette:t=["#000","#fff"],threshold:n=2}=e;return r=>(r.forEach(i=>{var a,o;const s=i.attr("dependentElement"),A=(o=(a=i.attributes.fill)!==null&&a!==void 0?a:i.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=mu(QF(i)),l=mu(QF(s));if(ZH(c,l,n)){const u=t3(JH(A),t);i.attr("stroke",u)}else i.removeAttribute("stroke")}),r)};function Xve(){return{"data.fetch":OH,"data.inline":QH,"data.sortBy":TH,"data.sort":_H,"data.filter":FH,"data.pick":MH,"data.rename":kH,"data.fold":SH,"data.slice":RH,"data.custom":IH,"data.map":LH,"data.join":NH,"data.kde":jH,"data.log":YH,"data.wordCloud":PH,"data.ema":XH,"transform.stackY":Mk,"transform.binX":oT,"transform.bin":Y1,"transform.dodgeX":Hk,"transform.jitter":$k,"transform.jitterX":Kk,"transform.jitterY":Gk,"transform.symmetryY":zk,"transform.diffY":Vk,"transform.stackEnter":Dk,"transform.normalizeY":jk,"transform.select":Kp,"transform.selectX":Wk,"transform.selectY":Yk,"transform.groupX":Xk,"transform.groupY":qk,"transform.groupColor":Zk,"transform.group":Qu,"transform.sortX":Jk,"transform.sortY":tT,"transform.sortColor":eT,"transform.flexX":nT,"transform.pack":aT,"transform.sample":sT,"transform.filter":AT,"coordinate.cartesian":z_,"coordinate.polar":Bu,"coordinate.transpose":g1,"coordinate.theta":Y_,"coordinate.parallel":y1,"coordinate.fisheye":q_,"coordinate.radial":v1,"coordinate.radar":Z_,"coordinate.helix":W_,"encode.constant":J_,"encode.field":tM,"encode.transform":eM,"encode.column":nM,"mark.interval":MU,"mark.rect":kU,"mark.line":TU,"mark.point":QU,"mark.text":IU,"mark.cell":LU,"mark.area":UU,"mark.link":xw,"mark.image":PU,"mark.polygon":NU,"mark.box":RU,"mark.vector":HU,"mark.lineX":jU,"mark.lineY":DU,"mark.connector":$U,"mark.range":KU,"mark.rangeX":GU,"mark.rangeY":zU,"mark.path":qU,"mark.shape":dP,"mark.density":_P,"mark.heatmap":MP,"mark.wordCloud":Mw,"mark.beeswarm":TP,"palette.category10":LP,"palette.category20":UP,"scale.linear":NP,"scale.ordinal":RP,"scale.band":PP,"scale.identity":HP,"scale.point":DP,"scale.time":jP,"scale.log":$P,"scale.pow":KP,"scale.sqrt":WP,"scale.threshold":GP,"scale.quantile":zP,"scale.quantize":VP,"scale.sequential":YP,"scale.constant":XP,"theme.classic":qP,"theme.classicDark":JP,"theme.academy":e4,"theme.light":Lw,"theme.dark":ZP,"component.axisX":u4,"component.axisY":f4,"component.legendCategory":EB,"component.legendContinuous":Io,"component.legends":$R,"component.title":NR,"component.sliderX":RR,"component.sliderY":HR,"component.scrollbarX":DR,"component.scrollbarY":jR,"animation.scaleInX":SB,"animation.scaleOutX":Xpe,"animation.scaleInY":KR,"animation.scaleOutY":qpe,"animation.waveIn":YR,"animation.fadeIn":GR,"animation.fadeOut":zR,"animation.zoomIn":Age,"animation.zoomOut":cge,"animation.pathIn":XR,"animation.morphing":WR,"animation.growInX":qR,"animation.growInY":ZR,"interaction.elementHighlight":$g,"interaction.elementHighlightByX":JR,"interaction.elementHighlightByColor":eH,"interaction.elementHoverScale":tH,"interaction.elementSelect":Kg,"interaction.elementSelectByX":nH,"interaction.elementSelectByColor":rH,"interaction.fisheye":wge,"interaction.chartIndex":iH,"interaction.tooltip":dH,"interaction.legendFilter":Epe,"interaction.legendHighlight":Lge,"interaction.brushHighlight":Gg,"interaction.brushXHighlight":Dge,"interaction.brushYHighlight":jge,"interaction.brushAxisHighlight":qge,"interaction.brushFilter":UB,"interaction.brushXFilter":t0e,"interaction.brushYFilter":n0e,"interaction.sliderFilter":BH,"interaction.sliderWheel":xH,"interaction.scrollbarFilter":y0e,"interaction.poptip":CH,"interaction.treemapDrillDown":O0e,"interaction.drillDown":k0e,"interaction.elementPointMove":P0e,"composition.spaceLayer":U4,"composition.spaceFlex":P4,"composition.facetRect":j4,"composition.repeatMatrix":Zce,"composition.facetCircle":ile,"composition.timingKeyframe":$4,"labelTransform.overlapHide":Hve,"labelTransform.overlapDodgeY":$ve,"labelTransform.overflowHide":Gve,"labelTransform.contrastReverse":Kve,"labelTransform.overflowStroke":Yve,"labelTransform.exceedAdjust":Wve}}function qve(){return{"composition.geoView":yN,"composition.geoPath":K4}}function Zve(){return{"data.arc":Ew,"data.cluster":EP,"mark.forceGraph":xP,"mark.tree":SP,"mark.pack":cP,"mark.sankey":YU,"mark.chord":XU,"mark.treemap":AP,"mark.partition":IP}}function Jve(){return{"data.venn":WH,"mark.boxplot":fP,"mark.gauge":FP,"mark.wordCloud":Mw,"mark.liquid":kP}}function eye(){return Object.assign(Object.assign(Object.assign(Object.assign({},qve()),Zve()),Jve()),Xve())}function tye(e,t){class n extends e{constructor(i){super(Object.assign(Object.assign({},i),{lib:t}))}}return n}const nye={},iA=e=>e?parseInt(e):0;function rye(e){const t=getComputedStyle(e),n=e.clientWidth||iA(t.width),r=e.clientHeight||iA(t.height),i=iA(t.paddingLeft)+iA(t.paddingRight),a=iA(t.paddingTop)+iA(t.paddingBottom);return{width:n-i,height:r-a}}function Uv(e,t){const n=[e];for(;n.length;){const r=n.shift();t&&t(r);const i=r.children||[];for(const a of i)n.push(a)}}let RB=class{constructor(t={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=t}map(t=n=>n){const n=t(this.value);return this.value=n,this}attr(t,n){return arguments.length===1?this.value[t]:this.map(r=>(r[t]=n,r))}append(t){const n=new t({});return n.children=[],this.push(n),n}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:n}=t,r=n.findIndex(i=>i===this);n.splice(r,1)}return this}getNodeByKey(t){let n=null;return Uv(this,i=>{t===i.attr("key")&&(n=i)}),n}getNodesByType(t){const n=[];return Uv(this,i=>{t===i.type&&n.push(i)}),n}getNodeByType(t){let n=null;return Uv(this,r=>{n||t===r.type&&(n=r)}),n}call(t,...n){return t(this.map(),...n),this}getRoot(){let t=this;for(;t&&t.parentNode;)t=t.parentNode;return t}};var n3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Vm=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],r3="__remove__",i3="__callback__",IF=1,LF=1;function iye(e){if(e===void 0){const t=document.createElement("div");return t[r3]=!0,t}return typeof e=="string"?document.getElementById(e):e}function aye(e){const t=e.parentNode;t&&t.removeChild(e)}function oye(e){if(e.type!==null)return e;const t=e.children[e.children.length-1];for(const n of Vm)t.attr(n,e.attr(n));return t}function UF(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function Pv(e,t){const{width:n,height:r,autoFit:i,depth:a=0}=e;let o=640,s=480;if(i){const{width:A,height:c}=rye(t);o=A||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(Et(o)?o:IF,IF),height:Math.max(Et(s)?s:LF,LF),depth:a}}function sye(e){const t=oye(e),n=[t],r=new Map;for(r.set(t,UF(t));n.length;){const i=n.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===i3)a.children=s.value;else{const A=UF(s),{children:c=[]}=a;c.push(A),n.push(s),r.set(s,A),a.children=c}}return r.get(t)}function Aye(e,t){return typeof e=="function"?!0:new Set(Object.keys(t)).has(e)}function cye(e,t){return typeof e!="function"&&new Set(Object.keys(t)).has(e)}function lye(e,t,n,r,i){const{type:a}=e,{type:o=n||a}=t;if(cye(o,i)){for(const s of Vm)e.attr(s)!==void 0&&t[s]===void 0&&(t[s]=e.attr(s));return t}if(Aye(o,r)){const s={type:"view"},A=Object.assign({},t);for(const c of Vm)A[c]!==void 0&&(s[c]=A[c],delete A[c]);return Object.assign(Object.assign({},s),{children:[A]})}return t}function uye(e,t,n){if(typeof e=="function")return t.mark;const i=Object.assign(Object.assign({},t),n)[e];if(!i)throw new Error(`Unknown mark: ${e}.`);return i}function fye(e,t,n){if(typeof e=="function"){const A=new RB;return A.value=e,A.type=i3,A}const{type:r,children:i}=e,a=n3(e,["type","children"]),o=uye(r,t,n),s=new o;return s.value=a,s.type=r,s}function dye(e,t){const{type:n,children:r}=t,i=n3(t,["type","children"]);e.type===n||n===void 0?xk(e.value,i):typeof n=="string"&&(e.type=n,e.value=i)}function hye(e,t,n,r){if(!e)return;const i=[[e,t]];for(;i.length;){const[a,o]=i.shift(),s=fye(o,n,r);Array.isArray(a.children)&&a.push(s);const{children:A}=o;if(Array.isArray(A))for(const c of A)i.push([s,c]);else typeof A=="function"&&i.push([s,A])}}function pye(e,t,n,r,i){const a=lye(e,t,n,r,i),o=[[null,e,a]];for(;o.length;){const[s,A,c]=o.shift();if(!A)hye(s,c,r,i);else if(!c)A.remove();else{dye(A,c);const{children:l}=c,{children:u}=A;if(Array.isArray(l)&&Array.isArray(u)){const f=Math.max(l.length,u.length);for(let d=0;d<f;d++){const h=l[d],p=u[d];o.push([A,p,h])}}else typeof l=="function"&&o.push([A,null,l])}}}function gye(){let e,t;return[new Promise((r,i)=>{t=r,e=i}),t,e]}function vye(e,t,{key:n=t}){e.prototype[t]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function yye(e,t,{key:n=t}){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const i=[...this.attr(n)||[],r];return this.attr(n,i)}}function mye(e,t,{key:n=t}){e.prototype[t]=function(r,i){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const a=this.attr(n)||{};return a[r]=arguments.length===1?!0:i,this.attr(n,a)}}function bye(e,t,n){e.prototype[t]=function(r){if(arguments.length===0)return this.attr(t);if(Array.isArray(r))return this.attr(t,{items:r});if(DA(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(t,r);if(r===null||r===!1)return this.attr(t,r);const i=this.attr(t)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(t,i)}}function wye(e,t,{ctor:n}){e.prototype[t]=function(r){const i=this.append(n);return t==="mark"&&(i.type=r),i}}function Bye(e,t,{ctor:n}){e.prototype[t]=function(){return this.type=null,this.append(n)}}function Bp(e){return t=>{for(const[n,r]of Object.entries(e)){const{type:i}=r;i==="value"?vye(t,n,r):i==="array"?yye(t,n,r):i==="object"?mye(t,n,r):i==="node"?wye(t,n,r):i==="container"?Bye(t,n,r):i==="mix"&&bye(t,n)}return t}}function PF(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{type:"node",ctor:n}]))}const a3={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},xye=Object.assign(Object.assign({},a3),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),Cye=Object.assign(Object.assign({},a3),{labelTransform:{type:"array"}});var Eye=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let xp=class extends RB{changeData(t){var n;const r=this.getRoot();if(r)return this.attr("data",t),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(i=>{i.attr("data",t)}),r==null?void 0:r.render()}getView(){const t=this.getRoot(),{views:n}=t.getContext();if(n!=null&&n.length)return n.find(r=>r.key===this._key)}getScale(){var t;return(t=this.getView())===null||t===void 0?void 0:t.scale}getScaleByChannel(t){const n=this.getScale();if(n)return n[t]}getCoordinate(){var t;return(t=this.getView())===null||t===void 0?void 0:t.coordinate}getTheme(){var t;return(t=this.getView())===null||t===void 0?void 0:t.theme}getGroup(){const t=this._key;return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}show(){const t=this.getGroup();t&&!t.isVisible()&&Dg(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&bB(t)}};xp=Eye([Bp(Cye)],xp);var Oye=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let Wm=class extends RB{changeData(t){const n=this.getRoot();if(n)return this.attr("data",t),n==null?void 0:n.render()}getMark(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(!n)return;const{markState:r}=n,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var t;const n=(t=this.getRoot())===null||t===void 0?void 0:t.getView();if(n)return n==null?void 0:n.scale}getScaleByChannel(t){var n,r;const i=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(i)return(r=i==null?void 0:i.scale)===null||r===void 0?void 0:r[t]}getGroup(){const t=this.attr("key");return t?this.getRoot().getContext().canvas.getRoot().getElementById(t):void 0}};Wm=Oye([Bp(xye)],Wm);var Sye=function(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _ye="G2_CHART_KEY";class Mye extends xp{constructor(t){const{container:n,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=t,A=Fye(t,["container","canvas","renderer","plugins","lib","createCanvas"]);super(A,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=AM(()=>{this.forceFit()},300),this._renderer=i||new m4,this._plugins=a||[],this._container=iye(n),this._emitter=new B4,this._context={library:Object.assign(Object.assign({},o),nye),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise((a,o)=>Zhe(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[n,r,i]=gye();return t.then(r).then(()=>{if(this._trailingClear){const a=this.options();this._trailingClear(),this._trailing&&this.options(a)}}).catch(i).then(()=>{this._trailingClear=null,this._renderTrailing()}),n}options(t){if(arguments.length===0)return sye(this);const{type:n}=t;return n&&(this._previousDefinedType=n),pye(this,t,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(t,n,r){return this._emitter.on(t,n,r),this}once(t,n){return this._emitter.once(t,n),this}emit(t,...n){return this._emitter.emit(t,...n),this}off(t,n){return this._emitter.off(t,n),this}clear(t=!0){if(this._rendering){this._trailingClear=()=>{this.clear(t)},this._reset();return}const n=this.options();this.emit(ht.BEFORE_CLEAR),this._reset(),tF(n,this._context,!1,t),this.emit(ht.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(ht.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),tF(t,this._context,!0),this._container[r3]&&aye(this._container),this.emit(ht.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:t,height:n}=Pv(this.options(),this._container);if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(ht.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(ht.AFTER_CHANGE_SIZE)}),r}changeSize(t,n){if(t===this._width&&n===this._height)return Promise.resolve(this);this.emit(ht.BEFORE_CHANGE_SIZE),this.attr("width",t),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(ht.AFTER_CHANGE_SIZE)}),r}getDataByXY(t,n={}){const{shared:r=!1,series:i,facet:a=!1,startX:o=0,startY:s=0}=n,{canvas:A,views:c}=this._context,{document:l}=A,{x:u,y:f}=t,{coordinate:d,scale:h,markState:p,data:g,key:v}=c[0],y=l.getElementsByClassName(Mi),m=r?S=>S.__data__.x:S=>S,b=bt(y,m),w=l.getElementsByClassName(Kh)[0],B=ei(w),x=S=>Array.from(S.values()).some(_=>{var F,k;return((F=_.interaction)===null||F===void 0?void 0:F.seriesTooltip)||((k=_.channels)===null||k===void 0?void 0:k.some(Q=>Q.name==="series"&&Q.values!==void 0))}),C=Ei(i,x(p)),E=S=>We(S,"__data__.data",null),O=S=>S.map(E);try{if(C&&x(p)&&!a){const{selectedData:k}=fH({root:B,event:{offsetX:u,offsetY:f},elements:y,coordinate:d,scale:h,startX:o,startY:s}),Q=g.get(`${v}-0`);return k.map(({index:L})=>Q[L])}const S=uH({root:B,event:{offsetX:u,offsetY:f},elements:y,coordinate:d,scale:h,shared:r});if(Np(S))return D1(S,g.get(v));const _=m(S),F=b.get(_);return F?O(F):[]}catch{const _=A.document.elementFromPointSync(u,f);return _?E(_):[]}}_create(){const{library:t}=this._context,n=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(t).filter(n)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends Wm{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(A){const c=this.append(s);return o==="mark"&&(c.type=A),c}}const i=["composition.view",...Object.keys(t).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends xp{constructor(){super({},o)}};return s=Sye([Bp(PF(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))Bp(PF(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const t=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||t.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)}).catch(t=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(t)}))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return n=>{this._rendering=!1,t(n)}}_computedOptions(){const t=this.options(),{key:n=_ye}=t,{width:r,height:i,depth:a}=Pv(t,this._container);return this._width=r,this._height=i,this._key=n,Object.assign(Object.assign({key:this._key},t),{width:r,height:i,depth:a})}_createCanvas(){var t,n;const{width:r,height:i}=Pv(this.options(),this._container);this._plugins.push(new w4),this._plugins.forEach(o=>this._renderer.registerPlugin(o)),this._context.canvas=new mQ({container:this._container,width:r,height:i,renderer:this._renderer});const a=(n=(t=this._context.canvas)===null||t===void 0?void 0:t.getContextService())===null||n===void 0?void 0:n.getDomElement();a&&(a.style.display="block")}_addToTrailing(){var t;return(t=this._trailingResolve)===null||t===void 0||t.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const t=this.options(),{autoFit:n}=t;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const kye=Object.assign({},eye()),Tye=tye(Mye,kye),Qye={id:"chart",style:{width:"100%"}},Iye=v_({__name:"StatsChart",setup(e){return w_(()=>{const t=[{month:"Jan",value:10},{month:"Feb",value:22},{month:"Mar",value:18},{month:"Apr",value:35},{month:"May",value:28}],n=new Tye({container:"chart",autoFit:!0,height:260});n.interval().data(t).encode("x","month").encode("y","value"),n.render()}),(t,n)=>(d1(),H_("div",Qye))}}),Lye={style:{"max-width":"980px",margin:"40px auto",padding:"0 20px"}},Uye={style:{"margin-top":"30px"}},Pye="DJ USB Backup",Nye="your set, ready any time, anywhere. yes. military grade security.",Rye="Join Waitlist",Hye="service",Dye="minimal and military grade",jye="clean minimal",$ye="none",Kye=v_({__name:"Landing",setup(e){return(t,n)=>(d1(),H_("main",Lye,[Si("header",{style:{display:"flex","justify-content":"space-between","align-items":"flex-start",gap:"24px"}},[Si("div",null,[Si("h1",{style:{margin:"0"}},Ha(Pye)),Si("p",{style:{margin:"10px 0 0",opacity:".75"}},Ha(Nye)),Si("p",{style:{margin:"10px 0 0",opacity:".6","font-size":"14px"}}," Offer: "+Ha(Hye)+"  Tone: "+Ha(Dye)+"  Chart: "+Ha(jye)+"  Modal: "+Ha($ye))]),Si("button",{style:{height:"40px",padding:"0 16px",cursor:"pointer"}},Ha(Rye))]),Si("section",Uye,[n[0]||(n[0]=Si("h2",{style:{margin:"0 0 10px"}},"Live metrics",-1)),Ba(Iye)])]))}}),Gye={__name:"App",setup(e){return(t,n)=>(d1(),KD(Kye))}};F5(Gye).mount("#app");
